<!DOCTYPE html>
<!-- saved from url=(0133)https://flourish-user-templates.com/54762/rwgRxxHhBXSFAXus7NWEQOROtqbmCGqKLqEGbURCODNTlwXEAqM2aftICi4GzXwB/?environment=editor&auto=1 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="stylesheet" type="text/css" href="./style.css">
	<title>Flourish template: Bar chart race</title><style id="flourish-page-styles" type="text/css">html { 
 font-size:62.5%; 
 -webkit-font-smoothing: antialiased; 
 -moz-osx-font-smoothing: auto; } 


@media(min-width: 380px) {
html { font-size:75%; }
}

@media(min-width: 580px) {
html { font-size:87.5%; }
}

@media(min-width: 1080px) {
html { font-size:100%; }
}

@media(min-width: 1280px) {
html { font-size:120%; }
}

</style><style type="text/css">.flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }</style><style class="fl-ui-styles-controls">.fl-control.hidden {
	display: none;
}

.fl-control {
	vertical-align: middle;
	position: relative;
	font-size: 1rem;
	font-weight: bold;
}

.fl-controls-title {
	font-size: 1rem;
	font-weight: bold;
	vertical-align: middle;
}

.fl-control.fl-control .button {
	height: 2rem;
	padding: 0 0.5em;
}

.fl-control-dropdown select {
	height: 2rem;
	font-size: 1rem;
	font-weight: bold;
	padding: 0 0.2rem;
}

.fl-control-slider .slider-end-labels {
	font-size: 1rem;
	font-weight: bold;
}

.fl-control-slider {
	height: 2rem;
}

</style><style class="fl-ui-styles-button">.fl-control-buttons.fl-control.hidden {
	display: none;
}

.fl-control-buttons.fl-control .button {
	overflow: hidden;
	white-space: nowrap;
	margin: 0 2px 0 0 !important;
	background-color: #ffffff;
	color: #333333;
	border: 1px solid rgba(51, 51, 51, 0.25);
	border-radius: 3px;
}

.fl-control-buttons.fl-control .button:hover {
	background-color: #ffffff;
	color: #333333;
}

.fl-control-buttons.fl-control .button.selected {
	background-color: #333333;
	color: #ffffff;
}

.fl-control-buttons.grouped.fl-control .button {
	border-right: none;
	border-radius: 0;
	margin: 0;
}

.fl-control-buttons.grouped.fl-control .button:first-child {
	border-radius: 3px 0 0 3px;
}

.fl-control-buttons.grouped.fl-control .button:last-child {
	border-radius: 0 3px 3px 0;
	border-right: 1px solid rgba(51, 51, 51, 0.25);
}

.fl-control-buttons.grouped.fl-control.fixed-width:not(.hidden) {
	width: undefined%;
}

</style><style id="legend-styles" type="text/css">.fl-legend-container.interactive .fl-legend-item:hover {
	opacity: 0.75;
	cursor: pointer;
}

</style><link rel="stylesheet" href="./canva-sans.css" class="layout-font"></head>
	<body class="fl-fonts-loaded" dir="ltr" style="font-family: &quot;Canva Sans Variable&quot;; background-color: rgb(255, 255, 255); background-size: cover; background-repeat: no-repeat; background-position: center center;">
	

<script>window.Flourish = {"static_prefix":"static","environment":"editor","is_read_only":false};</script><script>var template=function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r=function(t){return t&&t.Math===Math&&t},i=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||r("object"==typeof e&&e)||function(){return this}()||Function("return this")(),a=i,o=function(t){try{return!!t()}catch(t){return!0}},s=!o((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),l=s,c=Function.prototype,u=c.call,f=l&&c.bind.bind(u,u),d=l?f:function(t){return function(){return u.apply(t,arguments)}},h=function(t){return null==t},p=h,g=TypeError,_=function(t){if(p(t))throw new g("Can't call method on "+t);return t},b=_,m=Object,y=function(t){return m(b(t))},v=d({}.hasOwnProperty),w=Object.hasOwn||function(t,e){return v(y(t),e)},x={},M={exports:{}},k=i,T=Object.defineProperty,C=i,A=function(t,e){try{T(k,t,{value:e,configurable:!0,writable:!0})}catch(n){k[t]=e}return e},S="__core-js_shared__",N=M.exports=C[S]||A(S,{});(N.versions||(N.versions=[])).push({version:"3.37.1",mode:"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"});var F,E,D=M.exports,z=d,O=0,L=Math.random(),P=z(1..toString),j=i,H="undefined"!=typeof navigator&&String(navigator.userAgent)||"",U=j.process,Y=j.Deno,$=U&&U.versions||Y&&Y.version,B=$&&$.v8;B&&(E=(F=B.split("."))[0]>0&&F[0]<4?1:+(F[0]+F[1])),!E&&H&&(!(F=H.match(/Edge\/(\d+)/))||F[1]>=74)&&(F=H.match(/Chrome\/(\d+)/))&&(E=+F[1]);var q=E,R=o,I=i.String,V=!!Object.getOwnPropertySymbols&&!R((function(){var t=Symbol("symbol detection");return!I(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&q&&q<41})),W=V&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,X=function(t,e){return D[t]||(D[t]=e||{})},G=w,Z=function(t){return"Symbol("+(void 0===t?"":t)+")_"+P(++O+L,36)},Q=V,J=W,K=i.Symbol,tt=X("wks"),et=J?K.for||K:K&&K.withoutSetter||Z,nt=function(t){return G(tt,t)||(tt[t]=Q&&G(K,t)?K[t]:et("Symbol."+t)),tt[t]},rt=nt;x.f=rt;var it={},at=!o((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),ot="object"==typeof document&&document.all,st=void 0===ot&&void 0!==ot?function(t){return"function"==typeof t||t===ot}:function(t){return"function"==typeof t},lt=st,ct=function(t){return"object"==typeof t?null!==t:lt(t)},ut=ct,ft=i.document,dt=ut(ft)&&ut(ft.createElement),ht=function(t){return dt?ft.createElement(t):{}},pt=!at&&!o((function(){return 7!==Object.defineProperty(ht("div"),"a",{get:function(){return 7}}).a})),gt=at&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),_t=ct,bt=String,mt=TypeError,yt=s,vt=Function.prototype.call,wt=yt?vt.bind(vt):function(){return vt.apply(vt,arguments)},xt=i,Mt=st,kt=d({}.isPrototypeOf),Tt=function(t,e){return arguments.length<2?(n=xt[t],Mt(n)?n:void 0):xt[t]&&xt[t][e];var n},Ct=st,At=kt,St=Object,Nt=W?function(t){return"symbol"==typeof t}:function(t){var e=Tt("Symbol");return Ct(e)&&At(e.prototype,St(t))},Ft=String,Et=st,Dt=function(t){try{return Ft(t)}catch(t){return"Object"}},zt=TypeError,Ot=function(t){if(Et(t))return t;throw new zt(Dt(t)+" is not a function")},Lt=h,Pt=wt,jt=st,Ht=ct,Ut=TypeError,Yt=wt,$t=ct,Bt=Nt,qt=function(t,e){var n=t[e];return Lt(n)?void 0:Ot(n)},Rt=function(t,e){var n,r;if("string"===e&&jt(n=t.toString)&&!Ht(r=Pt(n,t)))return r;if(jt(n=t.valueOf)&&!Ht(r=Pt(n,t)))return r;if("string"!==e&&jt(n=t.toString)&&!Ht(r=Pt(n,t)))return r;throw new Ut("Can't convert object to primitive value")},It=TypeError,Vt=nt("toPrimitive"),Wt=function(t,e){if(!$t(t)||Bt(t))return t;var n,r=qt(t,Vt);if(r){if(void 0===e&&(e="default"),n=Yt(r,t,e),!$t(n)||Bt(n))return n;throw new It("Can't convert object to primitive value")}return void 0===e&&(e="number"),Rt(t,e)},Xt=Nt,Gt=function(t){var e=Wt(t,"string");return Xt(e)?e:e+""},Zt=at,Qt=pt,Jt=gt,Kt=function(t){if(_t(t))return t;throw new mt(bt(t)+" is not an object")},te=Gt,ee=TypeError,ne=Object.defineProperty,re=Object.getOwnPropertyDescriptor,ie="enumerable",ae="configurable",oe="writable";it.f=Zt?Jt?function(t,e,n){if(Kt(t),e=te(e),Kt(n),"function"==typeof t&&"prototype"===e&&"value"in n&&oe in n&&!n[oe]){var r=re(t,e);r&&r[oe]&&(t[e]=n.value,n={configurable:ae in n?n[ae]:r[ae],enumerable:ie in n?n[ie]:r[ie],writable:!1})}return ne(t,e,n)}:ne:function(t,e,n){if(Kt(t),e=te(e),Kt(n),Qt)try{return ne(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new ee("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var se=a,le=w,ce=x,ue=it.f,fe=function(t){var e=se.Symbol||(se.Symbol={});le(e,t)||ue(e,t,{value:ce.f(t)})},de={},he={},pe={}.propertyIsEnumerable,ge=Object.getOwnPropertyDescriptor,_e=ge&&!pe.call({1:2},1);he.f=_e?function(t){var e=ge(this,t);return!!e&&e.enumerable}:pe;var be=d,me=be({}.toString),ye=be("".slice),ve=o,we=function(t){return ye(me(t),8,-1)},xe=Object,Me=d("".split),ke=ve((function(){return!xe("z").propertyIsEnumerable(0)}))?function(t){return"String"===we(t)?Me(t,""):xe(t)}:xe,Te=_,Ce=at,Ae=wt,Se=he,Ne=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Fe=function(t){return ke(Te(t))},Ee=Gt,De=w,ze=pt,Oe=Object.getOwnPropertyDescriptor;de.f=Ce?Oe:function(t,e){if(t=Fe(t),e=Ee(e),ze)try{return Oe(t,e)}catch(t){}if(De(t,e))return Ne(!Ae(Se.f,t,e),t[e])};var Le=i,Pe=fe,je=it.f,He=de.f,Ue=Le.Symbol;if(Pe("dispose"),Ue){var Ye=He(Ue,"dispose");Ye.enumerable&&Ye.configurable&&Ye.writable&&je(Ue,"dispose",{value:Ye.value,enumerable:!1,configurable:!1,writable:!1})}fe("observable"),fe("patternMatch");var $e={},Be={formatting:{n_dec:0},layout:{layout_order:"stack-3"},color:{},color_single:"#1d6996",color_single_overrides:"China: red",color_mode:"category",column_chart:!1,sort_enabled:!0,sort_control:!1,sort_ascending:!1,sort_descending_text:"Highest",sort_ascending_text:"Lowest",controls_style:{},button_style:{},axis_color:"#dddddd",axis_text_color:null,axis_font_size:1,label_max_size:1,label_color_in:null,label_color_out:null,show_value:!0,label_mode:"axis",label_axis_width:5,blank_cells:"interpolate",counter:!0,counter_font_size:10,counter_line_height:1,counter_color:"#cccccc",totaliser:!0,totaliser_label:"Total:",totaliser_font_size:4,totaliser_space_before:1.3,totaliser_color:"#cccccc",caption_mode:"text_legend",caption_font_size:1.2,caption_text_color:"#000000",caption_background_color:"#ffffff",caption_opacity:1,caption_border_color:"#ffffff",caption_text_align:"center",caption_border_radius:.5,caption_padding:1,caption_position:"center-center",caption_space_between:1,caption_image_width:50,caption_image_position:"column",annotations_enabled:!0,annotations_content:"",annotations_align:"middle",annotations_offset:"on",annotations_text_color:null,annotations_text_size:1,annotations_text_weight:"normal",annotations_line_color:null,annotations_line_opacity:1,annotations_line_width:1,annotations_line_dash:0,bar_opacity:.85,padding_right:7,legend_container:{},legend_categorical:{max_width:100},legend_filter:[],text_legend:"auto",text_legend_title:!0,text_legend_subtitle:!0,text_legend_caption:!0,text_legend_bold:!0,number_of_bars:10,bar_min_value:null,bar_margin:10,height_mode:"fill_space",bar_height:2,bar_empty_spaces:!1,image_height:90,image_width:145,image_margin_right:-20,image_scale:"fill",image_circle:!0,index:0,animation_duration:.5,timeline:{color_background:"#ffffff",color_axes:"#aaaaaa",graph_height:6,graph:!1,margin:{top:.75,left:.75,right:0,bottom:0}},reloader:{},scale_type:"auto",scale_min:null,scale_max:1e4};var qe="http://www.w3.org/1999/xhtml",Re={svg:"http://www.w3.org/2000/svg",xhtml:qe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ie(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Re.hasOwnProperty(e)?{space:Re[e],local:t}:t}function Ve(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===qe&&e.documentElement.namespaceURI===qe?e.createElement(t):e.createElementNS(n,t)}}function We(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Xe(t){var e=Ie(t);return(e.local?We:Ve)(e)}function Ge(){}function Ze(t){return null==t?Ge:function(){return this.querySelector(t)}}function Qe(){return[]}function Je(t){return null==t?Qe:function(){return this.querySelectorAll(t)}}function Ke(t){return function(){return this.matches(t)}}function tn(t){return new Array(t.length)}function en(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}en.prototype={constructor:en,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var nn="$";function rn(t,e,n,r,i,a){for(var o,s=0,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new en(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function an(t,e,n,r,i,a,o){var s,l,c,u={},f=e.length,d=a.length,h=new Array(f);for(s=0;s<f;++s)(l=e[s])&&(h[s]=c=nn+o.call(l,l.__data__,s,e),c in u?i[s]=l:u[c]=l);for(s=0;s<d;++s)(l=u[c=nn+o.call(t,a[s],s,a)])?(r[s]=l,l.__data__=a[s],u[c]=null):n[s]=new en(t,a[s]);for(s=0;s<f;++s)(l=e[s])&&u[h[s]]===l&&(i[s]=l)}function on(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function sn(t){return function(){this.removeAttribute(t)}}function ln(t){return function(){this.removeAttributeNS(t.space,t.local)}}function cn(t,e){return function(){this.setAttribute(t,e)}}function un(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function fn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function dn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function hn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function pn(t){return function(){this.style.removeProperty(t)}}function gn(t,e,n){return function(){this.style.setProperty(t,e,n)}}function _n(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function bn(t,e){return t.style.getPropertyValue(e)||hn(t).getComputedStyle(t,null).getPropertyValue(e)}function mn(t){return function(){delete this[t]}}function yn(t,e){return function(){this[t]=e}}function vn(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function wn(t){return t.trim().split(/^|\s+/)}function xn(t){return t.classList||new Mn(t)}function Mn(t){this._node=t,this._names=wn(t.getAttribute("class")||"")}function kn(t,e){for(var n=xn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Tn(t,e){for(var n=xn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Cn(t){return function(){kn(this,t)}}function An(t){return function(){Tn(this,t)}}function Sn(t,e){return function(){(e.apply(this,arguments)?kn:Tn)(this,t)}}function Nn(){this.textContent=""}function Fn(t){return function(){this.textContent=t}}function En(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Dn(){this.innerHTML=""}function zn(t){return function(){this.innerHTML=t}}function On(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Ln(){this.nextSibling&&this.parentNode.appendChild(this)}function Pn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function jn(){return null}function Hn(){var t=this.parentNode;t&&t.removeChild(this)}function Un(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Yn(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}Mn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var $n={},Bn=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||($n={mouseenter:"mouseover",mouseleave:"mouseout"}));function qn(t,e,n){return t=Rn(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Rn(t,e,n){return function(r){var i=Bn;Bn=r;try{t.call(this,this.__data__,e,n)}finally{Bn=i}}}function In(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Vn(t,e,n){var r=$n.hasOwnProperty(t.type)?qn:Rn;return function(i,a,o){var s,l=this.__on,c=r(e,a,o);if(l)for(var u=0,f=l.length;u<f;++u)if((s=l[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function Wn(t,e,n){var r=hn(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Xn(t,e){return function(){return Wn(this,t,e)}}function Gn(t,e){return function(){return Wn(this,t,e.apply(this,arguments))}}var Zn=[null];function Qn(t,e){this._groups=t,this._parents=e}function Jn(){return new Qn([[document.documentElement]],Zn)}function Kn(t){return"string"==typeof t?new Qn([[document.querySelector(t)]],[document.documentElement]):new Qn([[t]],Zn)}function tr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Qn.prototype=Jn.prototype={constructor:Qn,select:function(t){"function"!=typeof t&&(t=Ze(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(o=t.call(a,a.__data__,u,s))&&("__data__"in a&&(o.__data__=a.__data__),c[u]=o);return new Qn(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Je(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],l=s.length,c=0;c<l;++c)(o=s[c])&&(r.push(t.call(o,o.__data__,c,s)),i.push(o));return new Qn(r,i)},filter:function(t){"function"!=typeof t&&(t=Ke(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&l.push(a);return new Qn(r,this._parents)},data:function(t,e){if(!t)return h=new Array(this.size()),c=-1,this.each((function(t){h[++c]=t})),h;var n=e?an:rn,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],f=i[c],d=f.length,h=t.call(u,u&&u.__data__,c,r),p=h.length,g=s[c]=new Array(p),_=o[c]=new Array(p);n(u,f,g,_,l[c]=new Array(d),h,e);for(var b,m,y=0,v=0;y<p;++y)if(b=g[y]){for(y>=v&&(v=y+1);!(m=_[v])&&++v<p;);b._next=m||null}}return(o=new Qn(o,r))._enter=s,o._exit=l,o},enter:function(){return new Qn(this._enter||this._groups.map(tn),this._parents)},exit:function(){return new Qn(this._exit||this._groups.map(tn),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,c=e[s],u=n[s],f=c.length,d=o[s]=new Array(f),h=0;h<f;++h)(l=c[h]||u[h])&&(d[h]=l);for(;s<r;++s)o[s]=e[s];return new Qn(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=on);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],l=s.length,c=i[a]=new Array(l),u=0;u<l;++u)(o=s[u])&&(c[u]=o);c.sort(e)}return new Qn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=Ie(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?ln:sn:"function"==typeof e?n.local?dn:fn:n.local?un:cn)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?pn:"function"==typeof e?_n:gn)(t,e,null==n?"":n)):bn(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?mn:"function"==typeof e?vn:yn)(t,e)):this.node()[t]},classed:function(t,e){var n=wn(t+"");if(arguments.length<2){for(var r=xn(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Sn:e?Cn:An)(n,e))},text:function(t){return arguments.length?this.each(null==t?Nn:("function"==typeof t?En:Fn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Dn:("function"==typeof t?On:zn)(t)):this.node().innerHTML},raise:function(){return this.each(Ln)},lower:function(){return this.each(Pn)},append:function(t){var e="function"==typeof t?t:Xe(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Xe(t),r=null==e?jn:"function"==typeof e?e:Ze(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Hn)},clone:function(t){return this.select(t?Yn:Un)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?Vn:In,null==n&&(n=!1),r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<o;++r)if((i=a[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Gn:Xn)(t,e))}};var er,nr,rr=(1===(er=tr).length&&(nr=er,er=function(t,e){return tr(nr(t),e)}),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;er(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;er(t[i],e)>0?r=i:n=i+1}return n}}),ir=rr.right;function ar(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function or(t){return null===t?NaN:+t}function sr(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}var lr=Math.sqrt(50),cr=Math.sqrt(10),ur=Math.sqrt(2);function fr(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=lr?10:a>=cr?5:a>=ur?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=lr?10:a>=cr?5:a>=ur?2:1)}function dr(t,e,n){if(null==n&&(n=or),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t);return o+(+n(t[a+1],a+1,t)-o)*(i-a)}}function hr(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&n>r&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&n>r&&(r=n);return r}function pr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function gr(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var _r="$";function br(){}function mr(t,e){var n=new br;if(t instanceof br)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==e)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}function yr(){}br.prototype=mr.prototype={constructor:br,has:function(t){return _r+t in this},get:function(t){return this[_r+t]},set:function(t,e){return this[_r+t]=e,this},remove:function(t){var e=_r+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===_r&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===_r&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===_r&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===_r&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===_r&&++t;return t},empty:function(){for(var t in this)if(t[0]===_r)return!1;return!0},each:function(t){for(var e in this)e[0]===_r&&t(this[e],e.slice(1),this)}};var vr=mr.prototype;function wr(t,e){var n=new yr;if(t instanceof yr)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}yr.prototype=wr.prototype={constructor:yr,has:vr.has,add:function(t){return this[_r+(t+="")]=t,this},remove:vr.remove,clear:vr.clear,values:vr.keys,size:vr.size,empty:vr.empty,each:vr.each};var xr=Array.prototype,Mr=xr.map,kr=xr.slice;function Tr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Cr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ar(){}var Sr=.7,Nr=1/Sr,Fr="\\s*([+-]?\\d+)\\s*",Er="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zr=/^#([0-9a-f]{3,8})$/,Or=new RegExp("^rgb\\("+[Fr,Fr,Fr]+"\\)$"),Lr=new RegExp("^rgb\\("+[Dr,Dr,Dr]+"\\)$"),Pr=new RegExp("^rgba\\("+[Fr,Fr,Fr,Er]+"\\)$"),jr=new RegExp("^rgba\\("+[Dr,Dr,Dr,Er]+"\\)$"),Hr=new RegExp("^hsl\\("+[Er,Dr,Dr]+"\\)$"),Ur=new RegExp("^hsla\\("+[Er,Dr,Dr,Er]+"\\)$"),Yr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $r(){return this.rgb().formatHex()}function Br(){return this.rgb().formatRgb()}function qr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zr.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Rr(e):3===n?new Xr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ir(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ir(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Or.exec(t))?new Xr(e[1],e[2],e[3],1):(e=Lr.exec(t))?new Xr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Pr.exec(t))?Ir(e[1],e[2],e[3],e[4]):(e=jr.exec(t))?Ir(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Hr.exec(t))?Jr(e[1],e[2]/100,e[3]/100,1):(e=Ur.exec(t))?Jr(e[1],e[2]/100,e[3]/100,e[4]):Yr.hasOwnProperty(t)?Rr(Yr[t]):"transparent"===t?new Xr(NaN,NaN,NaN,0):null}function Rr(t){return new Xr(t>>16&255,t>>8&255,255&t,1)}function Ir(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xr(t,e,n,r)}function Vr(t){return t instanceof Ar||(t=qr(t)),t?new Xr((t=t.rgb()).r,t.g,t.b,t.opacity):new Xr}function Wr(t,e,n,r){return 1===arguments.length?Vr(t):new Xr(t,e,n,null==r?1:r)}function Xr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Gr(){return"#"+Qr(this.r)+Qr(this.g)+Qr(this.b)}function Zr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Qr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Jr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ei(t,e,n,r)}function Kr(t){if(t instanceof ei)return new ei(t.h,t.s,t.l,t.opacity);if(t instanceof Ar||(t=qr(t)),!t)return new ei;if(t instanceof ei)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new ei(o,s,l,t.opacity)}function ti(t,e,n,r){return 1===arguments.length?Kr(t):new ei(t,e,n,null==r?1:r)}function ei(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ni(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Tr(Ar,qr,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:$r,formatHex:$r,formatHsl:function(){return Kr(this).formatHsl()},formatRgb:Br,toString:Br}),Tr(Xr,Wr,Cr(Ar,{brighter:function(t){return t=null==t?Nr:Math.pow(Nr,t),new Xr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Sr:Math.pow(Sr,t),new Xr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gr,formatHex:Gr,formatRgb:Zr,toString:Zr})),Tr(ei,ti,Cr(Ar,{brighter:function(t){return t=null==t?Nr:Math.pow(Nr,t),new ei(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Sr:Math.pow(Sr,t),new ei(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xr(ni(t>=240?t-240:t+120,i,r),ni(t,i,r),ni(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ri=Math.PI/180,ii=180/Math.PI,ai=.96422,oi=1,si=.82521,li=4/29,ci=6/29,ui=3*ci*ci,fi=ci*ci*ci;function di(t){if(t instanceof pi)return new pi(t.l,t.a,t.b,t.opacity);if(t instanceof vi)return wi(t);t instanceof Xr||(t=Vr(t));var e,n,r=mi(t.r),i=mi(t.g),a=mi(t.b),o=gi((.2225045*r+.7168786*i+.0606169*a)/oi);return r===i&&i===a?e=n=o:(e=gi((.4360747*r+.3850649*i+.1430804*a)/ai),n=gi((.0139322*r+.0971045*i+.7141733*a)/si)),new pi(116*o-16,500*(e-o),200*(o-n),t.opacity)}function hi(t,e,n,r){return 1===arguments.length?di(t):new pi(t,e,n,null==r?1:r)}function pi(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function gi(t){return t>fi?Math.pow(t,1/3):t/ui+li}function _i(t){return t>ci?t*t*t:ui*(t-li)}function bi(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function mi(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function yi(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof vi)return new vi(t.h,t.c,t.l,t.opacity);if(t instanceof pi||(t=di(t)),0===t.a&&0===t.b)return new vi(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*ii;return new vi(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new vi(t,e,n,null==r?1:r)}function vi(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function wi(t){if(isNaN(t.h))return new pi(t.l,0,0,t.opacity);var e=t.h*ri;return new pi(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Tr(pi,hi,Cr(Ar,{brighter:function(t){return new pi(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new pi(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Xr(bi(3.1338561*(e=ai*_i(e))-1.6168667*(t=oi*_i(t))-.4906146*(n=si*_i(n))),bi(-.9787684*e+1.9161415*t+.033454*n),bi(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Tr(vi,yi,Cr(Ar,{brighter:function(t){return new vi(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new vi(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return wi(this).rgb()}}));var xi=-.14861,Mi=1.78277,ki=-.29227,Ti=-.90649,Ci=1.97294,Ai=Ci*Ti,Si=Ci*Mi,Ni=Mi*ki-Ti*xi;function Fi(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Ei)return new Ei(t.h,t.s,t.l,t.opacity);t instanceof Xr||(t=Vr(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Ni*r+Ai*e-Si*n)/(Ni+Ai-Si),a=r-i,o=(Ci*(n-i)-ki*a)/Ti,s=Math.sqrt(o*o+a*a)/(Ci*i*(1-i)),l=s?Math.atan2(o,a)*ii-120:NaN;return new Ei(l<0?l+360:l,s,i,t.opacity)}(t):new Ei(t,e,n,null==r?1:r)}function Ei(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Di(t){return function(){return t}}function zi(t,e){return function(n){return t+n*e}}function Oi(t,e){var n=e-t;return n?zi(t,n>180||n<-180?n-360*Math.round(n/360):n):Di(isNaN(t)?e:t)}function Li(t){return 1==(t=+t)?Pi:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Di(isNaN(e)?n:e)}}function Pi(t,e){var n=e-t;return n?zi(t,n):Di(isNaN(t)?e:t)}Tr(Ei,Fi,Cr(Ar,{brighter:function(t){return t=null==t?Nr:Math.pow(Nr,t),new Ei(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Sr:Math.pow(Sr,t),new Ei(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*ri,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Xr(255*(e+n*(xi*r+Mi*i)),255*(e+n*(ki*r+Ti*i)),255*(e+n*(Ci*r)),this.opacity)}}));var ji=function t(e){var n=Li(e);function r(t,e){var r=n((t=Wr(t)).r,(e=Wr(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=Pi(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);var Hi,Ui=(Hi=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return function(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}((n-r/e)*e,o,i,a,s)}},function(t){var e,n,r=t.length,i=new Array(r),a=new Array(r),o=new Array(r);for(e=0;e<r;++e)n=Wr(t[e]),i[e]=n.r||0,a[e]=n.g||0,o[e]=n.b||0;return i=Hi(i),a=Hi(a),o=Hi(o),n.opacity=1,function(t){return n.r=i(t),n.g=a(t),n.b=o(t),n+""}});function Yi(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function $i(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Xi(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function Bi(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function qi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ri(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Xi(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Ii=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vi=new RegExp(Ii.source,"g");function Wi(t,e){var n,r,i,a=Ii.lastIndex=Vi.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=Ii.exec(t))&&(r=Vi.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:qi(n,r)})),a=Vi.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function Xi(t,e){var n,r=typeof e;return null==e||"boolean"===r?Di(e):("number"===r?qi:"string"===r?(n=qr(e))?(e=n,ji):Wi:e instanceof qr?ji:e instanceof Date?Bi:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Yi:Array.isArray(e)?$i:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ri:qi)(t,e)}function Gi(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Zi,Qi,Ji,Ki,ta=180/Math.PI,ea={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function na(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*ta,skewX:Math.atan(l)*ta,scaleX:o,scaleY:s}}function ra(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],l=[];return a=t(a),o=t(o),function(t,r,i,a,o,s){if(t!==i||r!==a){var l=o.push("translate(",null,e,null,n);s.push({i:l-4,x:qi(t,i)},{i:l-2,x:qi(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:qi(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,s,l),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:qi(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,s,l),function(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:qi(t,n)},{i:s-2,x:qi(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var ia=ra((function(t){return"none"===t?ea:(Zi||(Zi=document.createElement("DIV"),Qi=document.documentElement,Ji=document.defaultView),Zi.style.transform=t,t=Ji.getComputedStyle(Qi.appendChild(Zi),null).getPropertyValue("transform"),Qi.removeChild(Zi),na(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),aa=ra((function(t){return null==t?ea:(Ki||(Ki=document.createElementNS("http://www.w3.org/2000/svg","g")),Ki.setAttribute("transform",t),(t=Ki.transform.baseVal.consolidate())?na((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ea)}),", ",")",")");var oa=function(t){return function(e,n){var r=t((e=ti(e)).h,(n=ti(n)).h),i=Pi(e.s,n.s),a=Pi(e.l,n.l),o=Pi(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=a(t),e.opacity=o(t),e+""}}}(Oi);function sa(t,e){var n=Pi((t=hi(t)).l,(e=hi(e)).l),r=Pi(t.a,e.a),i=Pi(t.b,e.b),a=Pi(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=a(e),t+""}}var la=function(t){return function(e,n){var r=t((e=yi(e)).h,(n=yi(n)).h),i=Pi(e.c,n.c),a=Pi(e.l,n.l),o=Pi(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=a(t),e.opacity=o(t),e+""}}}(Oi);function ca(t){return function e(n){function r(e,r){var i=t((e=Fi(e)).h,(r=Fi(r)).h),a=Pi(e.s,r.s),o=Pi(e.l,r.l),s=Pi(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=o(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}ca(Oi);var ua=ca(Pi);function fa(t){return+t}var da=[0,1];function ha(t){return t}function pa(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function ga(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function _a(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=pa(i,r),a=n(o,a)):(r=pa(r,i),a=n(a,o)),function(t){return a(r(t))}}function ba(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=pa(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=ir(t,e,1,r)-1;return a[n](i[n](e))}}function ma(t,e){return function(){var t,e,n,r,i,a,o=da,s=da,l=Xi,c=ha;function u(){return r=Math.min(o.length,s.length)>2?ba:_a,i=a=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),s,l)))(t(c(e)))}return f.invert=function(n){return c(e((a||(a=r(s,o.map(t),qi)))(n)))},f.domain=function(t){return arguments.length?(o=Mr.call(t,fa),c===ha||(c=ga(o)),u()):o.slice()},f.range=function(t){return arguments.length?(s=kr.call(t),u()):s.slice()},f.rangeRound=function(t){return s=kr.call(t),l=Gi,u()},f.clamp=function(t){return arguments.length?(c=t?ga(o):ha,f):c!==ha},f.interpolate=function(t){return arguments.length?(l=t,u()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,u()}}()(t,e)}function ya(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function va(t){return(t=ya(Math.abs(t)))?t[1]:NaN}var wa,xa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ma(t){if(!(e=xa.exec(t)))throw new Error("invalid format: "+t);var e;return new ka({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ka(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ta(t,e){var n=ya(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Ma.prototype=ka.prototype,ka.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ca={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ta(100*t,e)},r:Ta,s:function(t,e){var n=ya(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(wa=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ya(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Aa(t){return t}var Sa,Na,Fa,Ea=Array.prototype.map,Da=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function za(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Aa:(e=Ea.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Aa:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ea.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Ma(t)).fill,n=t.align,f=t.sign,d=t.symbol,h=t.zero,p=t.width,g=t.comma,_=t.precision,b=t.trim,m=t.type;"n"===m?(g=!0,m="g"):Ca[m]||(void 0===_&&(_=12),b=!0,m="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var y="$"===d?i:"#"===d&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",v="$"===d?a:/[%p]/.test(m)?l:"",w=Ca[m],x=/[defgprs%]/.test(m);function M(t){var i,a,l,d=y,M=v;if("c"===m)M=w(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),_),b&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),d=(k?"("===f?f:c:"-"===f||"("===f?"":f)+d,M=("s"===m?Da[8+wa/3]:"")+M+(k&&"("===f?")":""),x)for(i=-1,a=t.length;++i<a;)if(48>(l=t.charCodeAt(i))||l>57){M=(46===l?o+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!h&&(t=r(t,1/0));var T=d.length+t.length+M.length,C=T<p?new Array(p-T+1).join(e):"";switch(g&&h&&(t=r(C+t,C.length?p-M.length:1/0),C=""),n){case"<":t=d+t+M+C;break;case"=":t=d+C+t+M;break;case"^":t=C.slice(0,T=C.length>>1)+d+t+M+C.slice(T);break;default:t=C+d+t+M}return s(t)}return _=void 0===_?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,e){var n=f(((t=Ma(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(va(e)/3))),i=Math.pow(10,-r),a=Da[8+r/3];return function(t){return n(i*t)+a}}}}function Oa(t){return Math.max(0,-va(Math.abs(t)))}function La(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(va(e)/3)))-va(Math.abs(t)))}function Pa(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,va(e)-va(t))+1}function ja(t,e,n,r){var i,a=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=lr?i*=10:a>=cr?i*=5:a>=ur&&(i*=2),e<t?-i:i}(t,e,n);switch((r=Ma(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=La(a,o))||(r.precision=i),Fa(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Pa(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Oa(a))||(r.precision=i-2*("%"===r.type))}return Na(r)}function Ha(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=fr(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(t-s)/o;return r&&a.reverse(),a}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return ja(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),a=0,o=i.length-1,s=i[a],l=i[o];return l<s&&(r=s,s=l,l=r,r=a,a=o,o=r),(r=fr(s,l,n))>0?r=fr(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=fr(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(l/r)*r,e(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(l*r)/r,e(i)),t},t}function Ua(){var t=ma(ha,ha);return t.copy=function(){return e=t,Ua().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());var e},pr.apply(t,arguments),Ha(t)}function Ya(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=dr(e,t/i);return a}function a(e){return isNaN(e=+e)?t:n[ir(r,e)]}return a.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,a=t.length;r<a;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(tr),i()},a.range=function(t){return arguments.length?(n=kr.call(t),i()):n.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return r.slice()},a.copy=function(){return Ya().domain(e).range(n).unknown(t)},pr.apply(a,arguments)}function $a(){var t,e=0,n=1,r=1,i=[.5],a=[0,1];function o(e){return e<=e?a[ir(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return o}return o.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],s()):[e,n]},o.range=function(t){return arguments.length?(r=(a=kr.call(t)).length-1,s()):a.slice()},o.invertExtent=function(t){var o=a.indexOf(t);return o<0?[NaN,NaN]:o<1?[e,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return $a().domain([e,n]).range(a).unknown(t)},pr.apply(Ha(o),arguments)}function Ba(){var t,e=[.5],n=[0,1],r=1;function i(i){return i<=i?n[ir(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=kr.call(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=kr.call(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Ba().domain(e).range(n).unknown(t)},pr.apply(i,arguments)}Sa=za({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Na=Sa.format,Fa=Sa.formatPrefix;var qa=new Date,Ra=new Date;function Ia(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;do{s.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<r);return s},i.filter=function(n){return Ia((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return qa.setTime(+e),Ra.setTime(+r),t(qa),t(Ra),Math.floor(n(qa,Ra))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Va=1e3,Wa=6e4,Xa=36e5,Ga=864e5,Za=6048e5,Qa=Ia((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Va)}),(function(t,e){return(e-t)/Va}),(function(t){return t.getUTCSeconds()})),Ja=Qa;Qa.range;var Ka=Ia((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Va)}),(function(t,e){t.setTime(+t+e*Wa)}),(function(t,e){return(e-t)/Wa}),(function(t){return t.getMinutes()})),to=Ka;Ka.range;var eo=Ia((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Va-t.getMinutes()*Wa)}),(function(t,e){t.setTime(+t+e*Xa)}),(function(t,e){return(e-t)/Xa}),(function(t){return t.getHours()})),no=eo;eo.range;var ro=Ia((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wa)/Ga}),(function(t){return t.getDate()-1})),io=ro;function ao(t){return Ia((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wa)/Za}))}ro.range;var oo=ao(0),so=ao(1),lo=ao(2),co=ao(3),uo=ao(4),fo=ao(5),ho=ao(6);oo.range,so.range,lo.range,co.range,uo.range,fo.range,ho.range;var po=Ia((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),go=po;po.range;var _o=Ia((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));_o.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ia((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var bo=_o;_o.range;var mo=Ia((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Ga}),(function(t){return t.getUTCDate()-1})),yo=mo;function vo(t){return Ia((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Za}))}mo.range;var wo=vo(0),xo=vo(1),Mo=vo(2),ko=vo(3),To=vo(4),Co=vo(5),Ao=vo(6);wo.range,xo.range,Mo.range,ko.range,To.range,Co.range,Ao.range;var So=Ia((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));So.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ia((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var No=So;function Fo(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Eo(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Do(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}So.range;var zo,Oo,Lo,Po,jo={"-":"",_:" ",0:"0"},Ho=/^\s*\d+/,Uo=/^%/,Yo=/[\\^$*+?|[\]().{}]/g;function $o(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Bo(t){return t.replace(Yo,"\\$&")}function qo(t){return new RegExp("^(?:"+t.map(Bo).join("|")+")","i")}function Ro(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Io(t,e,n){var r=Ho.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Vo(t,e,n){var r=Ho.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Wo(t,e,n){var r=Ho.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Xo(t,e,n){var r=Ho.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Go(t,e,n){var r=Ho.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Zo(t,e,n){var r=Ho.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Qo(t,e,n){var r=Ho.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Jo(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ko(t,e,n){var r=Ho.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function ts(t,e,n){var r=Ho.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function es(t,e,n){var r=Ho.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ns(t,e,n){var r=Ho.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function rs(t,e,n){var r=Ho.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function is(t,e,n){var r=Ho.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function as(t,e,n){var r=Ho.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function os(t,e,n){var r=Ho.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ss(t,e,n){var r=Ho.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ls(t,e,n){var r=Uo.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cs(t,e,n){var r=Ho.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function us(t,e,n){var r=Ho.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function fs(t,e){return $o(t.getDate(),e,2)}function ds(t,e){return $o(t.getHours(),e,2)}function hs(t,e){return $o(t.getHours()%12||12,e,2)}function ps(t,e){return $o(1+io.count(bo(t),t),e,3)}function gs(t,e){return $o(t.getMilliseconds(),e,3)}function _s(t,e){return gs(t,e)+"000"}function bs(t,e){return $o(t.getMonth()+1,e,2)}function ms(t,e){return $o(t.getMinutes(),e,2)}function ys(t,e){return $o(t.getSeconds(),e,2)}function vs(t){var e=t.getDay();return 0===e?7:e}function ws(t,e){return $o(oo.count(bo(t)-1,t),e,2)}function xs(t){var e=t.getDay();return e>=4||0===e?uo(t):uo.ceil(t)}function Ms(t,e){return t=xs(t),$o(uo.count(bo(t),t)+(4===bo(t).getDay()),e,2)}function ks(t){return t.getDay()}function Ts(t,e){return $o(so.count(bo(t)-1,t),e,2)}function Cs(t,e){return $o(t.getFullYear()%100,e,2)}function As(t,e){return $o((t=xs(t)).getFullYear()%100,e,2)}function Ss(t,e){return $o(t.getFullYear()%1e4,e,4)}function Ns(t,e){var n=t.getDay();return $o((t=n>=4||0===n?uo(t):uo.ceil(t)).getFullYear()%1e4,e,4)}function Fs(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$o(e/60|0,"0",2)+$o(e%60,"0",2)}function Es(t,e){return $o(t.getUTCDate(),e,2)}function Ds(t,e){return $o(t.getUTCHours(),e,2)}function zs(t,e){return $o(t.getUTCHours()%12||12,e,2)}function Os(t,e){return $o(1+yo.count(No(t),t),e,3)}function Ls(t,e){return $o(t.getUTCMilliseconds(),e,3)}function Ps(t,e){return Ls(t,e)+"000"}function js(t,e){return $o(t.getUTCMonth()+1,e,2)}function Hs(t,e){return $o(t.getUTCMinutes(),e,2)}function Us(t,e){return $o(t.getUTCSeconds(),e,2)}function Ys(t){var e=t.getUTCDay();return 0===e?7:e}function $s(t,e){return $o(wo.count(No(t)-1,t),e,2)}function Bs(t){var e=t.getUTCDay();return e>=4||0===e?To(t):To.ceil(t)}function qs(t,e){return t=Bs(t),$o(To.count(No(t),t)+(4===No(t).getUTCDay()),e,2)}function Rs(t){return t.getUTCDay()}function Is(t,e){return $o(xo.count(No(t)-1,t),e,2)}function Vs(t,e){return $o(t.getUTCFullYear()%100,e,2)}function Ws(t,e){return $o((t=Bs(t)).getUTCFullYear()%100,e,2)}function Xs(t,e){return $o(t.getUTCFullYear()%1e4,e,4)}function Gs(t,e){var n=t.getUTCDay();return $o((t=n>=4||0===n?To(t):To.ceil(t)).getUTCFullYear()%1e4,e,4)}function Zs(){return"+0000"}function Qs(){return"%"}function Js(t){return+t}function Ks(t){return Math.floor(+t/1e3)}function tl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function el(){var t=Ha(function(){var t,e,n,r,i,a=0,o=1,s=ha,l=!1;function c(e){return isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}return c.domain=function(i){return arguments.length?(t=r(a=+i[0]),e=r(o=+i[1]),n=t===e?0:1/(e-t),c):[a,o]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(a),e=i(o),n=t===e?0:1/(e-t),c}}()(ha));return t.copy=function(){return tl(t,el())},gr.apply(t,arguments)}function nl(){var t=Ha(function(){var t,e,n,r,i,a,o,s=0,l=.5,c=1,u=ha,f=!1;function d(t){return isNaN(t=+t)?o:(t=.5+((t=+a(t))-e)*(t<e?r:i),u(f?Math.max(0,Math.min(1,t)):t))}return d.domain=function(o){return arguments.length?(t=a(s=+o[0]),e=a(l=+o[1]),n=a(c=+o[2]),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),d):[s,l,c]},d.clamp=function(t){return arguments.length?(f=!!t,d):f},d.interpolator=function(t){return arguments.length?(u=t,d):u},d.unknown=function(t){return arguments.length?(o=t,d):o},function(o){return a=o,t=o(s),e=o(l),n=o(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),d}}()(ha));return t.copy=function(){return tl(t,nl())},gr.apply(t,arguments)}!function(t){zo=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=qo(i),u=Ro(i),f=qo(a),d=Ro(a),h=qo(o),p=Ro(o),g=qo(s),_=Ro(s),b=qo(l),m=Ro(l),y={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:fs,e:fs,f:_s,g:As,G:Ns,H:ds,I:hs,j:ps,L:gs,m:bs,M:ms,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Js,s:Ks,S:ys,u:vs,U:ws,V:Ms,w:ks,W:Ts,x:null,X:null,y:Cs,Y:Ss,Z:Fs,"%":Qs},v={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Es,e:Es,f:Ps,g:Ws,G:Gs,H:Ds,I:zs,j:Os,L:Ls,m:js,M:Hs,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Js,s:Ks,S:Us,u:Ys,U:$s,V:qs,w:Rs,W:Is,x:null,X:null,y:Vs,Y:Xs,Z:Zs,"%":Qs},w={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=b.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=_[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:es,e:es,f:ss,g:Qo,G:Zo,H:rs,I:rs,j:ns,L:os,m:ts,M:is,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:Ko,Q:cs,s:us,S:as,u:Vo,U:Wo,V:Xo,w:Io,W:Go,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:Qo,Y:Zo,Z:Jo,"%":ls};function x(t,e){return function(n){var r,i,a,o=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(i=jo[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(t.slice(l,s)),o.join("")}}function M(t,e){return function(n){var r,i,a=Do(1900,void 0,1);if(k(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Eo(Do(a.y,0,1))).getUTCDay(),r=i>4||0===i?xo.ceil(r):xo(r),r=yo.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=Fo(Do(a.y,0,1))).getDay(),r=i>4||0===i?so.ceil(r):so(r),r=io.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Eo(Do(a.y,0,1)).getUTCDay():Fo(Do(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Eo(a)):Fo(a)}}function k(t,e,n,r){for(var i,a,o=0,s=e.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=w[i in jo?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return y.x=x(n,y),y.X=x(r,y),y.c=x(e,y),v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),{format:function(t){var e=x(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}(t),Oo=zo.format,zo.parse,Lo=zo.utcFormat,Po=zo.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var rl=Array.prototype.slice;function il(t){return t}var al=1,ol=2,sl=3,ll=4,cl=1e-6;function ul(t){return"translate("+(t+.5)+",0)"}function fl(t){return"translate(0,"+(t+.5)+")"}function dl(t){return function(e){return+t(e)}}function hl(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function pl(){return!this.__axis}function gl(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,l=t===al||t===ll?-1:1,c=t===ll||t===ol?"x":"y",u=t===al||t===sl?ul:fl;function f(f){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,h=null==i?e.tickFormat?e.tickFormat.apply(e,n):il:i,p=Math.max(a,0)+s,g=e.range(),_=+g[0]+.5,b=+g[g.length-1]+.5,m=(e.bandwidth?hl:dl)(e.copy()),y=f.selection?f.selection():f,v=y.selectAll(".domain").data([null]),w=y.selectAll(".tick").data(d,e).order(),x=w.exit(),M=w.enter().append("g").attr("class","tick"),k=w.select("line"),T=w.select("text");v=v.merge(v.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(M),k=k.merge(M.append("line").attr("stroke","currentColor").attr(c+"2",l*a)),T=T.merge(M.append("text").attr("fill","currentColor").attr(c,l*p).attr("dy",t===al?"0em":t===sl?"0.71em":"0.32em")),f!==y&&(v=v.transition(f),w=w.transition(f),k=k.transition(f),T=T.transition(f),x=x.transition(f).attr("opacity",cl).attr("transform",(function(t){return isFinite(t=m(t))?u(t):this.getAttribute("transform")})),M.attr("opacity",cl).attr("transform",(function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:m(t))}))),x.remove(),v.attr("d",t===ll||t==ol?o?"M"+l*o+","+_+"H0.5V"+b+"H"+l*o:"M0.5,"+_+"V"+b:o?"M"+_+","+l*o+"V0.5H"+b+"V"+l*o:"M"+_+",0.5H"+b),w.attr("opacity",1).attr("transform",(function(t){return u(m(t))})),k.attr(c+"2",l*a),T.attr(c,l*p).text(h),y.filter(pl).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ol?"start":t===ll?"end":"middle"),y.each((function(){this.__axis=m}))}return f.scale=function(t){return arguments.length?(e=t,f):e},f.ticks=function(){return n=rl.call(arguments),f},f.tickArguments=function(t){return arguments.length?(n=null==t?[]:rl.call(t),f):n.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:rl.call(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(a=o=+t,f):a},f.tickSizeInner=function(t){return arguments.length?(a=+t,f):a},f.tickSizeOuter=function(t){return arguments.length?(o=+t,f):o},f.tickPadding=function(t){return arguments.length?(s=+t,f):s},f}function _l(t){return gl(al,t)}var bl={value:function(){}};function ml(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new yl(r)}function yl(t){this._=t}function vl(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function wl(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=bl,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}yl.prototype=ml.prototype={constructor:yl,on:function(t,e){var n,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),o=-1,s=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=a[o]).type)i[n]=wl(i[n],t.name,e);else if(null==e)for(n in i)i[n]=wl(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=a[o]).type)&&(n=vl(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new yl(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var xl,Ml,kl=0,Tl=0,Cl=0,Al=1e3,Sl=0,Nl=0,Fl=0,El="object"==typeof performance&&performance.now?performance:Date,Dl="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function zl(){return Nl||(Dl(Ol),Nl=El.now()+Fl)}function Ol(){Nl=0}function Ll(){this._call=this._time=this._next=null}function Pl(t,e,n){var r=new Ll;return r.restart(t,e,n),r}function jl(){Nl=(Sl=El.now())+Fl,kl=Tl=0;try{!function(){zl(),++kl;for(var t,e=xl;e;)(t=Nl-e._time)>=0&&e._call.call(null,t),e=e._next;--kl}()}finally{kl=0,function(){var t,e,n=xl,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:xl=e);Ml=t,Ul(r)}(),Nl=0}}function Hl(){var t=El.now(),e=t-Sl;e>Al&&(Fl-=e,Sl=t)}function Ul(t){kl||(Tl&&(Tl=clearTimeout(Tl)),t-Nl>24?(t<1/0&&(Tl=setTimeout(jl,t-El.now()-Fl)),Cl&&(Cl=clearInterval(Cl))):(Cl||(Sl=El.now(),Cl=setInterval(Hl,Al)),kl=1,Dl(jl)))}function Yl(t,e,n){var r=new Ll;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}Ll.prototype=Pl.prototype={constructor:Ll,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?zl():+n)+(null==e?0:+e),this._next||Ml===this||(Ml?Ml._next=this:xl=this,Ml=this),this._call=t,this._time=n,Ul()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ul())}};var $l=ml("start","end","cancel","interrupt"),Bl=[],ql=0,Rl=1,Il=2,Vl=3,Wl=4,Xl=5,Gl=6;function Zl(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(t){n.state=Rl,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(a){var c,u,f,d;if(n.state!==Rl)return l();for(c in i)if((d=i[c]).name===n.name){if(d.state===Vl)return Yl(o);d.state===Wl?(d.state=Gl,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=Gl,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(Yl((function(){n.state===Vl&&(n.state=Wl,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=Il,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Il){for(n.state=Vl,r=new Array(f=n.tween.length),c=0,u=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=Xl,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);n.state===Xl&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=Gl,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Pl(a,0,n.time)}(t,n,{name:e,index:r,group:i,on:$l,tween:Bl,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ql})}function Ql(t,e){var n=Kl(t,e);if(n.state>ql)throw new Error("too late; already scheduled");return n}function Jl(t,e){var n=Kl(t,e);if(n.state>Vl)throw new Error("too late; already running");return n}function Kl(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function tc(t,e){var n,r;return function(){var i=Jl(this,t),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function ec(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=Jl(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}a.tween=i}}function nc(t,e,n){var r=t._id;return t.each((function(){var t=Jl(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Kl(t,r).value[e]}}function rc(t,e){var n;return("number"==typeof e?qi:e instanceof qr?ji:(n=qr(e))?(e=n,ji):Wi)(t,e)}function ic(t){return function(){this.removeAttribute(t)}}function ac(t){return function(){this.removeAttributeNS(t.space,t.local)}}function oc(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function sc(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function lc(t,e,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(t))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,l));this.removeAttribute(t)}}function cc(t,e,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,l));this.removeAttributeNS(t.space,t.local)}}function uc(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function fc(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function dc(t,e){return function(){Ql(this,t).delay=+e.apply(this,arguments)}}function hc(t,e){return e=+e,function(){Ql(this,t).delay=e}}function pc(t,e){return function(){Jl(this,t).duration=+e.apply(this,arguments)}}function gc(t,e){return e=+e,function(){Jl(this,t).duration=e}}var _c=Jn.prototype.constructor;function bc(t){return function(){this.style.removeProperty(t)}}var mc=0;function yc(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function vc(){return++mc}var wc=Jn.prototype;yc.prototype={constructor:yc,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ze(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,l,c=r[o],u=c.length,f=a[o]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),f[d]=l,Zl(f[d],e,n,d,f,Kl(s,n)));return new yc(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Je(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,f=0;f<u;++f)if(l=c[f]){for(var d,h=t.call(l,l.__data__,f,c),p=Kl(l,n),g=0,_=h.length;g<_;++g)(d=h[g])&&Zl(d,e,n,g,h,p);a.push(h),o.push(l)}return new yc(a,o,e,n)},filter:function(t){"function"!=typeof t&&(t=Ke(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&l.push(a);return new yc(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,c=e[s],u=n[s],f=c.length,d=o[s]=new Array(f),h=0;h<f;++h)(l=c[h]||u[h])&&(d[h]=l);for(;s<r;++s)o[s]=e[s];return new yc(o,this._parents,this._name,this._id)},selection:function(){return new _c(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=vc(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=Kl(o,e);Zl(o,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new yc(r,this._parents,t,n)},call:wc.call,nodes:wc.nodes,node:wc.node,size:wc.size,empty:wc.empty,each:wc.each,on:function(t,e){var n=this._id;return arguments.length<2?Kl(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Ql:Jl;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}(n,t,e))},attr:function(t,e){var n=Ie(t),r="transform"===n?aa:rc;return this.attrTween(t,"function"==typeof e?(n.local?cc:lc)(n,r,nc(this,"attr."+t,e)):null==e?(n.local?ac:ic)(n):(n.local?sc:oc)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Ie(t);return this.tween(n,(r.local?uc:fc)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?ia:rc;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=bn(this,t),o=(this.style.removeProperty(t),bn(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,bc(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=bn(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=bn(this,t)),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}(t,r,nc(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var l=Jl(this,t),c=l.on,u=null==l.value[o]?a||(a=bc(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=bn(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,a,n)),r}return a._value=e,a}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(nc(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Kl(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?tc:ec)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?dc:hc)(e,t)):Kl(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?pc:gc)(e,t)):Kl(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Jl(this,t).ease=e}}(e,t)):Kl(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},l={value:function(){0==--i&&a()}};n.each((function(){var n=Jl(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e}))}))}};var xc={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Mc(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return xc.time=zl(),xc;return n}function kc(t){throw new TypeError("Expected a value of type string but got a value of type "+typeof t)}function Tc(t){return function(e){return"string"!=typeof e&&kc(e),(e=e.trim())?t(e):null}}Jn.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>Il&&n.state<Xl,n.state=Gl,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}(this,t)}))},Jn.prototype.transition=function(t){var e,n;t instanceof yc?(e=t._id,t=t._name):(e=vc(),(n=xc).time=zl(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)(o=s[c])&&Zl(o,t,e,c,s,n||Mc(o,e));return new yc(r,this._parents,t,e)};var Cc=new Date(1972,3,27,19,45,5),Ac={"%b %d":[{regex:/^june\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[1])}},{regex:/^july\s(3[01]|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[1])}},{regex:/^sept\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[1])}}],"%d %b":[{regex:/^(0?[1-9]|[1-9][0-9])\sjune$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\sjuly$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\ssept$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[0])}}]};function Sc(t){return function(e){var n=null;return t.forEach((function(t){e.match(t.regex)&&(n=t.toDate(e))})),n}}function Nc(t,e){var n,r=Po(t),i=Lo(t);return n=Tc("function"==typeof e?function(t){return e(t,null!==r(t))}:function(t){return null!==r(t)}),Object.freeze({test:n,parse:Tc((function(e){return r(e)||(Ac[t]?Sc(Ac[t])(e):null)})),format:function(t){return i(t)},type:"datetime",description:t,id:"datetime$"+t,example:i(Cc)})}var Fc=Object.freeze([Nc("%Y-%m-%dT%H:%M:%S.%LZ"),Nc("%Y-%m-%d %H:%M:%S"),Nc("%Y-%m-%dT%H:%M:%S"),Nc("%Y-%m-%dT%H:%M:%SZ"),Nc("%d/%m/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),Nc("%d/%m/%Y %H:%M",(function(t,e){if(!e)return!1;var n=t.split(/[/ :]/).map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3&&n[3]>=0&&n[3]<24&&n[4]>=0&&n[4]<60})),Nc("%d/%m/%y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&!isNaN(n[2])})),Nc("%m/%d/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3})),Nc("%m/%d/%Y %H:%M",(function(t,e){if(!e)return!1;var n=t.split(/[/ :]/).map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3&&n[3]>=0&&n[3]<24&&n[4]>=0&&n[4]<60})),Nc("%m/%d/%y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),Nc("%Y/%m/%d",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12&&n[2]>0&&n[2]<=31})),Nc("%d-%m-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),Nc("%d-%m-%y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&!isNaN(n[2])})),Nc("%d.%m.%Y",(function(t,e){if(!e)return!1;var n=t.split(".").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),Nc("%m.%d.%y",(function(t,e){if(!e)return!1;var n=t.split(".").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),Nc("%m-%d-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3})),Nc("%m-%d-%y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),Nc("%Y-%m-%d",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12&&n[2]>0&&n[2]<=31})),Nc("%Y-%m",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12})),Nc("%Y%m",(function(t,e){if(!e)return!1;var n=parseFloat(t.slice(0,4)),r=parseFloat(t.slice(4));return n>1e3&&r>0&&r<=12})),Nc("%d %b %Y",(function(t,e){if(!e)return!1;var n=t.split(" ").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),Nc("%d %B %Y",(function(t,e){if(!e)return!1;var n=t.split(" ").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),Nc("%d %b %y"),Nc("%-d %b â%y"),Nc("%d %B %y"),Nc("%d-%b-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),Nc("%d-%B-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),Nc("%d-%b-%y"),Nc("%d-%B-%y"),Nc("%m/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>=1e3})),Nc("%m/%y"),Nc("%b %Y",(function(t,e){return!!e&&t.split(" ").map(parseFloat)[1]>=1e3})),Nc("%B %Y",(function(t,e){return!!e&&t.split(" ").map(parseFloat)[1]>=1e3})),Nc("%b-%y"),Nc("%b %y"),Nc("%B %y"),Nc("%b '%y"),Nc("%b â%y"),Nc("%B %-d %Y"),Nc("%d %b",(function(t,e){return!!e||!!Sc(Ac["%d %b"])(t)})),Nc("%d %B"),Nc("%b %d",(function(t,e){return!!e||!!Sc(Ac["%b %d"])(t)})),Nc("%B %d"),Nc("%d-%m",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12})),Nc("%m-%d"),Nc("%d/%m"),Nc("%m/%d"),Nc("%b %d %Y"),Nc("%b %d %Y, %-I.%M%p"),Nc("%Y",(function(t,e){if(!e)return!1;var n=parseFloat(t);return n>1499&&n<2200})),Nc("%B"),Nc("%b"),Nc("%X"),Nc("%I:%M %p"),Nc("%-I.%M%p"),Nc("%H:%M",(function(t,e){if(!e)return!1;var n=t.split(":").map(parseFloat);return n[0]>=0&&n[0]<24})),Nc("%H:%M:%S"),Nc("%M:%S"),Nc("%-I%p"),Nc("Q%q %Y",(function(t,e){return!!e&&6===t.replace(/\s/g,"").length})),Nc("%Y Q%q",(function(t,e){return!!e&&6===t.replace(/\s/g,"").length}))]);var Ec={test:Tc((function(t){return/^(\+|-)?\d{1,3}(,\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Tc((function(t){return parseFloat(t.replace(/,/g,""))})),description:"Comma thousand separator, point decimal mark",thousand_separator:",",decimal_mark:".",id:"number$comma_point",example:"12,235.56"},Dc={test:Tc((function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Tc((function(t){return parseFloat(t.replace(/\s/g,""))})),description:"Space thousand separator, point decimal mark",thousand_separator:" ",decimal_mark:".",id:"number$space_point",example:"12 235.56"},zc={test:Tc((function(t){return/^(\+|-)?\d+(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Tc((function(t){return parseFloat(t)})),description:"No thousand separator, point decimal mark",thousand_separator:"",decimal_mark:".",id:"number$none_point",example:"12235.56"},Oc={test:Tc((function(t){return/^(\+|-)?\d{1,3}(\.\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Tc((function(t){return parseFloat(t.replace(/\./g,"").replace(/,/,"."))})),description:"Point thousand separator, comma decimal mark",thousand_separator:".",decimal_mark:",",id:"number$point_comma",example:"12.235,56"},Lc={test:Tc((function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Tc((function(t){return parseFloat(t.replace(/\s/g,"").replace(/,/,"."))})),description:"Space thousand separator, comma decimal mark",thousand_separator:" ",decimal_mark:",",id:"number$space_comma",example:"12 235,56"},Pc={test:Tc((function(t){return/^(\+|-)?\d+(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Tc((function(t){return parseFloat(t.replace(/,/,"."))})),description:"No thousand separator, comma decimal mark",thousand_separator:"",decimal_mark:",",id:"number$none_comma",example:"12235,56"},jc=Object.freeze([Ec,Dc,Oc,Lc,zc,Pc]);jc.forEach((function(t){t.type="number",t.format=function(t){var e,n,r=za({decimal:t.decimal_mark,thousands:t.thousand_separator,grouping:[3],currency:["",""]});return function(t,i){return null===t?"":(i||(i=",.2f"),i!==n&&(n=i,e=r.format(n)),e(t))}}(t),Object.freeze(t)}));var Hc,Uc=Object.freeze({test:function(t){return"string"==typeof t||kc(t)},parse:function(t){return"string"==typeof t?t:kc(t)},format:function(t){if("string"==typeof t)return t},type:"string",description:"Arbitrary string",id:"string$arbitrary_string"}),Yc=Object.freeze({datetime:Fc,number:jc}),$c=Object.freeze(["datetime","number","string"]),Bc=Object.freeze({n_max:250,n_failing_values:0,failure_fraction:.05,sort:!0}),qc=Object.freeze(Object.keys(Bc));function Rc(t,e){return t.index-e.index}function Ic(t,e){return e.n_success-t.n_success||Rc(t,e)}function Vc(t){return(""+t).trim()}function Wc(t){return void 0===t?function(t){return Vc(t)}:"function"==typeof t?function(e,n){return Vc(t(e,n))}:function(e){return Vc(e[""+t])}}function Xc(t){t?Array.isArray(t)||(t=[t]):t=$c;var e=t.reduce((function(t,e){var n=Yc[e];return n&&Array.prototype.push.apply(t,n),t}),[]),n=-1!==t.indexOf("string"),r=qc.reduce((function(t,e){return t[e]=Bc[e],t}),{}),i=function(t,i){i=Wc(i);var a=t.map(i).filter(Boolean);if(!a.length)return n?[Uc]:[];var o=Math.min(r.n_max,a.length),s=Math.floor(o*r.failure_fraction),l=r.n_failing_values,c=r.sort?Ic:Rc,u=e.slice().reduce((function(t,e,n){for(var r=u=0,i=[],c=!1,u=0;u<o;u++){var f=a[u];if(!e.test(f)&&(++r>s?c=!0:-1===i.indexOf(f)&&(i.push(f),i.length>l&&(c=!0)),c))break}return c||t.push({interp:e,n_success:o-r,index:n}),t}),[]).sort(c).map((function(t){return t.interp}));return n&&u.push(Uc),u};return qc.forEach((function(t){var e;i[(e=t,e.replace(/_(\w)/g,(function(t,e){return e.toUpperCase()})))]=function(e){return void 0===e?r[t]:(r[t]=e,i)}})),i}Xc.DATETIME_IDS=Object.freeze(Fc.map((function(t){return t.id}))),Xc.NUMBER_IDS=Object.freeze(jc.map((function(t){return t.id}))),Xc.STRING_IDS=Object.freeze([Uc.id]),Xc.getInterpretation=(Hc=Fc.concat(jc,Uc).reduce((function(t,e){return t[e.id]=e,t}),{}),function(t){return Hc[t]}),Xc._createAccessorFunction=Wc;const Gc=Xc.getInterpretation,Zc=Object.freeze({transform_labels:!1,transform:"multiply",multiply_divide_constant:1,exponentiate_constant:0,multiplier:1,prefix:"",n_dec:2,suffix:"",strip_zeros:!0,strip_separator:!0,negative_sign:"-$nk"});function Qc(t,e){const n=Gc(e);if(!n)throw new Error(`format_id ${e} not recognised`);if("number"!==n.type)throw new Error(`format_id ${e}not a number format`);const r=n.format,i=n.decimal_mark,a=n.thousand_separator,o=Math.trunc(t.n_dec),s=(a?",":"")+"."+Math.max(0,o)+"f",l=t.strip_zeros&&o>0?new RegExp("\\"+i+"?0+$"):null,c=t.strip_separator&&a,u=t.negative_sign,f=function(t){let e=1;return t.transform_labels&&(e="multiply"===t.transform?t.multiply_divide_constant:"divide"===t.transform?1/t.multiply_divide_constant:Math.pow(10,t.exponentiate_constant)),function(t){return t*e}}(t);return function(e){if(null===e)return"";const n=o>=0?f(e):function(t,e){if(!(e=e>0?Math.floor(e):Math.ceil(e)))return Math.round(t);const n=Math.pow(10,Math.abs(e));return e>0?Math.round(t*n)/n:Math.round(t/n)*n}(f(e),o),i=n<0,d=Math.abs(n),h=c&&a&&d>=1e3&&d<1e4;let p=r(d,s);return l&&(p=p.replace(l,"")),h&&(p=p.replace(a,"")),i&&"none"!==u?"-$nk"===u?"-"+t.prefix+p+t.suffix:"$-nk"===u?t.prefix+"-"+p+t.suffix:"($nk)"===u?"("+t.prefix+p+t.suffix+")":t.prefix+"("+p+")"+t.suffix:t.prefix+p+t.suffix}}function Jc(t){return t}var Kc,tu,eu,nu;function ru(t,e){return t.reduce((function(t,n){return t[n]=e,t}),{})}function iu(t,e){return(e=e||Object.keys(t)).reduce((function(e,n){return e[n]=t[n],e}),{})}var au=Object.freeze({compare:function(t,e){return t===e},assign:function(t){return t}}),ou=Object.freeze({compare:function(t,e){return t==e},assign:au.assign}),su=Object.freeze({compare:function(t,e){return!(!t||t.length!==e.length)&&t.every((function(t,n){return t===e[n]}))},assign:function(t){return t.slice()}}),lu=function(t){var e=t.slice();return Object.freeze({compare:function(t,n){return!!t&&e.every((function(e){return t[e]===n[e]}))},assign:function(t){return iu(t,e)}})};function cu(t){return Array.isArray(t)?lu(t):"equality"===t?ou:"array-contents"===t?su:au}function uu(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fu(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function du(){}var hu=.7,pu=1/hu,gu="\\s*([+-]?\\d+)\\s*",_u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mu=/^#([0-9a-f]{3,8})$/,yu=new RegExp(`^rgb\\(${gu},${gu},${gu}\\)$`),vu=new RegExp(`^rgb\\(${bu},${bu},${bu}\\)$`),wu=new RegExp(`^rgba\\(${gu},${gu},${gu},${_u}\\)$`),xu=new RegExp(`^rgba\\(${bu},${bu},${bu},${_u}\\)$`),Mu=new RegExp(`^hsl\\(${_u},${bu},${bu}\\)$`),ku=new RegExp(`^hsla\\(${_u},${bu},${bu},${_u}\\)$`),Tu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Cu(){return this.rgb().formatHex()}function Au(){return this.rgb().formatRgb()}function Su(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mu.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Nu(e):3===n?new Du(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Fu(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Fu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=yu.exec(t))?new Du(e[1],e[2],e[3],1):(e=vu.exec(t))?new Du(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=wu.exec(t))?Fu(e[1],e[2],e[3],e[4]):(e=xu.exec(t))?Fu(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Mu.exec(t))?Hu(e[1],e[2]/100,e[3]/100,1):(e=ku.exec(t))?Hu(e[1],e[2]/100,e[3]/100,e[4]):Tu.hasOwnProperty(t)?Nu(Tu[t]):"transparent"===t?new Du(NaN,NaN,NaN,0):null}function Nu(t){return new Du(t>>16&255,t>>8&255,255&t,1)}function Fu(t,e,n,r){return r<=0&&(t=e=n=NaN),new Du(t,e,n,r)}function Eu(t){return t instanceof du||(t=Su(t)),t?new Du((t=t.rgb()).r,t.g,t.b,t.opacity):new Du}function Du(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function zu(){return`#${ju(this.r)}${ju(this.g)}${ju(this.b)}`}function Ou(){const t=Lu(this.opacity);return`${1===t?"rgb(":"rgba("}${Pu(this.r)}, ${Pu(this.g)}, ${Pu(this.b)}${1===t?")":`, ${t})`}`}function Lu(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Pu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ju(t){return((t=Pu(t))<16?"0":"")+t.toString(16)}function Hu(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $u(t,e,n,r)}function Uu(t){if(t instanceof $u)return new $u(t.h,t.s,t.l,t.opacity);if(t instanceof du||(t=Su(t)),!t)return new $u;if(t instanceof $u)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new $u(o,s,l,t.opacity)}function Yu(t,e,n,r){return 1===arguments.length?Uu(t):new $u(t,e,n,null==r?1:r)}function $u(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Bu(t){return(t=(t||0)%360)<0?t+360:t}function qu(t){return Math.max(0,Math.min(1,t||0))}function Ru(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}uu(du,Su,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Cu,formatHex:Cu,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Uu(this).formatHsl()},formatRgb:Au,toString:Au}),uu(Du,(function(t,e,n,r){return 1===arguments.length?Eu(t):new Du(t,e,n,null==r?1:r)}),fu(du,{brighter(t){return t=null==t?pu:Math.pow(pu,t),new Du(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?hu:Math.pow(hu,t),new Du(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Du(Pu(this.r),Pu(this.g),Pu(this.b),Lu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zu,formatHex:zu,formatHex8:function(){return`#${ju(this.r)}${ju(this.g)}${ju(this.b)}${ju(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ou,toString:Ou})),uu($u,Yu,fu(du,{brighter(t){return t=null==t?pu:Math.pow(pu,t),new $u(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?hu:Math.pow(hu,t),new $u(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Du(Ru(t>=240?t-240:t+120,i,r),Ru(t,i,r),Ru(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $u(Bu(this.h),qu(this.s),qu(this.l),Lu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Lu(this.opacity);return`${1===t?"hsl(":"hsla("}${Bu(this.h)}, ${100*qu(this.s)}%, ${100*qu(this.l)}%${1===t?")":`, ${t})`}`}}));const Iu=Math.PI/180,Vu=180/Math.PI,Wu=.96422,Xu=1,Gu=.82521,Zu=4/29,Qu=6/29,Ju=3*Qu*Qu,Ku=Qu*Qu*Qu;function tf(t){if(t instanceof ef)return new ef(t.l,t.a,t.b,t.opacity);if(t instanceof lf)return cf(t);t instanceof Du||(t=Eu(t));var e,n,r=of(t.r),i=of(t.g),a=of(t.b),o=nf((.2225045*r+.7168786*i+.0606169*a)/Xu);return r===i&&i===a?e=n=o:(e=nf((.4360747*r+.3850649*i+.1430804*a)/Wu),n=nf((.0139322*r+.0971045*i+.7141733*a)/Gu)),new ef(116*o-16,500*(e-o),200*(o-n),t.opacity)}function ef(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function nf(t){return t>Ku?Math.pow(t,1/3):t/Ju+Zu}function rf(t){return t>Qu?t*t*t:Ju*(t-Zu)}function af(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function of(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function sf(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof lf)return new lf(t.h,t.c,t.l,t.opacity);if(t instanceof ef||(t=tf(t)),0===t.a&&0===t.b)return new lf(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Vu;return new lf(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new lf(t,e,n,null==r?1:r)}function lf(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function cf(t){if(isNaN(t.h))return new ef(t.l,0,0,t.opacity);var e=t.h*Iu;return new ef(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}function uf(t,e){if("string"==typeof t&&(t=document.querySelector(t)),!t)return console.error("No valid target in createScreenshotSVG"),null;const{width:n,height:r,x:i,y:a}=t.getBoundingClientRect(),o=document.createElementNS("http://www.w3.org/2000/svg","svg");return o.id=e,o.classList.add("flourish-screenshot-svg-container"),o.style.left=i+"px",o.style.top=a+"px",o.style.width=n+"px",o.style.height=r+"px",o.style.position="absolute",t.appendChild(o),{addTextElements:function(e){if("string"==typeof e&&(e=t.querySelectorAll(e)),!e)return console.error("No valid els inside addTextElements"),null;for(const t of e){const{x:e,y:n,width:r}=t.getBoundingClientRect(),i=document.createElementNS("http://www.w3.org/2000/svg","text"),{color:a,"font-family":s,"font-size":l,"font-weight":c,"line-height":u,"padding-left":f,"padding-top":d}=window.getComputedStyle(t),h=`${c} ${l} ${s}`,p=hf(t.innerText,h,null,Math.ceil(r)),g=isNaN(parseFloat(u))?1.2*parseFloat(l)+"px":u,_=window.getComputedStyle(t.closest("[style*='opacity']")||t).opacity;p.forEach(((t,n)=>{const r=document.createElementNS("http://www.w3.org/2000/svg","tspan");r.innerHTML=t,r.setAttribute("dy",0===n?parseFloat(d):g),r.setAttribute("dx",parseFloat(f)),r.setAttribute("x",e),r.setAttribute("opacity",_),i.appendChild(r)})),i.style.dominantBaseline="text-before-edge",i.setAttribute("x",e+"px"),i.setAttribute("y",n+"px"),i.setAttribute("font-family",s),i.setAttribute("font-size",l),i.setAttribute("font-weight",c),i.setAttribute("fill",a),o.appendChild(i)}return this},addCircleElements:function(e){if("string"==typeof e&&(e=t.querySelectorAll(e)),!e)return console.error("No valid els inside addCircleElements"),null;for(const t of e){const e=document.createElementNS("http://www.w3.org/2000/svg","circle"),{x:n,y:r,width:i}=t.getBoundingClientRect(),a=window.getComputedStyle(t)["background-color"],s=window.getComputedStyle(t.closest("[style*='opacity']")||t).opacity,l=i/2;e.setAttribute("cx",n+l+"px"),e.setAttribute("cy",r+l+"px"),e.setAttribute("r",l+"px"),e.setAttribute("opacity",s),e.setAttribute("fill",a),"rgba(0, 0, 0, 0)"===a&&e.setAttribute("stroke","#CCC"),o.appendChild(e)}return this},addGradient:function(e,n,r){if("string"==typeof e&&(e=t.querySelector(e)),!e)return console.error("No valid els inside addCircleElements"),null;const i=document.createElementNS("http://www.w3.org/2000/svg","g"),{x:a,y:s,width:l,height:c}=e.getBoundingClientRect(),{max:u,min:f}=r,d=u-f;for(let t=0;t<=l;t++){const e=document.createElementNS("http://www.w3.org/2000/svg","line");e.setAttribute("stroke",n(f+t*d/l)),e.setAttribute("x1",t+a),e.setAttribute("y1",s),e.setAttribute("x2",t+a),e.setAttribute("y2",c+s),i.appendChild(e)}return o.appendChild(i),this},remove:function(){o.remove()}}}uu(ef,(function(t,e,n,r){return 1===arguments.length?tf(t):new ef(t,e,n,null==r?1:r)}),fu(du,{brighter(t){return new ef(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new ef(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Du(af(3.1338561*(e=Wu*rf(e))-1.6168667*(t=Xu*rf(t))-.4906146*(n=Gu*rf(n))),af(-.9787684*e+1.9161415*t+.033454*n),af(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),uu(lf,sf,fu(du,{brighter(t){return new lf(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new lf(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return cf(this).rgb()}}));const ff=document.createElement("canvas").getContext("2d");function df(t,e){var n=function(t,e){if("string"!=typeof t)return!1;var n=Su(t);return n.opacity=void 0!==e?e:1,n}(t,e);return!!n&&n.toString()}function hf(t,e,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];"string"!=typeof t&&(t=String(t));const a=t=>ff.measureText(t).width>r,o=(t,e)=>{let n=ff.measureText(t).width;if(n<=e)return t;let r=1,i=t;do{i=t.substring(0,t.length-r)+"â¦",n=ff.measureText(i).width}while(n>e&&++r<t.length);return i.length<1&&(i=t.substring(0,1)+"â¦"),i};ff.font=e;let s=[];if(Object.defineProperty(s,"widest_line",{value:0,enumerable:!0,writable:!0}),Object.defineProperty(s,"has_truncated",{value:!1,enumerable:!0,writable:!0}),void 0===t||Number.isInteger(n)&&n<=0)return s;if(0===t.length)return s.push(""),s;if(r<=0)return t.length>0&&(s.push(t.slice(0,1)+"â¦"),s.widest_line=ff.measureText(s[0]).width),s;if(!t||0===t.length||0===n||r<=0)return s;const l=t.split(/\s+/g);if(!a(t))return s.push(t),s.widest_line=ff.measureText(t).width,s.has_truncated=!1,s;let c=new String(l[0]);if(c&&a(c))return i?c=o(c,r):l.length>1&&(c+="â¦"),s.push(c),s.widest_line=ff.measureText(c).width,s.has_truncated=!0,s;let u="",f=!1;if(l.forEach((t=>{if(!f)if(a(u+(u?" ":"")+t)){if(u){ff.measureText(u).width>r&&(u=o(u,r),f=!0),s.push(u),u=""}u=t}else u+=(u?" ":"")+t})),u&&!f&&s.push(o(u,r)),s.length>n){if(s.length>n&&Number.isInteger(n)){s.splice(n,s.length-n);let t=s[s.length-1];a(t+"â¦")&&(t=o(t,r-ff.measureText("â¦").width)),"â¦"!==t.slice(-1)&&(t+="â¦"),s[s.length-1]=t,f=!0}}return s.widest_line=Math.max(...s.map((t=>ff.measureText(t).width))),s.has_truncated=f,s}var pf,gf,_f=function(t){var e=ru(t=t.slice(),!0),n=ru(t,void 0),r=ru(t,cu("strict-equality")),i=function(t,i){if(e[t]){var a=n[t],o=r[t];return!o.compare(a,i)&&(n[t]=o.assign(i),!0)}},a=function(e,n){if("string"==typeof e)return i(e,n);var r=0;return Array.isArray(e)?e.forEach((function(e,n){i(t[n],e)&&r++})):Object.keys(e).forEach((function(t){i(t,e[t])&&r++})),!!r};return a.mode=function(t,n){return void 0===t?r[t]:(e[t]&&(r[t]=cu(n)),a)},a.stored=function(t){return"string"==typeof t?n[t]:iu(n)},a}(["data","blank_cells","legend_filter"]).mode("legend_filter","array-contents");var bf=Object.freeze({categorical_type:"palette",categorical_palette:["#4328E7","#9654E5","#FF6283","#FF8800","#FFC502","#007D8E","#1AA7EE","#29DAE4","#88E99A","#019C00","#C11F1F","#730000"],categorical_extend:!0,categorical_custom_palette:"",numeric_type:"sequential",sequential_palette:"Blues",sequential_custom_min:"#F7F7F7",sequential_custom_max:"#FF6283",sequential_color_space:"rgb",sequential_reverse:!1,sequential_custom_domain:!1,sequential_domain_min:0,sequential_domain_max:1,diverging_palette:"RdBu",diverging_custom_min:"#1AA7EE",diverging_custom_mid:"#F7F7F7",diverging_custom_max:"#FF6283",diverging_color_space:"rgb",diverging_reverse:!1,diverging_custom_domain:!1,diverging_domain_min:0,diverging_domain_mid:.5,diverging_domain_max:1,binning:!1,bin_count:4,bin_mode:"fixed",bin_thresholds:""}),mf=null,yf=360/((1+Math.sqrt(5))/2),vf="#FF0000";function wf(t,e,n){return function(r,i){Array.isArray(r)||(r=r?[r]:[vf]),i=void 0!==i?i:yf;var a=r.map((function(e){return t(e)})).filter((function(t){return!isNaN(t[e])&&!isNaN(t[n])}));a.length||(a=[t(vf)]);var o,s=a.length,l=a.reduce((function(t,n){return t+n[e]}),0)/s,c=a.reduce((function(t,e){return t+e[n]}),0)/s,u=s;do{o=a[--u].h}while(isNaN(o)&&u>0);var f=0;return function(){var e=++f*i;return Su(t((o+e)%360,l,c)).hex()}}}var xf={hcl:wf(sf,"c","l"),hsl:wf(Yu,"s","l")};function Mf(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function kf(t){return Ui(t[t.length-1])}var Tf=kf(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Mf)),Cf=kf(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Mf)),Af=kf(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Mf)),Sf=kf(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Mf)),Nf=kf(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Mf)),Ff=kf(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Mf)),Ef=kf(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Mf)),Df=kf(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Mf)),zf=kf(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Mf)),Of=kf(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Mf)),Lf=kf(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Mf)),Pf=kf(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Mf)),jf=kf(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Mf)),Hf=kf(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Mf)),Uf=kf(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Mf)),Yf=kf(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Mf)),$f=kf(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Mf)),Bf=kf(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Mf)),qf=kf(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Mf)),Rf=kf(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Mf)),If=kf(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Mf)),Vf=kf(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Mf)),Wf=kf(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Mf)),Xf=kf(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Mf)),Gf=kf(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Mf)),Zf=kf(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Mf)),Qf=kf(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Mf)),Jf=ua(Fi(300,.5,0),Fi(-240,.5,1)),Kf=ua(Fi(-100,.75,.35),Fi(80,1.5,.8)),td=ua(Fi(260,.75,.35),Fi(80,1.5,.8));function ed(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}Fi();var nd=ed(Mf("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),rd=ed(Mf("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),id=ed(Mf("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ad=ed(Mf("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function od(t,e){return t-e}function sd(t,e){var n=e[0],r=e[e.length-1],i=$a().domain([n,r]),a=Math.floor(t.bin_count);return i.range(sr(a)),i.thresholds()}function ld(t,e,n){var r;return r="fixed"==t.bin_mode?sd(t,e):"quantile"==t.bin_mode?function(t,e,n){var r=Ya().domain(n),i=Math.floor(t.bin_count);return r.range(sr(i)),r.quantiles()}(t,0,n):function(t){return t.bin_thresholds.split(";").map(parseFloat).filter((function(t){return!isNaN(t)&&null!==t})).sort(od)}(t),r}function cd(t,e,n,r,i){for(var a=1+e;a<=t+e;a++)i.push(r(n(a)))}function ud(t,e,n){var r=e.length,i=Ua(),a=[];if(1===r)a.push(n(.5));else if(2===t.length)i.domain([1,r]).range([0,1]),cd(r,0,i,n,a);else if(2===r)a.push(n(0)),a.push(n(1));else{var o,s,l=t[1],c=function(t,e){var n;return t.forEach((function(t,r){Math.abs(t-e)<.001&&(n=r)})),n}(e,l);c?(o=c,s=r-c-1,i.domain([1,o+1]).range([0,.5]),cd(o,0,i,n,a),a.push(n(.5)),i.domain([1,s+1]).range([.5,1]),cd(s,1,i,n,a)):(o=function(t,e){var n=0;return t.forEach((function(t){t<e&&n++})),n}(e,l),s=r-o,i.domain([1,o+1]).range([0,.5]),cd(o,0,i,n,a),i.domain([1,s+1]).range([.5,1]),cd(s,1,i,n,a))}return a}function fd(t,e,n,r){var i,a=ld(t,e,n),o=function(t,e,n){var r=[];if(0===e.length)return[.5*(t+n)];r.push(.5*(t+e[0]));for(var i=0;i<e.length-1;i++)r.push(.5*(e[i]+e[i+1]));return r.push(.5*(n+e[e.length-1])),r}(e[0],a,e[e.length-1]),s=ud(e,o,r);(i="quantile"==t.bin_mode?Ya().domain(n):Ba().domain(a)).range(s);var l=function(t){return isNaN(t)||null===t?null:i(t)};return l.domain=Object.freeze(e),l.thresholds=Object.freeze(a),l.centers=Object.freeze(o),l}function dd(t){var e=Array.isArray(t)?function(t,e){var n,r,i,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=i=n;++o<a;)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}(t):[0,1];return e}var hd=Object.freeze(["#efeca4","#e9e28f","#dccf64","#e3b23c","#e49547","#e37746","#dc5b36","#cb4144","#bb2244","#972545","#6a2c4f"]),pd=Object.freeze({Blues:Vf,BuGn:Of,BuPu:Lf,Carrots:Ui(hd),Cool:td,CubehelixDefault:Jf,GnBu:Pf,Greens:Wf,Greys:Xf,Inferno:id,Magma:rd,Oranges:Qf,OrRd:jf,Plasma:ad,PuBu:Uf,PuBuGn:Hf,PuRd:Yf,Purples:Gf,RdPu:$f,Reds:Zf,Viridis:nd,Warm:Kf,YlGn:qf,YlGnBu:Bf,YlOrBr:Rf,YlOrRd:If}),gd={hcl:la,hsl:oa,lab:sa,rgb:ji};function _d(t,e){var n=t.sequential_custom_domain?[t.sequential_domain_min,t.sequential_domain_max]:dd(e),r=function(e){var n=pd[t.sequential_palette]||function(t){var e=t.sequential_color_space,n=t.sequential_custom_min,r=t.sequential_custom_max;return gd[e](n,r)}(t);return t.sequential_reverse?n(1-e):n(e)};if(t.binning)return fd(t,n,e,r);var i=el(r).domain(n),a=function(t){return isNaN(t)||null===t?null:i(t)};return a.domain=Object.freeze(n),a}var bd,md,yd,vd,wd,xd=Object.freeze({BrBG:Tf,PiYG:Af,PRGn:Cf,PuOr:Sf,RdBu:Nf,RdGy:Ff,RdYlBu:Ef,RdYlGn:Df,Spectral:zf}),Md={hcl:la,hsl:oa,lab:sa,rgb:ji};function kd(t){var e=t.diverging_color_space,n=t.diverging_custom_min,r=t.diverging_custom_mid,i=t.diverging_custom_max;return function(t,e){for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[e](t-e)}}(Md[e],[n,r,i])}function Td(t){var e=null;for(var n in bf)void 0===t[n]&&(t[n]=bf[n]);var r=mf,i=function(t){return e&&e(t)||r};return{getColor:i,updateColorScale:function(n){return"number"!=typeof n[0]?e=function(t,e){var n={},r=wr(e).values(),i=t.categorical_palette,a=i.length;if(t.categorical_extend){var o=bf.rotation_angle,s=xf.hcl(i,o);r.forEach((function(t,e){n[t]=e<a?i[e]:s()}))}else r.forEach((function(t,e){n[t]=i[e%a]}));t.categorical_custom_palette.split("\n").filter(Boolean).forEach((function(t){var e=t.lastIndexOf(":");if(-1!==e){var r=t.slice(0,e).trim(),i=t.slice(e+1).trim();r&&i&&(n[r]=i)}}));var l=function(t){return n[t]};return l.domain=r.slice(),l.colors=r.map((function(t){return n[t]})),l.items=r.map((function(t){return{label:t,color:n[t]}})),l}(t,n):"sequential"===t.numeric_type?e=_d(t,n):"diverging"===t.numeric_type&&(e=function(t,e){var n=dd(e),r=n[0]<0&&n[1]>0?0:(n[0]+n[1])/2,i=[n[0],r,n[1]];t.diverging_custom_domain&&(i=[t.diverging_domain_min,t.diverging_domain_mid,t.diverging_domain_max]);var a=function(e){var n=xd[t.diverging_palette]||kd(t);return t.diverging_reverse?n(1-e):n(e)};if(t.binning)return fd(t,i,e,a);var o=nl(a).domain(i),s=function(t){return isNaN(t)||null===t?null:o(t)};return s.domain=Object.freeze(i),s.midpoint=t.diverging_custom_domain?t.diverging_domain_mid:r,s}(t,n)),i.thresholds=e.thresholds,i.centers=e.centers,i.midpoint=e.midpoint,i.domain=e.domain,i.colors=e.colors,i.items=e.items,this},fallback:function(t){return void 0===t?r:(r="default"===t?mf:t,this)}}}function Cd(){wd=[],yd="category"==Be.color_mode?function(){for(var t={},e=[],n=0;n<pf.length;n++){var r=pf[n].category;t[r]||(t[r]=!0,e.push(r))}return e}():[],vd="bar"==Be.color_mode?function(){for(var t=[],e=0;e<pf.length;e++){var n=pf[e].label;t.push(n)}return t}():[];var t="category"==Be.color_mode?yd:vd;bd.updateColorScale(t),md=function(t){var e="category"==Be.color_mode?"category":"label",n="string"==typeof t?t:t[e];return bd.getColor(n)}}function Ad(){"single"==Be.color_mode?function(){yd=[],vd=[],wd=[];var t={};Be.color_single_overrides.split("\n").filter((function(t){return t.trim()})).forEach((function(e){var n=e.lastIndexOf(":");if(-1!==n){var r=e.slice(0,n).trim(),i=e.slice(n+1).trim();r&&i&&void 0===t[r]&&(t[r]=i,wd.push(r))}})),md=function(e){var n="string"==typeof e?e:e.label;return void 0!==t[n]?t[n]:Be.color_single}}():Cd()}
/** @preserve
	/////    SAPC APCA - Advanced Perceptual Contrast Algorithm
	/////           Beta 0.1.9 W3 â¢ contrast function only
	/////           DIST: W3 â¢ Revision date: July 3, 2022
	/////    Function to parse color values and determine Lc contrast
	/////    Copyright Â© 2019-2022 by Andrew Somers. All Rights Reserved.
	/////    LICENSE: W3 LICENSE
	/////    CONTACT: Please use the ISSUES or DISCUSSIONS tab at:
	/////    https://github.com/Myndex/SAPC-APCA/
	/////
	///////////////////////////////////////////////////////////////////////////////
	/////
	/////    MINIMAL IMPORTS:
	/////      import { APCAcontrast, sRGBtoY, displayP3toY,
	/////               calcAPCA, fontLookupAPCA } from 'apca-w3';
	/////      import { colorParsley } from 'colorparsley';
	/////
	/////    FORWARD CONTRAST USAGE:
	/////      Lc = APCAcontrast( sRGBtoY( TEXTcolor ) , sRGBtoY( BACKGNDcolor ) );
	/////    Where the colors are sent as an rgba array [255,255,255,1]
	/////
	/////    Retrieving an array of font sizes for the contrast:
	/////      fontArray = fontLookupAPCA(Lc);
	/////
	/////    Live Demonstrator at https://www.myndex.com/APCA/
	// */const Sd={mainTRC:2.4,get mainTRCencode(){return 1/this.mainTRC},sRco:.2126729,sGco:.7151522,sBco:.072175,normBG:.56,normTXT:.57,revTXT:.62,revBG:.65,blkThrs:.022,blkClmp:1.414,scaleBoW:1.14,scaleWoB:1.14,loBoWoffset:.027,loWoBoffset:.027,deltaYmin:5e-4,loClip:.1,mFactor:1.9468554433171,get mFactInv(){return 1/this.mFactor},mOffsetIn:.0387393816571401,mExpAdj:.283343396420869,get mExp(){return this.mExpAdj/this.blkClmp},mOffsetOut:.312865795870758};function Nd(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0];function e(t){return Math.pow(t/255,Sd.mainTRC)}return Sd.sRco*e(t[0])+Sd.sGco*e(t[1])+Sd.sBco*e(t[2])}function Fd(t,e){if("string"!=typeof t)return!1;var n=Su(t);return n.opacity=void 0!==e?e:1,n}function Ed(t,e){if(!t||!e)return void console.warn("No valid color",t,e);const n=Nd(Object.values(Fd(t))),r=Nd(Object.values(Fd(e)));return Math.abs(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;const r=[0,1.1];if(isNaN(t)||isNaN(e)||Math.min(t,e)<r[0]||Math.max(t,e)>r[1])return 0;let i=0,a=0,o="BoW";return t=t>Sd.blkThrs?t:t+Math.pow(Sd.blkThrs-t,Sd.blkClmp),e=e>Sd.blkThrs?e:e+Math.pow(Sd.blkThrs-e,Sd.blkClmp),Math.abs(e-t)<Sd.deltaYmin?0:(e>t?(i=(Math.pow(e,Sd.normBG)-Math.pow(t,Sd.normTXT))*Sd.scaleBoW,a=i<Sd.loClip?0:i-Sd.loBoWoffset):(o="WoB",i=(Math.pow(e,Sd.revBG)-Math.pow(t,Sd.revTXT))*Sd.scaleWoB,a=i>-Sd.loClip?0:i+Sd.loWoBoffset),n<0?100*a:0==n?Math.round(100*Math.abs(a))+"<sub>"+o+"</sub>":Number.isInteger(n)?(100*a).toFixed(n):0)}(n,r))}function Dd(t){if(!t)return void console.warn("No valid color",t);const e=Ed("#000000",t);return Ed("#ffffff",t)<e}function zd(){return this.declarations=[],this}function Od(t){return this.selector=t,this.styles=[],this}zd.prototype.select=function(t){if(!t)return this;var e=new Od(t);return e.parent=this,this.addDeclaration(e),e},zd.prototype.addDeclaration=function(t){return this.declarations.push(t),this},zd.prototype.print=function(){var t="";return this.declarations.forEach((function(e){t+=e.selector+" {\n",e.styles.forEach((function(e){t+="\t"+e[0]+": "+e[1]+";\n"})),t+="}\n\n"})),t},zd.prototype.clear=function(){return this.declarations=[],this},Od.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this},Od.prototype.select=function(t){return this.parent.select(this.selector+" "+t)};var Ld="0.2em";function Pd(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}var jd=0,Hd=Object.freeze({show_legend:!0,title_mode:"auto",title:"",max_width:100,swatch_width:.75,swatch_height:1,swatch_radius:3,swatch_outline:!1,swatch_outline_color:null,legend_items_padding:.5,icon_height:1,icon_color:"#777777",icon_fill_opacity:1,icon_stroke_opacity:1,order_override:"",orientation:"horizontal"});function Ud(t){for(var e in this._state=t,Hd)void 0===this._state[e]&&(this._state[e]=Hd[e]);return this._colorFunction=void 0,this._formatFunction=void 0,this._legend_items=[],this._filtered_items=[],this._eventListeners=[],this._id="fl-legend-discrete-color-"+jd,this._visible=!0,this._auto_title="",this._container=Kn(document.createElement("div")).attr("class","fl-legend-container").attr("id",this._id),this._container.append("p").attr("class","fl-legend-title"),jd++,this}Ud.prototype.appendTo=function(t){if(t.appendChild(this._container.node()),!document.querySelector("#legend-styles")){var e=document.createElement("style"),n=new zd;n.select(".fl-legend-container.interactive .fl-legend-item:hover").style("opacity",.75).style("cursor","pointer"),e.id="legend-styles",e.type="text/css",e.innerHTML=n.print(),document.head.appendChild(e)}return this},Ud.prototype.format=function(t){return this._formatFunction=t,this},Ud.prototype.getContainer=function(){return this._container},Ud.prototype.visible=function(t){return void 0===t?this._visible:(this._visible=t,this)},Ud.prototype.allowSingleEntry=function(t){return void 0===t?this._allow_single_entry:(this._allow_single_entry=t,this)},Ud.prototype.autoTitle=function(t){return void 0===t?this._auto_title:(this._auto_title=t,this)},Ud.prototype._updateTitle=function(){var t=this,e="auto"==t._state.title_mode?t.autoTitle():t._state.title;this._container.select(".fl-legend-title").text(e).style("display",(function(){return e.trim()?void 0===t._state.orientation||"horizontal"==t._state.orientation?"inline-block":"block":"none"})).style("padding-inline-start",0).style("padding-inline-end",Ld)},Ud.prototype.data=function(t,e){return this._colorFunction=e,t||e?(e?Array.isArray(t)?this._legend_items=t.slice().map((function(t,n){var r="object"==typeof t?t.label||"":t;return r?{label:r,color:e(r),index:n}:null})).filter((function(t){return null!==t})):this._legend_items=[]:this._legend_items=Array.isArray(t)?t.slice():[],this):this._legend_items.slice()},Ud.prototype.filtered=function(t){return t?(this._filtered_items=Array.isArray(t)?t.slice():[],this):this._filtered_items.slice()},Ud.prototype.on=function(t,e){return this._container?(e&&this._eventListeners.indexOf(t)<0?this._eventListeners.push(t):e||this._eventListeners.splice(this._eventListeners.indexOf[t],1),this._container.classed("interactive",this._eventListeners.length>0),e?(this._container.on(t,(function(){var t=Bn.target,n=t.parentNode,r=t.classList.contains("fl-legend-item")?t:n.classList.contains("fl-legend-item")?n:null;if(r){var i=Kn(r).datum();e.call(r,i,i.index)}})),"click"==t&&this._container.on("keydown",(function(){if("Enter"==Bn.key){var t=Bn.target,n=t.parentNode,r=t.classList.contains("fl-legend-item")?t:n.classList.contains("fl-legend-item")?n:null;if(r){var i=Kn(r).datum();e.call(r,i,i.index)}}}))):(this._container.on(t,null),"click"==t&&this._container.on("keydown",null)),this):this},Ud.prototype.update=function(){const t=this._allow_single_entry?1:2,e=this._state.show_legend&&this._visible&&this._legend_items.length>=t;return this._container.style("display",e?"":"none"),e?(this._updateTitle(),this._updateLegend(),this):this},Ud.prototype._updateLegend=function(){var t,e=this,n=this._formatFunction;this._container.style("max-width",Pd(this._state.max_width)+"px").style("display","inline-flex").style("flex-wrap","wrap").style("align-items","horizontal"==this._state.orientation?"center":"start").style("align-content","horizontal"==this._state.orientation?"center":null).style("flex-direction","horizontal"==this._state.orientation?null:"column").style("max-height",.5*window.innerHeight+"px").style("overflow-y","auto"),t=this._state.order_override.trim()?function(t,e){for(var n={},r=e.split(/\s*\n\s*/),i=0;i<r.length;i++)n[r[i]]=i;for(var a=[],o=0;o<t.length;o++){var s=t[o],l=n[s.label];void 0!==l&&(a[l]=s)}return a.filter((function(t){return void 0!==t}))}(this._legend_items,this._state.order_override):this._legend_items;var r=this._container.selectAll(".fl-legend-item").data(t),i=r.enter().append("div").attr("class","fl-legend-item");i.append("div").attr("class","fl-legend-swatch");let a=i.append("div").attr("class","fl-legend-icon-container");a.append("svg").attr("class","fl-legend-icon fl-ignore-svg-download").append("path"),a.append("img").attr("class","fl-legend-icon"),a.append("div").attr("class","fl-legend-icon"),i.append("p").attr("class","fl-legend-label");var o=r.merge(i),s=this._eventListeners.length>0;o.style("display","horizontal"==this._state.orientation?"inline-flex":"flex").style("flex-direction",(function(t){return t.reverse?"row-reverse":"row"})).style("opacity",(function(t){return e._filtered_items.indexOf(t.label)>-1?.2:""})).style("align-items","center").style("padding-inline-end","horizontal"==this._state.orientation?this._state.legend_items_padding+"rem":0).style("padding-inline-start",0).attr("tabindex",s?"0":null).attr("role",s?"button":null),o.select(".fl-legend-swatch").style("height",this._state.swatch_height+"rem").style("width",this._state.swatch_width+"rem").style("border-radius",this._state.swatch_radius+"px").style("background-color",(function(t){return t.color})).style("border",(()=>this._state.swatch_outline?this._state.swatch_outline_color?`1px solid ${this._state.swatch_outline_color}`:"1px solid":"none")).style("box-sizing",this._state.swatch_outline?"border-box":"content-box").style("flex-shrink","0").style("display",(function(t){return t.icon?"none":null}));const l=o.filter((t=>t.icon));return l.each((function(t){let n=Math.ceil(Pd(e._state.icon_height)),r="auto";if(t.icon.width){let n=t.icon.width,i=t.icon.height,a=t.outline?i*t.stroke_thickness:0;n+=a,i+=a;let o=n/i,s=Pd(e._state.icon_height*o);r=Math.ceil(s)}let i=.25*e._state.text_size+"rem";Kn(this).selectAll(".fl-legend-icon").attr("height",n).attr("width",r).style("margin-right",i)})),o.select(".fl-legend-icon-container").style("display",(function(t){return t.icon?null:"none"})),l.each((function(t){Kn(this).select("svg.fl-legend-icon").style("display",t.icon.path_string?"inline":"none"),Kn(this).select("img.fl-legend-icon").style("display",t.icon.url?"inline":"none"),Kn(this).select("div.fl-legend-icon").style("display",t.icon.html?"inline-block":"none")})),l.filter((t=>t.icon.url)).select("img.fl-legend-icon").attr("src",(t=>t.icon.url)),l.filter((t=>t.icon.html)).select("div.fl-legend-icon").html((t=>t.icon.html)).style("font-size",`${Math.ceil(Pd(this._state.icon_height))}px`).style("color",(function(t){return t.outline?"none":t.fill||t.color||e._state.icon_color})),l.filter((t=>t.icon.path_string)).select("svg.fl-legend-icon path").attr("d",(function(t){return t.icon?t.icon.path_string:null})).attr("transform",(function(t){if(!t.icon)return null;var n=t.icon.height,r=t.outline?n*t.stroke_thickness:0;n+=r;var i="scale("+Pd(e._state.icon_height)/n+")";return i+="translate("+.5*r+","+.5*r+")"})).style("fill",(function(t){return t.outline?"none":t.fill||t.color||e._state.icon_color})).style("fill-opacity",(function(t){return t.outline?0:t.fill_opacity||e._state.icon_fill_opacity})).style("stroke",(function(t){return t.outline||t.stroke?t.stroke||t.color||e._state.icon_color:"none"})).style("stroke-width",(function(t){if(!t.outline&&!t.stroke_width)return 0;var e=t.icon.height*t.stroke_thickness;return t.stroke_width||e})).style("stroke-opacity",(function(t){return t.outline||t.stroke_opacity?t.stroke_opacity||e._state.icon_stroke_opacity:0})),o.select(".fl-legend-label").text((function(t){return n?n(t.label):t.label})).style("margin",0).style("user-select","none").style("padding-inline-end",0).style("padding-inline-start",Ld),r.exit().remove(),this._legend_item_els=o,this},Ud.prototype.prepareScreenshotSVG=function(){this._state.show_legend&&this._visible&&this._legend_items.length&&uf("#fl-layout-wrapper",this._id+"-svg-screenshot-container").addTextElements(".fl-legend-title").addCircleElements(".fl-legend-swatch").addTextElements(".fl-legend-label")},Ud.prototype.clearScreenshotSVG=function(){const t=document.getElementById(this._id+"-svg-screenshot-container");t&&t.remove()};var Yd,$d,Bd,qd,Rd,Id,Vd=Object.freeze({alignment:"start",orientation:"horizontal",text_color:null,title_weight:"bold",text_weight:"normal",text_size:1});function Wd(t){for(var e in this._state=t,Vd)void 0===this._state[e]&&(this._state[e]=Vd[e]);return this}Wd.prototype.appendTo=function(t){return this._container=Kn(t).append("div").node(),this},Wd.prototype.add=function(t){this._legends=Array.isArray(t)?t:[t];var e=this;return this._legends.forEach((function(t){t&&"function"==typeof t.appendTo?t.appendTo(e._container):console.warn("Please pass in valid legend instances into .add()")})),this},Wd.prototype.update=function(){var t=window.template||void 0,e=t?t.state.layout:void 0;$d=this._state.text_color||t&&e&&e.font_color||"#333333",Bd=e?e.body_font.name:window.getComputedStyle(document.body).fontFamily,Yd=this._state.text_size,qd=this._state.text_weight;var n={family:Bd,weight:qd,size:Yd,color:$d};this._legends.forEach((function(t){t&&"function"==typeof t.update&&t.update(n)}));var r="horizontal"===this._state.orientation,i=this._state.alignment,a="center"==i?i:"flex-"+i;return Kn(this._container).style("justify-content",r?a:null).style("align-items",r?null:a).style("display","flex").style("flex-direction",r?"row":"column"),Kn(this._container).selectAll(".fl-legend-container").style("padding-inline-end",(function(){return r?"0.5rem":0})).style("padding-bottom",(function(){return r?0:"0.25rem"})).style("justify-content",a),Kn(this._container).selectAll(".fl-legend-title").style("color",this._state.text_color).style("font-weight",this._state.title_weight).style("font-size",Yd+"rem").style("margin-right",.25*Yd+"rem").style("line-height","1.25em").style("margin-top",0).style("margin-bottom",0).style("text-align",i),Kn(this._container).selectAll(".fl-legend-item").style("display","inline-flex").style("text-align",i),Kn(this._container).selectAll(".fl-legend-label").style("color",this._state.text_color).style("font-weight",this._state.text_weight).style("font-size",Yd+"rem"),Kn(this._container).selectAll(".label").style("color",this._state.text_color).style("font-weight",this._state.text_weight).style("font-size",Yd+"rem"),this};var Xd,Gd,Zd,Qd,Jd="A-Za-zÂªÂµÂºÃ-ÃÃ-Ã¶Ã¸-ËË-ËË -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½ÎÎ-ÎÎÎ-Î¡Î£-ÏµÏ·-ÒÒ-Ô§Ô±-ÕÕÕ¡-Ö×-×ª×°-×²Ø -ÙÙ®Ù¯Ù±-ÛÛÛ¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ-Ü¯Ý-Þ¥Þ±ß-ßªß´ßµßºà -à à à ¤à ¨à¡-à¡à¢ à¢¢-à¢¬à¤-à¤¹à¤½à¥à¥-à¥¡à¥±-à¥·à¥¹-à¥¿à¦-à¦à¦à¦à¦-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§à§à§à§-à§¡à§°à§±à¨-à¨à¨à¨à¨-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©-à©à©à©²-à©´àª-àªàª-àªàª-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à¬-à¬à¬à¬à¬-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­à­à­-à­¡à­±à®à®-à®à®-à®à®-à®à®à®à®à®à®à®£à®¤à®¨-à®ªà®®-à®¹à¯à°-à°à°-à°à°-à°¨à°ª-à°³à°µ-à°¹à°½à±à±à± à±¡à²-à²à²-à²à²-à²¨à²ª-à²³à²µ-à²¹à²½à³à³ à³¡à³±à³²à´-à´à´-à´à´-à´ºà´½àµàµ àµ¡àµº-àµ¿à¶-à¶à¶-à¶±à¶³-à¶»à¶½à·-à·à¸-à¸°à¸²à¸³à¹-à¹àºàºàºàºàºàºàºàº-àºàº-àºàº¡-àº£àº¥àº§àºªàº«àº­-àº°àº²àº³àº½à»-à»à»à»-à»à¼à½-à½à½-à½¬à¾-à¾á-áªá¿á-áá-áá¡á¥á¦á®-á°áµ-ááá -áááá-áºá¼-áá-áá-ááá-áá -áá-áá-á°á²-áµá¸-á¾áá-áá-áá-áá-áá-áá-áá -á´á-á¬á¯-á¿á-áá -áªá-áá-áá -á±á-áá -á¬á®-á°á-á³ááá  -á¡·á¢-á¢¨á¢ªá¢°-á£µá¤-á¤á¥-á¥­á¥°-á¥´á¦-á¦«á§-á§á¨-á¨á¨ -á©áª§á¬-á¬³á­-á­á®-á® á®®á®¯á®º-á¯¥á°-á°£á±-á±á±-á±½á³©-á³¬á³®-á³±á³µá³¶á´-á¶¿á¸-á¼á¼-á¼á¼ -á½á½-á½á½-á½á½á½á½á½-á½½á¾-á¾´á¾¶-á¾¼á¾¾á¿-á¿á¿-á¿á¿-á¿á¿-á¿á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â-ââââ-âââ-ââ¤â¦â¨âª-â­â¯-â¹â¼-â¿â-âââââ°-â°®â°°-â±â± -â³¤â³«-â³®â³²â³³â´-â´¥â´§â´­â´°-âµ§âµ¯â¶-â¶â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·-â·â·-â·â·-â·â·-â·â¸¯ããã±-ãµã»ã¼ã-ãã-ãã¡-ãºã¼-ã¿ã-ã­ã±-ãã -ãºã°-ã¿ã-ä¶µä¸-é¿ê-êê-ê½ê-êê-êêªê«ê-ê®ê¿-êê -ê¥ê-êê¢-êê-êê-êê -êªê¸-ê ê -ê ê -ê ê -ê ¢ê¡-ê¡³ê¢-ê¢³ê£²-ê£·ê£»ê¤-ê¤¥ê¤°-ê¥ê¥ -ê¥¼ê¦-ê¦²ê§ê¨-ê¨¨ê©-ê©ê©-ê©ê© -ê©¶ê©ºêª-êª¯êª±êªµêª¶êª¹-êª½ê«ê«ê«-ê«ê« -ê«ªê«²-ê«´ê¬-ê¬ê¬-ê¬ê¬-ê¬ê¬ -ê¬¦ê¬¨-ê¬®ê¯-ê¯¢ê°-í£í°-íí-í»ï¤-ï©­ï©°-ï«ï¬-ï¬ï¬-ï¬ï¬ï¬-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­ï­ï­ï­ï­-ï®±ï¯-ï´½ïµ-ï¶ï¶-ï·ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½ï½¦-ï¾¾ï¿-ï¿ï¿-ï¿ï¿-ï¿ï¿-ï¿",Kd="fl-spanner",th=Kd+"-";function eh(t){("string"==typeof t||t instanceof HTMLElement)&&(t=Kn(t));var e={data:[],element:null,ignore_case:!0,text:function(t){return t},class:Kd},n=function(t,n){var r=e.text(t,n);if(!r||"string"!=typeof r)return null;var i=r.trim();return i?{original:r,trimmed:i,length:i.length,d:t,i:n}:null},r=function(){var r=t.node(),i=t.text(),a=e.element;return a||(a=r instanceof SVGElement||"svg"===r.nodeName.toLowerCase()?"tspan":"span"),e.data.map(n).filter((function(t){return t})).sort((function(t,e){return e.length-t.length||t.i-e.i})).forEach((function(t){var n=function(t,n){var r=n.trimmed.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i="<"+t+".*?<\\/"+t+">|(?:(^|[^"+Jd+"])("+r+")($|[^"+Jd+"]))",a=e.ignore_case?"gi":"g";return new RegExp(i,a)}(a,t);i=i.replace(n,(function(e,n,r,i){return r?n+function(t,e,n){return"<"+t+" class='"+th+n+"'>"+e+"</"+t+">"}(a,r,t.i)+i:e}))})),t.html(i),t.selectAll(a).each((function(){var t=e.data[this.getAttribute("class").slice(th.length)];Kn(this).datum(t).attr("class",e.class)}))};return r.data=function(t){return void 0===t?e.data:(e.data=Array.isArray(t)?t:[t],r)},r.element=function(t){return void 0===t?e.element:(e.element=t,r)},r.ignoreCase=function(t){return void 0===t?e.ignore_case:(e.ignore_case=!!t,r)},r.text=function(t){return void 0===t?e.text:(e.text=t,r)},r.class=function(t){return void 0===t?e.class:(e.class=t,r)},r}function nh(t,e,n){"off"!==Be.text_legend&&eh(t).data(e)().style("color",(function(t){return md(t)})).style("opacity",(function(t){return-1!==Be.legend_filter.indexOf(t)?.3:1})).style("font-weight",n).style("cursor","category"==Be.color_mode?"pointer":null).on("click",(function(t){if("category"===Be.color_mode){var e=Be.legend_filter.indexOf(t);-1!==e?Be.legend_filter.splice(e,1):Be.legend_filter.length<yd.length-1&&Be.legend_filter.push(t),gv()}}))}function rh(){"category"==Be.color_mode?Xd=yd:"bar"==Be.color_mode?Xd=vd:"single"==Be.color_mode&&(Xd=wd),function(){if("off"!==Be.text_legend){var t=Xd,e=Be.text_legend_bold?"bold":null;("auto"===Be.text_legend||Be.text_legend_title)&&nh(Kn("#fl-layout-header h2"),t,e),("auto"===Be.text_legend||Be.text_legend_subtitle)&&nh(Kn("#fl-layout-header h3"),t,e)}}(),function(){if("text_legend"==Be.caption_mode){var t=[];("auto"===Be.text_legend||Be.text_legend_caption&&"custom"===Be.text_legend)&&(t=Xd),nh(Kn("#caption #text"),t,Be.text_legend_bold?"bold":null)}}()}function ih(){document.body.querySelector(".font-samples").innerHTML=""}function ah(t){Qd||(Qd=t||["normal","bold"]);var e="";["mobile_big","tablet","desktop","big_screen"].forEach((function(t){var n="@media(min-width: "+Dg["breakpoint_"+t]+"px) {\n",r="html { font-size:"+Dg["font_size_"+t]+"%; }";e+=n+r+"\n}\n\n"}));var n="html { \n font-size:"+Dg.font_size_mobile_small+"%; \n -webkit-font-smoothing: antialiased; \n -moz-osx-font-smoothing: auto; } \n\n\n";Gd.innerHTML=n+e;var r=[Dg.body_font,Dg.title_font,Dg.subtitle_font,Dg.footer_font];r.forEach((function(t){if(t){for(var e=!1,n=document.head.querySelectorAll("link.layout-font"),r=0;r<n.length;r++){n[r].href==t.url&&(e=!0)}if(!e){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("href",t.url),i.className="layout-font",document.head.appendChild(i),function(t){document.body.querySelector(".font-samples")||((Zd=document.createElement("div")).className="font-samples",Zd.style.visibility="hidden",Zd.style.overflow="hidden",Zd.style.height=0,document.body.appendChild(Zd)),Qd.forEach((function(e){var n=document.createElement("div");n.className="font-sample-el",n.innerText=t.name,n.style.fontFamily=t.name,n.style.fontWeight=e,Zd.appendChild(n)}))}(t)}}}));for(var i=document.head.querySelectorAll("link.layout-font"),a=0;a<i.length;a++){var o=i[a],s=!1;r.forEach((function(t){t&&t.url==o.href&&(s=!0)})),s||o.parentElement.removeChild(o)}document.body.style.fontFamily=Dg.body_font.name}var oh,sh,lh,ch,uh,fh,dh,hh,ph,gh,_h=Object.freeze({"stack-default":["header","controls","legend","primary","footer"],"stack-2":["primary","header","controls","legend","footer"],"stack-3":["header","primary","controls","legend","footer"],"stack-4":["controls","primary","header","legend","footer"],"grid-1":{wrapper:{display:"grid","grid-template-rows":"min-content min-content minmax(min-content,auto) min-content","grid-template-columns":"1fr 2fr"},header:{"grid-column-start":1},legend:{"grid-column-start":1},controls:{"grid-column-start":1},primary:{"grid-column-start":2,"grid-row":"1 / -1"},footer:{"grid-column-start":"1","grid-row-start":4}}});function bh(t){return window.innerWidth!==oh&&(oh=window.innerWidth,sh=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*sh}function mh(t){return"justify"==t?"":"left"==t?"start":"right"==t?"end":"center"==t?"center":void 0}function yh(t){return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")?"http://"+t:t}function vh(){return Dg.header_logo_enabled&&Dg.header_logo_src}function wh(){var t="top"==Dg.header_border||"top_and_bottom"==Dg.header_border,e="bottom"==Dg.header_border||"top_and_bottom"==Dg.header_border;lh.style.textAlign=mh(Dg.header_align),lh.style.margin=0,lh.style.borderTop=t?Dg.header_border_width+"px "+Dg.header_border_style+" "+Dg.header_border_color:null,lh.style.borderBottom=e?Dg.header_border_width+"px "+Dg.header_border_style+" "+Dg.header_border_color:null,lh.style.paddingTop=t?Dg.header_border_space+"rem":"",lh.style.paddingBottom=e?Dg.header_border_space+"rem":"",ch.innerHTML=Dg.title?Dg.title:"",ch.setAttribute("id","flourish-header-title"),ch.style.fontFamily=Dg.title_font?Dg.title_font.name:"inherit",ch.style.fontSize=("custom"!=Dg.title_size?Dg.title_size:Dg.title_size_custom)+"rem",ch.style.lineHeight=Dg.title_line_height,ch.style.fontWeight=Dg.title_weight,ch.style.color=Dg.title_color||Dg.font_color,ch.style.margin=0,ch.style.paddingTop=Dg.title?("custom"==Dg.title_space_above?Dg.title_space_above_custom:Dg.title_space_above)+"rem":0,uh.innerHTML=Dg.subtitle?Dg.subtitle:"",uh.setAttribute("id","flourish-header-subtitle"),uh.style.fontFamily=Dg.subtitle_font?Dg.subtitle_font.name:"inherit",uh.style.fontSize=("custom"!=Dg.subtitle_size?Dg.subtitle_size:Dg.subtitle_size_custom)+"rem",uh.style.lineHeight=Dg.subtitle_line_height,uh.style.fontWeight=Dg.subtitle_weight,uh.style.color=Dg.subtitle_color||Dg.font_color,uh.style.margin=0,uh.style.paddingTop=Dg.subtitle?("custom"==Dg.subtitle_space_above?Dg.subtitle_space_above_custom:Dg.subtitle_space_above)+"rem":0,fh.innerHTML=Dg.header_text?Dg.header_text:"",fh.setAttribute("id","flourish-header-text"),fh.style.fontSize=("custom"!=Dg.header_text_size?Dg.header_text_size:Dg.header_text_size_custom)+"rem",fh.style.lineHeight=Dg.header_text_line_height,fh.style.fontWeight=Dg.header_text_weight,fh.style.margin=0,fh.style.color=Dg.header_text_color||Dg.font_color,fh.style.paddingTop=Dg.header_text?("custom"==Dg.header_text_space_above?Dg.header_text_space_above_custom:Dg.header_text_space_above)+"rem":0,dh.style.clear="both",hh.innerHTML="",vh()&&((ph=ph||document.createElement("img")).className="flourish-header-logo",ph.src=yh(Dg.header_logo_src),ph.alt=Dg.header_logo_alt,ph.style.position="inside"==Dg.header_logo_align?"":"fixed",ph.style.height=Dg.header_logo_height+"rem",ph.style.top="outside"==Dg.header_logo_align?0:"",ph.style.left="outside"==Dg.header_logo_align&&"left"==Dg.header_logo_position_outside?0:"",ph.style.right="outside"==Dg.header_logo_align&&"right"==Dg.header_logo_position_outside?0:"",ph.style.marginTop=Dg.header_logo_margin_top+"rem",ph.style.marginBottom=Dg.header_logo_margin_bottom+"rem",ph.style.marginLeft=Dg.header_logo_margin_left+"rem",ph.style.marginRight=Dg.header_logo_margin_right+"rem",ph.style.float="top"==Dg.header_logo_position_inside||"outside"==Dg.header_logo_align?"":Dg.header_logo_position_inside,ph.style.width="auto",Dg.header_logo_link_url?((gh=document.createElement("a")).target="_blank",gh.appendChild(ph),hh.appendChild(gh),ph.style.cursor="pointer",gh.href=yh(Dg.header_logo_link_url)):hh.appendChild(ph))}const xh=new Date,Mh=new Date;function kh(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,a)=>{const o=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return o;let s;do{o.push(s=new Date(+n)),e(n,a),t(n)}while(s<n&&n<r);return o},i.filter=n=>kh((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(i.count=(e,r)=>(xh.setTime(+e),Mh.setTime(+r),t(xh),t(Mh),Math.floor(n(xh,Mh))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t==0:e=>i.count(0,e)%t==0):i:null)),i}const Th=6e4,Ch=864e5,Ah=6048e5,Sh=kh((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Th)/Ch),(t=>t.getDate()-1));Sh.range;const Nh=kh((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/Ch),(t=>t.getUTCDate()-1));Nh.range;const Fh=kh((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/Ch),(t=>Math.floor(t/Ch)));function Eh(t){return kh((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Th)/Ah))}Fh.range;const Dh=Eh(0),zh=Eh(1),Oh=Eh(2),Lh=Eh(3),Ph=Eh(4),jh=Eh(5),Hh=Eh(6);function Uh(t){return kh((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/Ah))}Dh.range,zh.range,Oh.range,Lh.range,Ph.range,jh.range,Hh.range;const Yh=Uh(0),$h=Uh(1),Bh=Uh(2),qh=Uh(3),Rh=Uh(4),Ih=Uh(5),Vh=Uh(6);Yh.range,$h.range,Bh.range,qh.range,Rh.range,Ih.range,Vh.range;const Wh=kh((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));Wh.every=t=>isFinite(t=Math.floor(t))&&t>0?kh((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,Wh.range;const Xh=kh((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));function Gh(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Zh(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}Xh.every=t=>isFinite(t=Math.floor(t))&&t>0?kh((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null,Xh.range;var Jh,Kh,tp,ep,np,rp,ip,ap={"-":"",_:" ",0:"0"},op=/^\s*\d+/,sp=/^%/,lp=/[\\^$*+?|[\]().{}]/g;function cp(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function up(t){return t.replace(lp,"\\$&")}function fp(t){return new RegExp("^(?:"+t.map(up).join("|")+")","i")}function dp(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function hp(t,e,n){var r=op.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function pp(t,e,n){var r=op.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function gp(t,e,n){var r=op.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function _p(t,e,n){var r=op.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function bp(t,e,n){var r=op.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function mp(t,e,n){var r=op.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function yp(t,e,n){var r=op.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vp(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function wp(t,e,n){var r=op.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function xp(t,e,n){var r=op.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Mp(t,e,n){var r=op.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function kp(t,e,n){var r=op.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Tp(t,e,n){var r=op.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Cp(t,e,n){var r=op.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ap(t,e,n){var r=op.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Sp(t,e,n){var r=op.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Np(t,e,n){var r=op.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Fp(t,e,n){var r=sp.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ep(t,e,n){var r=op.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Dp(t,e,n){var r=op.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function zp(t,e){return cp(t.getDate(),e,2)}function Op(t,e){return cp(t.getHours(),e,2)}function Lp(t,e){return cp(t.getHours()%12||12,e,2)}function Pp(t,e){return cp(1+Sh.count(Wh(t),t),e,3)}function jp(t,e){return cp(t.getMilliseconds(),e,3)}function Hp(t,e){return jp(t,e)+"000"}function Up(t,e){return cp(t.getMonth()+1,e,2)}function Yp(t,e){return cp(t.getMinutes(),e,2)}function $p(t,e){return cp(t.getSeconds(),e,2)}function Bp(t){var e=t.getDay();return 0===e?7:e}function qp(t,e){return cp(Dh.count(Wh(t)-1,t),e,2)}function Rp(t){var e=t.getDay();return e>=4||0===e?Ph(t):Ph.ceil(t)}function Ip(t,e){return t=Rp(t),cp(Ph.count(Wh(t),t)+(4===Wh(t).getDay()),e,2)}function Vp(t){return t.getDay()}function Wp(t,e){return cp(zh.count(Wh(t)-1,t),e,2)}function Xp(t,e){return cp(t.getFullYear()%100,e,2)}function Gp(t,e){return cp((t=Rp(t)).getFullYear()%100,e,2)}function Zp(t,e){return cp(t.getFullYear()%1e4,e,4)}function Qp(t,e){var n=t.getDay();return cp((t=n>=4||0===n?Ph(t):Ph.ceil(t)).getFullYear()%1e4,e,4)}function Jp(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+cp(e/60|0,"0",2)+cp(e%60,"0",2)}function Kp(t,e){return cp(t.getUTCDate(),e,2)}function tg(t,e){return cp(t.getUTCHours(),e,2)}function eg(t,e){return cp(t.getUTCHours()%12||12,e,2)}function ng(t,e){return cp(1+Nh.count(Xh(t),t),e,3)}function rg(t,e){return cp(t.getUTCMilliseconds(),e,3)}function ig(t,e){return rg(t,e)+"000"}function ag(t,e){return cp(t.getUTCMonth()+1,e,2)}function og(t,e){return cp(t.getUTCMinutes(),e,2)}function sg(t,e){return cp(t.getUTCSeconds(),e,2)}function lg(t){var e=t.getUTCDay();return 0===e?7:e}function cg(t,e){return cp(Yh.count(Xh(t)-1,t),e,2)}function ug(t){var e=t.getUTCDay();return e>=4||0===e?Rh(t):Rh.ceil(t)}function fg(t,e){return t=ug(t),cp(Rh.count(Xh(t),t)+(4===Xh(t).getUTCDay()),e,2)}function dg(t){return t.getUTCDay()}function hg(t,e){return cp($h.count(Xh(t)-1,t),e,2)}function pg(t,e){return cp(t.getUTCFullYear()%100,e,2)}function gg(t,e){return cp((t=ug(t)).getUTCFullYear()%100,e,2)}function _g(t,e){return cp(t.getUTCFullYear()%1e4,e,4)}function bg(t,e){var n=t.getUTCDay();return cp((t=n>=4||0===n?Rh(t):Rh.ceil(t)).getUTCFullYear()%1e4,e,4)}function mg(){return"+0000"}function yg(){return"%"}function vg(t){return+t}function wg(t){return Math.floor(+t/1e3)}!function(t){Jh=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=fp(i),u=dp(i),f=fp(a),d=dp(a),h=fp(o),p=dp(o),g=fp(s),_=dp(s),b=fp(l),m=dp(l),y={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:zp,e:zp,f:Hp,g:Gp,G:Qp,H:Op,I:Lp,j:Pp,L:jp,m:Up,M:Yp,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:vg,s:wg,S:$p,u:Bp,U:qp,V:Ip,w:Vp,W:Wp,x:null,X:null,y:Xp,Y:Zp,Z:Jp,"%":yg},v={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Kp,e:Kp,f:ig,g:gg,G:bg,H:tg,I:eg,j:ng,L:rg,m:ag,M:og,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:vg,s:wg,S:sg,u:lg,U:cg,V:fg,w:dg,W:hg,x:null,X:null,y:pg,Y:_g,Z:mg,"%":yg},w={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=b.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:Mp,e:Mp,f:Np,g:yp,G:mp,H:Tp,I:Tp,j:kp,L:Sp,m:xp,M:Cp,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:wp,Q:Ep,s:Dp,S:Ap,u:pp,U:gp,V:_p,w:hp,W:bp,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:yp,Y:mp,Z:vp,"%":Fp};function x(t,e){return function(n){var r,i,a,o=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(i=ap[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(t.slice(l,s)),o.join("")}}function M(t,e){return function(n){var r,i,a=Qh(1900,void 0,1);if(k(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Zh(Qh(a.y,0,1))).getUTCDay(),r=i>4||0===i?$h.ceil(r):$h(r),r=Nh.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=Gh(Qh(a.y,0,1))).getDay(),r=i>4||0===i?zh.ceil(r):zh(r),r=Sh.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Zh(Qh(a.y,0,1)).getUTCDay():Gh(Qh(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Zh(a)):Gh(a)}}function k(t,e,n,r){for(var i,a,o=0,s=e.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=w[i in ap?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return y.x=x(n,y),y.X=x(r,y),y.c=x(e,y),v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),{format:function(t){var e=x(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}(t),Kh=Jh.format,Jh.parse,Jh.utcFormat,Jh.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var xg=!1;function Mg(){var t;return(t=document.createElement("style")).type="text/css",t.innerHTML=".flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }",document.head.appendChild(t),(tp=document.createElement("footer")).className="flourish-footer",(ep=document.createElement("div")).className="flourish-footer-text",ep.setAttribute("id","flourish-footer-text"),(np=document.createElement("div")).className="flourish-footer-logo-container",tp.appendChild(ep),tp.appendChild(np),tp}function kg(){var t=Dg.footer_logo_src?Dg.footer_logo_src:"";return Dg.footer_logo_src_light&&Dg.background_color_enabled&&!Dd(Dg.background_color)&&(t=Dg.footer_logo_src_light),t}function Tg(){return Dg.footer_logo_enabled&&kg()}function Cg(){var t=[{name:Dg.source_name,url:Dg.source_url},{name:Dg.multiple_sources?Dg.source_name_2:"",url:Dg.multiple_sources?Dg.source_url_2:""},{name:Dg.multiple_sources?Dg.source_name_3:"",url:Dg.multiple_sources?Dg.source_url_3:""}].filter((function(t){return t.name||t.url}));xg=t.length>0||Dg.footer_note||Dg.footer_note_secondary||Tg();var e,n="top"==Dg.footer_border||"top_and_bottom"==Dg.footer_border,r="bottom"==Dg.footer_border||"top_and_bottom"==Dg.footer_border;tp.style.display="flex",tp.style.height=xg?null:0,tp.style.width="100%",tp.style.paddingTop=n?Dg.footer_border_space+"rem":"",tp.style.paddingBottom=r?Dg.footer_border_space+"rem":"",tp.style.borderTop=n?Dg.footer_border_width+"px "+Dg.footer_border_style+" "+Dg.footer_border_color:"",tp.style.borderBottom=r?Dg.footer_border_width+"px "+Dg.footer_border_style+" "+Dg.footer_border_color:"",tp.style.fontFamily=Dg.footer_font?Dg.footer_font.name:"inherit",tp.style.fontWeight=Dg.footer_text_weight,tp.style.justifyContent="justify"==(e=Dg.footer_align)?"space-between":"left"==e?"flex-start":"right"==e?"flex-end":"center"==e?"center":void 0,tp.style.fontSize=Dg.footer_text_size+"rem",tp.style.color=Dg.footer_text_color||Dg.font_color,tp.style.alignItems=Dg.footer_align_vertical;var i=document.createElement("span");t.forEach((function(t,e){var n=document.createElement("p");if(e>0&&(n.innerText=", "),t.url){var r=document.createElement("a");r.innerText=t.name||t.url,r.href=yh(t.url),r.target="_blank",n.appendChild(r)}else n.innerText+=t.name||t.url;i.innerHTML+=n.innerHTML})),ep.style.order="left"==Dg.footer_logo_order?2:"",ep.style.textAlign=mh(Dg.footer_align);const a=""!==i.innerHTML?`${Dg.source_label} ${i.innerHTML}`:"",o=Dg.footer_note?(""!==i.innerHTML?" â¢ ":"")+Ag("primary"):"",s=Dg.footer_note_secondary?`<br /><p>${Ag("secondary")}</p>`:"";ep.innerHTML=`<p>${a}${o}</p>${s}`,np.innerHTML="",Tg()&&((rp=rp||document.createElement("img")).className="flourish-footer-logo",rp.src=yh(kg()),rp.alt=Dg.footer_logo_alt,rp.style.height=Dg.footer_logo_height+"rem",rp.style.marginRight="left"==Dg.footer_logo_order?Dg.footer_logo_margin+"rem":"",rp.style.marginLeft="right"==Dg.footer_logo_order?Dg.footer_logo_margin+"rem":"",rp.style.verticalAlign=Dg.footer_align_vertical,rp.style.display=Tg()?"":"none",Dg.footer_logo_link_url?((ip=document.createElement("a")).target="_blank",ip.appendChild(rp),np.appendChild(ip),rp.style.cursor="pointer",ip.href=yh(Dg.footer_logo_link_url)):np.appendChild(rp))}function Ag(t){const e=("primary"===t?Dg.footer_note:Dg.footer_note_secondary).replace(/{{([^}]+)}}/g,((t,e)=>{if("data_last_updated"===e){const t=function(t){const e="data_last_updated"===t?"last_updated":t,n=Object.keys(window.template?.data);if(n.length>0){const t=n.map((t=>window.template.data[t].timestamps?.[e]||null)).filter((t=>null!==t));if(0===t.length)return null;return Math.max(...t)}return null}(e);return function(t,e){let n="n/a";null!==t&&(n=Kh(e)(t));return n}(t,Dg.footer_timestamp_format)}return""})).replace(/\n/gm,"<br />");return e}function Sg(){ah(),wh(),Cg(),document.body.style.backgroundColor=Dg.background_color_enabled?Dg.background_color:"transparent",document.body.style.backgroundImage=Dg.background_image_enabled?"url("+Dg.background_image_src+")":"",document.body.style.backgroundSize=Dg.background_image_size,document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition=Dg.background_image_position;var t=Hg.wrapper.style;t.display="flex",t.height="100vh",t.color=Dg.font_color,t.maxWidth="wrapper"==Dg.max_width_target?Dg.max_width+"px":"",t.marginLeft="wrapper"==Dg.max_width_target&&"left"!=Dg.max_width_align?"auto":"",t.marginRight="wrapper"==Dg.max_width_target&&"right"!=Dg.max_width_align?"auto":"",t.padding=Dg.margin_top+"rem "+Dg.margin_right+"rem "+Dg.margin_bottom+"rem "+Dg.margin_left+"rem",t.borderTop=Dg.border.enabled?Dg.border.top.width+"px "+Dg.border.top.style+" "+Dg.border.top.color:"",t.borderRight=Dg.border.enabled?Dg.border.right.width+"px "+Dg.border.right.style+" "+Dg.border.right.color:"",t.borderBottom=Dg.border.enabled?Dg.border.bottom.width+"px "+Dg.border.bottom.style+" "+Dg.border.bottom.color:"",t.borderLeft=Dg.border.enabled?Dg.border.left.width+"px "+Dg.border.left.style+" "+Dg.border.left.color:"";var e=Hg.primary.outer.style,n=Hg.legend.outer.style,r=Ng();if("stack"==r.mode)r.elements.forEach((function(t,e){Hg[t].outer.style.order=10*e}));else for(var i in r.elements)for(var a in r.elements[i]){var o=Hg[i].outer||Hg[i];o.style[a]=r.elements[i][a],o.style.order=""}Hg.header.outer.style.display="",Hg.footer.outer.style.display="",Hg.controls.outer.style.display="",e.display="flex",n.display="",e.flex="1 1 auto",e.height=null,Hg.primary.outer.style.maxWidth="primary"==Dg.max_width_target?Dg.max_width+"px":"",Hg.primary.outer.style.marginLeft="primary"==Dg.max_width_target&&"left"!=Dg.max_width_align?"auto":"",Hg.primary.outer.style.marginRight="primary"==Dg.max_width_target&&"right"!=Dg.max_width_align?"auto":"";var s=""!=Dg.screenreader_text_primary.trim(),l=document.getElementById("fl-layout-primary-description");Hg.primary.outer.setAttribute("aria-label","primary visualisation container"),l.innerText=Dg.screenreader_text_primary,s?Hg.primary.outer.setAttribute("aria-describedBy","fl-layout-primary-description"):Hg.primary.outer.removeAttribute("aria-describedBy"),Dg.screenreader_hide_primary?Hg.primary.inner.setAttribute("aria-hidden",!0):Hg.primary.inner.removeAttribute("aria-hidden"),""!=Dg.screenreader_label.trim()?Bg().setAttribute("aria-label",Dg.screenreader_label):Bg().removeAttribute("aria-label"),jg.map((function(t){var e=Hg[t],n=e.outer.style;return{name:t,height:Yg(e.inner),order:parseFloat(n.order),style:n}})).sort((function(t,e){return t.order-e.order})).filter((function(t){if(t.height||"primary"==t.name)return!0;t.style.paddingBottom="",t.style.paddingTop="",t.style.display="none"})).forEach((function(t,e,n){t.style.width="100%",t.style.paddingTop=e?Fg("padding"):"",t.style.paddingBottom=e<n.length-1?Fg("padding"):""})),Hg.wrapper.style.gridColumnGap=Fg("gap"),Hg.wrapper.style.gridRowGap=Fg("gap"),document.body.setAttribute("dir",Dg.read_direction),Hg.wrapper.setAttribute("dir",Dg.read_direction),document.getElementById("fl-layout-wrapper-outer").setAttribute("dir","ltr")}function Ng(){var t=window.innerWidth<Dg.breakpoint_mobile_big,e=Dg.layout_order.indexOf("grid")>-1,n={id:Dg.layout_order,mode:e?"grid":"stack",elements:_h[Dg.layout_order]};return t&&e&&(n.id="stack-default",n.mode="stack",n.elements=_h["stack-default"]),n}function Fg(t){var e,n=Ng();return e="custom"==Dg.space_between_sections?Dg.space_between_sections_custom:Dg.space_between_sections,"grid"==n.mode?"gap"==t?e+"rem":"":"gap"==t?"":e/2+"rem"}var Eg=Object.freeze({body_font:{name:"Canva Sans Variable",url:"https://public.flourish.studio/resources/fonts/canva-sans.css"},title_font:null,subtitle_font:null,footer_font:null,read_direction:"ltr",border:{enabled:!1,top:{width:1,color:"#dddddd",style:"solid"},right:{width:1,color:"#dddddd",style:"solid"},bottom:{width:1,color:"#dddddd",style:"solid"},left:{width:1,color:"#dddddd",style:"solid"}},layout_order:"stack-default",margin_top:.75,margin_right:.75,margin_bottom:.75,margin_left:.75,space_between_sections:1,space_between_sections_custom:1,background_color_enabled:!0,background_color:"#ffffff",background_image_enabled:!1,background_image_src:"",background_image_size:"cover",background_image_position:"center center",max_width:600,max_width_target:"none",max_width_align:"center",breakpoint_mobile_small:0,breakpoint_mobile_big:380,breakpoint_tablet:580,breakpoint_desktop:1080,breakpoint_big_screen:1280,font_color:"#333333",font_size_mobile_small:62.5,font_size_mobile_big:75,font_size_tablet:87.5,font_size_desktop:100,font_size_big_screen:120,header_align:"left",header_border:"none",header_border_width:1,header_border_color:"#dddddd",header_border_style:"solid",header_border_space:.5,header_logo_enabled:!1,header_logo_align:"inside",header_logo_src:"",header_logo_alt:"Header logo",header_logo_link_url:"",header_logo_height:3,header_logo_position_inside:"left",header_logo_position_outside:"left",header_logo_margin_top:.25,header_logo_margin_right:.5,header_logo_margin_bottom:0,header_logo_margin_left:0,title:"",title_size:1.6,title_size_custom:1.6,title_line_height:1.2,title_color:null,title_weight:"bold",title_space_above:0,title_space_above_custom:1.5,title_styling:!1,subtitle:"",subtitle_size:1.6,subtitle_size_custom:1.6,subtitle_line_height:1.2,subtitle_color:null,subtitle_weight:"normal",subtitle_space_above:0,subtitle_space_above_custom:1.5,subtitle_styling:!1,header_text:"",header_text_size:1.2,header_text_size_custom:1.2,header_text_line_height:1.2,header_text_color:null,header_text_weight:"normal",header_text_space_above:.5,header_text_space_above_custom:1.5,source_label:"Source: ",source_name:"",source_url:"",source_name_2:"",source_url_2:"",source_name_3:"",source_url_3:"",footer_note:"",footer_note_secondary:"",footer_text_size:1,footer_text_color:null,footer_styling:!1,footer_text_weight:"normal",footer_align:"justify",footer_align_vertical:"center",footer_border:"none",footer_border_width:1,footer_border_color:"#dddddd",footer_border_style:"solid",footer_border_space:.5,footer_logo_enabled:!1,footer_logo_src:"",footer_logo_src_light:"",footer_logo_alt:"Footer logo",footer_logo_link_url:"",footer_logo_height:1.5,footer_logo_margin:.25,footer_logo_order:"right",footer_timestamp_format:"%H:%M:%S",screenreader_hide_primary:!0,screenreader_text_primary:"",screenreader_label:""});var Dg,zg="Your web browser does not support the features used by this content. Consider updating to a modern browser.";function Og(t,e,n){ah(n),t=function(t){return function(){return document.body.classList.add("fl-fonts-loaded"),t.apply(this,arguments)}}(t=t||window.template.update);var r=setTimeout(t,isNaN(e)?500:e),i=[],a=[];document.fonts&&a.push(document.fonts.ready),Tg()&&a.push(function(){if(Tg())return new Promise((function(t){var e=yh(kg());function n(){"undefined"!=typeof Flourish&&Flourish.warn&&Flourish.warn("flourish-layout unable to load image: "+e),t()}(rp=rp||document.createElement("img")).onload=function(){t()},rp.onerror=n,rp.oncancel=n,rp.src=e}))}()),vh()&&a.push(function(){if(vh())return new Promise((function(t){var e=yh(Dg.header_logo_src);function n(){"undefined"!=typeof Flourish&&Flourish.warn&&Flourish.warn("flourish-layout unable to load image: "+e),t()}(ph=ph||document.createElement("img")).onload=function(){t()},ph.onerror=n,ph.oncancel=n,ph.src=e}))}()),a.length&&(document.fonts||a.push(new Promise((function(t){setTimeout(t,500)}))),Promise.all(a).then((function(e){if(document.fonts&&e[0].size){var n=function(t){for(var e=t.next(),n=[];e&&!e.done;)n.push(e.value),e=t.next();return n}(e[0].keys()).map((function(t){return Lg(t)}));i=i.concat(n),clearTimeout(r),t(),ih()}document.fonts.addEventListener("loadingdone",(function(e){var n=!1;e.fontfaces.forEach((function(t){var e=Lg(t);i.includes(e)||(i.push(e),n=!0)})),n&&(clearTimeout(r),t(),ih())}))})))}function Lg(t){return[t.family,t.variant,t.weight,t.unicodeRange].join(" ")}var Pg,jg=["header","controls","legend","primary","footer"],Hg={};function Ug(t){return t.getBoundingClientRect().width}function Yg(t){return t.getBoundingClientRect().height}function $g(t,e){var n="fl-layout-"+t,r=document.createElement("section");r.className="fl-layout-container",r.id=n+"-container",r.style.width="100%",r.style.position="relative",r.style.order=e;var i=document.createElement("div");return i.className="fl-layout-inner",i.id=n,i.style.width="100%",i.style.position="relative","primary"==t&&(r.style.display="flex",function(t){var e=document.createElement("p");e.id="fl-layout-primary-description";var n=e.style;n.border="0",n.height="1px",n.width="1px",n.margin="-1px",n.overflow="hidden",n.padding="0",n.position="absolute",n.clip="rect(0 0 0 0)",t.appendChild(e)}(r)),r.appendChild(i),Hg.wrapper.appendChild(r),{outer:r,inner:i}}function Bg(){return Hg.wrapper}function qg(){return Hg.sidebar}function Rg(t){return-1!==jg.indexOf(t)?Hg[t].inner:null}function Ig(t){return Hg[t]||void 0===t?Ug("wrapper"==t||void 0===t?Hg.wrapper:Hg[t].outer):null}function Vg(t){return Hg[t]||void 0===t?"wrapper"==t||void 0===t?Ug(Hg.wrapper)-t_("horizontal")-e_("horizontal"):Ug(Hg[t].inner):null}function Wg(t){return Hg[t]||void 0===t?Yg("wrapper"==t||void 0===t?Hg.wrapper:Hg[t].outer):null}function Xg(t){return Hg[t]||void 0===t?"wrapper"==t||void 0===t?Yg(Hg.wrapper)-t_("vertical")-e_("vertical"):Yg(Hg[t].inner):null}function Gg(){var t="grid"==Ng().mode?0:Jg(Hg.primary.outer);return Yg(Hg.primary.outer)-t}function Zg(){return Ug(Hg.primary.inner)}function Qg(){return Dg.screenreader_hide_primary?"hidden":"readable"}function Jg(t){return"grid"==Ng().mode?parseFloat(getComputedStyle(Hg.wrapper).gap)||0:(parseFloat(getComputedStyle(t).paddingTop)||0)+(parseFloat(getComputedStyle(t).paddingBottom)||0)}function Kg(){var t=function(){if(Flourish.fixed_height)return window.innerHeight;var t=window.innerWidth;return t>999?650:t>599?575:400}()-t_("vertical")-e_("vertical"),e=function(){var t=Ng(),e="grid-1"==t.id?[]:["header","controls","legend","footer"];return e.reduce((function(e,n){var r=Wg(n);return r>0&&"grid"==t.mode&&(r+=Jg()),e+r}),0)}();return t-e-("grid"==Ng().mode?0:Jg(Hg.primary.outer))}function t_(t){var e;return"left"==t?e=Dg.margin_left:"right"==t?e=Dg.margin_right:"top"==t?e=Dg.margin_top:"bottom"==t?e=Dg.margin_bottom:"horizontal"==t?e=Dg.margin_left+Dg.margin_right:"vertical"==t&&(e=Dg.margin_top+Dg.margin_bottom),bh(e)}function e_(t){return Dg.border.enabled?"vertical"==t?Dg.border.top.width+Dg.border.bottom.width:"horizontal"==t?Dg.border.left.width+Dg.border.right.width:null:0}function n_(t){var e=Hg.primary;if(Flourish.fixed_height||void 0===Flourish.fixed_height)e.inner.style.height="";else{var n=null===t,r=n?Kg():t;r+Jg(Hg.primary.outer)!==parseFloat(e.outer.style.height)&&(Hg.wrapper.style.height="",e.outer.style.flex="",e.inner.style.height=r+"px",Flourish.setHeight(n?null:Wg()))}}function r_(t){var e=Pg.querySelector(".fl-layout-overlay-message");if(t){Pg.style.display="block";var n="string"==typeof t?t:zg;e.innerHTML=n}else e.textContent="",Pg.style.display="none"}function i_(){return Pg}let a_;function o_(){a_&&s_(),a_=uf(this.getWrapper(),"fl-layout-svg-screenshot-container"),a_.addTextElements("#fl-layout-header-container h2"),a_.addTextElements("#fl-layout-header-container h3"),a_.addTextElements("#fl-layout-header-container p"),a_.addTextElements("#fl-layout-footer .flourish-footer-text")}function s_(){a_.remove(),a_=null}function l_(t){for(var e in Dg=t,Eg)void 0===Dg[e]&&(Dg[e]=Eg[e]);return(Gd=document.createElement("style")).id="flourish-page-styles",Gd.type="text/css",document.head.appendChild(Gd),Hg.wrapper=function(){var t=document.createElement("div");t.id="fl-layout-wrapper-outer",t.style.display="flex";var e=document.createElement("main");e.id="fl-layout-wrapper",e.style.display="flex",e.style.flexGrow="1",e.style.flexDirection="column",e.style.boxSizing="border-box",e.style.overflow="hidden";var n=document.createElement("aside");return n.id="fl-layout-sidebar",n.style.position="relative",Hg.sidebar=n,t.appendChild(e),t.appendChild(n),document.body.appendChild(t),e}(),jg.forEach((function(t,e){Hg[t]=$g(t,e)})),Rg("header").appendChild(function(){(lh=document.createElement("header")).className="flourish-header";var t=document.createElement("hgroup");return ch=document.createElement("h2"),uh=document.createElement("h3"),fh=document.createElement("p"),(dh=document.createElement("div")).className="clearfix",(hh=document.createElement("div")).className="flourish-header-logo-container",lh.appendChild(hh),lh.appendChild(t),t.appendChild(ch),t.appendChild(uh),lh.appendChild(fh),lh.appendChild(dh),lh}()),Rg("footer").appendChild(Mg()),Hg.primary.outer.style.overflow="hidden",function(){var t=Hg.primary.outer;t.style.position="relative",(Pg=document.createElement("div")).id="fl-layout-overlay";var e=Pg.style;e.position="absolute",e.display="none",e.width="100%",e.height="100%",e.top=0,e.left=0,e.backgroundColor="rgb(200,200,200)",e.zIndex=999999,e.pointerEvents="none";var n=document.createElement("p");n.className="fl-layout-overlay-message",(e=n.style).color="#333333",e.fontSize="1.5rem",e.paddingLeft="15%",e.paddingRight="15%",e.width="100%",e.boxSizing="border-box",e.position="absolute",e.top="50%",e.transform="translate(0, -50%)",e.margin="0",e.textAlign="center",Pg.appendChild(n),t.appendChild(Pg)}(),{update:Sg,getWrapper:Bg,getSidebar:qg,getSection:Rg,getOuterWidth:Ig,getInnerWidth:Vg,getOuterHeight:Wg,getInnerHeight:Xg,getPrimaryHeight:Gg,getPrimaryWidth:Zg,getDefaultPrimaryHeight:Kg,getPrimaryScreenReadability:Qg,setHeight:n_,showOverlay:r_,remToPx:bh,getOverlay:i_,awaitFonts:Og,prepareScreenshotSVG:o_,clearScreenshotSVG:s_}}var c_,u_;function f_(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function d_(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const a=r+i>>>1;n(t[a],e)<0?r=a+1:i=a}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>f_(t(e),n)}(t)),{left:r,center:function(t,n,i,a){null==i&&(i=0),null==a&&(a=t.length);const o=r(t,n,i,a-1);return o>i&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const a=r+i>>>1;n(t[a],e)>0?i=a:r=a+1}return r}}}const h_=d_(f_).right;d_((function(t){return null===t?NaN:+t})).center;var p_=h_,g_=Math.sqrt(50),__=Math.sqrt(10),b_=Math.sqrt(2);function m_(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=g_?10:a>=__?5:a>=b_?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=g_?10:a>=__?5:a>=b_?2:1)}function y_(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=g_?i*=10:a>=__?i*=5:a>=b_&&(i*=2),e<t?-i:i}function v_(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function w_(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function x_(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const M_=Symbol("implicit");function k_(){var t=new Map,e=[],n=[],r=M_;function i(i){var a=i+"",o=t.get(a);if(!o){if(r!==M_)return r;t.set(a,o=e.push(i))}return n[(o-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return k_(e,n).unknown(r)},x_.apply(i,arguments),i}function T_(t){return+t}var C_=[0,1];function A_(t){return t}function S_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function N_(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=S_(i,r),a=n(o,a)):(r=S_(r,i),a=n(a,o)),function(t){return a(r(t))}}function F_(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=S_(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=p_(t,e,1,r)-1;return a[n](i[n](e))}}function E_(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function D_(){var t,e,n,r,i,a,o=C_,s=C_,l=Xi,c=A_;function u(){var t,e,n,l=Math.min(o.length,s.length);return c!==A_&&(t=o[0],e=o[l-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=l>2?F_:N_,i=a=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(o.map(t),s,l)))(t(c(e)))}return f.invert=function(n){return c(e((a||(a=r(s,o.map(t),qi)))(n)))},f.domain=function(t){return arguments.length?(o=Array.from(t,T_),u()):o.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),l=Gi,u()},f.clamp=function(t){return arguments.length?(c=!!t||A_,u()):c!==A_},f.interpolate=function(t){return arguments.length?(l=t,u()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,u()}}function z_(){return D_()(A_,A_)}function O_(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=m_(t,e,n))||!isFinite(o))return[];if(o>0){let n=Math.round(t/o),r=Math.round(e/o);for(n*o<t&&++n,r*o>e&&--r,a=new Array(i=r-n+1);++s<i;)a[s]=(n+s)*o}else{o=-o;let n=Math.round(t*o),r=Math.round(e*o);for(n/o<t&&++n,r/o>e&&--r,a=new Array(i=r-n+1);++s<i;)a[s]=(n+s)/o}return r&&a.reverse(),a}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,a=y_(t,e,n);switch((r=Ma(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=La(a,o))||(r.precision=i),Fa(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Pa(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Oa(a))||(r.precision=i-2*("%"===r.type))}return Na(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,a=e(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);u-- >0;){if((i=m_(l,c,n))===r)return a[o]=l,a[s]=c,e(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function L_(){var t=z_();return t.copy=function(){return E_(t,L_())},x_.apply(t,arguments),O_(t)}var P_=new Date,j_=new Date;function H_(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;do{s.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<r);return s},i.filter=function(n){return H_((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return P_.setTime(+e),j_.setTime(+r),t(P_),t(j_),Math.floor(n(P_,j_))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var U_=H_((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));U_.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?H_((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):U_:null};var Y_=U_;U_.range;const $_=1e3,B_=6e4,q_=36e5,R_=864e5,I_=6048e5,V_=2592e6,W_=31536e6;var X_=H_((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*$_)}),(function(t,e){return(e-t)/$_}),(function(t){return t.getUTCSeconds()})),G_=X_;X_.range;var Z_=H_((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*$_)}),(function(t,e){t.setTime(+t+e*B_)}),(function(t,e){return(e-t)/B_}),(function(t){return t.getMinutes()})),Q_=Z_;Z_.range;var J_=H_((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*$_-t.getMinutes()*B_)}),(function(t,e){t.setTime(+t+e*q_)}),(function(t,e){return(e-t)/q_}),(function(t){return t.getHours()})),K_=J_;J_.range;var tb=H_((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*B_)/R_),(t=>t.getDate()-1)),eb=tb;function nb(t){return H_((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*B_)/I_}))}tb.range;var rb=nb(0),ib=nb(1),ab=nb(2),ob=nb(3),sb=nb(4),lb=nb(5),cb=nb(6);rb.range,ib.range,ab.range,ob.range,sb.range,lb.range,cb.range;var ub=H_((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),fb=ub;ub.range;var db=H_((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));db.every=function(t){return isFinite(t=Math.floor(t))&&t>0?H_((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var hb=db;db.range;const[pb,gb]=function(t,e,n,r,i,a){const o=[[G_,1,$_],[G_,5,5e3],[G_,15,15e3],[G_,30,3e4],[a,1,B_],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,q_],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,R_],[r,2,1728e5],[n,1,I_],[e,1,V_],[e,3,7776e6],[t,1,W_]];function s(e,n,r){const i=Math.abs(n-e)/r,a=d_((t=>{let[,,e]=t;return e})).right(o,i);if(a===o.length)return t.every(y_(e/W_,n/W_,r));if(0===a)return Y_.every(Math.max(y_(e,n,r),1));const[s,l]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(l)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:s(t,e,n),a=i?i.range(t,+e+1):[];return r?a.reverse():a},s]}(hb,fb,rb,eb,K_,Q_);function _b(t){return new Date(t)}function bb(t){return t instanceof Date?+t:+new Date(+t)}function mb(t,e,n,r,i,a,o,s,l,c){var u=z_(),f=u.invert,d=u.domain,h=c(".%L"),p=c(":%S"),g=c("%I:%M"),_=c("%I %p"),b=c("%a %d"),m=c("%b %d"),y=c("%B"),v=c("%Y");function w(t){return(l(t)<t?h:s(t)<t?p:o(t)<t?g:a(t)<t?_:r(t)<t?i(t)<t?b:m:n(t)<t?y:v)(t)}return u.invert=function(t){return new Date(f(t))},u.domain=function(t){return arguments.length?d(Array.from(t,bb)):d().map(_b)},u.ticks=function(e){var n=d();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?w:c(e)},u.nice=function(t){var n=d();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?d(function(t,e){var n,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}(n,t)):u},u.copy=function(){return E_(u,mb(t,e,n,r,i,a,o,s,l,c))},u}function yb(){return x_.apply(mb(pb,gb,hb,fb,rb,eb,K_,Q_,G_,Oo).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var vb=Math.PI,wb=2*vb,xb=1e-6,Mb=wb-xb;function kb(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Tb(){return new kb}function Cb(t){return function(){return t}}function Ab(t){this._context=t}function Sb(t){return new Ab(t)}function Nb(t){return t[0]}function Fb(t){return t[1]}function Eb(){var t=Nb,e=Fb,n=Cb(!0),r=null,i=Sb,a=null;function o(o){var s,l,c,u=o.length,f=!1;for(null==r&&(a=i(c=Tb())),s=0;s<=u;++s)!(s<u&&n(l=o[s],s,o))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(l,s,o),+e(l,s,o));if(c)return a=null,c+""||null}return o.x=function(e){return arguments.length?(t="function"==typeof e?e:Cb(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:Cb(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:Cb(!!t),o):n},o.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),o):r},o}function Db(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function zb(t,e){this._context=t,this._k=(1-e)/6}kb.prototype=Tb.prototype={constructor:kb,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-t,l=r-e,c=a-t,u=o-e,f=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>xb)if(Math.abs(u*s-l*c)>xb&&i){var d=n-a,h=r-o,p=s*s+l*l,g=d*d+h*h,_=Math.sqrt(p),b=Math.sqrt(f),m=i*Math.tan((vb-Math.acos((p+f-g)/(2*_*b)))/2),y=m/b,v=m/_;Math.abs(y-1)>xb&&(this._+="L"+(t+y*c)+","+(e+y*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>c*h)+","+(this._x1=t+v*s)+","+(this._y1=e+v*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,a){t=+t,e=+e,a=!!a;var o=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+o,c=e+s,u=1^a,f=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>xb||Math.abs(this._y1-c)>xb)&&(this._+="L"+l+","+c),n&&(f<0&&(f=f%wb+wb),f>Mb?this._+="A"+n+","+n+",0,1,"+u+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>xb&&(this._+="A"+n+","+n+",0,"+ +(f>=vb)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},Ab.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},zb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Db(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Db(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ob=function t(e){function n(t){return new zb(t,e)}return n.tension=function(e){return t(+e)},n}(0),Lb=function(t,e){"string"==typeof e&&(n=e,n=String(n).toUpperCase(),e=function(t){return n===t.nodeName});var n;"function"!=typeof e&&(r=e,e=function(t){return r===t});var r;for(;t&&!e(t);)t=t.parentNode;return t||null};var Pb=n(Lb);function jb(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var Hb=jb;function Ub(t){return"function"==typeof t}function Yb(t){return"object"==typeof t&&null!==t}function $b(t){return void 0===t}jb.EventEmitter=jb,jb.prototype._events=void 0,jb.prototype._maxListeners=void 0,jb.defaultMaxListeners=10,jb.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},jb.prototype.emit=function(t){var e,n,r,i,a,o;if(this._events||(this._events={}),"error"===t&&(!this._events.error||Yb(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var s=new Error('Uncaught, unspecified "error" event. ('+e+")");throw s.context=e,s}if($b(n=this._events[t]))return!1;if(Ub(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(Yb(n))for(i=Array.prototype.slice.call(arguments,1),r=(o=n.slice()).length,a=0;a<r;a++)o[a].apply(this,i);return!0},jb.prototype.addListener=function(t,e){var n;if(!Ub(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,Ub(e.listener)?e.listener:e),this._events[t]?Yb(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,Yb(this._events[t])&&!this._events[t].warned&&(n=$b(this._maxListeners)?jb.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},jb.prototype.on=jb.prototype.addListener,jb.prototype.once=function(t,e){if(!Ub(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},jb.prototype.removeListener=function(t,e){var n,r,i,a;if(!Ub(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=(n=this._events[t]).length,r=-1,n===e||Ub(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(Yb(n)){for(a=i;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},jb.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(Ub(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},jb.prototype.listeners=function(t){return this._events&&this._events[t]?Ub(this._events[t])?[this._events[t]]:this._events[t].slice():[]},jb.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(Ub(e))return 1;if(e)return e.length}return 0},jb.listenerCount=function(t,e){return t.listenerCount(e)};var Bb=Hb,qb=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup"],Rb={left:0,top:0},Ib=function(t,e){e=e||{},t=t||window;var n=new Bb;n.target=e.target||t;var r=null,i=e.filtered,a=qb;"string"==typeof e.type&&(a=qb.filter((function(t){return 0===t.indexOf(e.type)})));var o=a.map((function(t){var a=function(t){return t.replace(/^(touch|mouse)/,"").replace(/up$/,"end").replace(/down$/,"start")}(t);return{type:t,listener:function(o){var s=o;if(/^touch/.test(t)&&(/^touchend$/.test(t)&&!1!==e.preventSimulated&&o.preventDefault(),s=i?function(t,e){var i;r&&/^touch(end|cancel)/.test(e)?(i=Wb(t.changedTouches,r.identifier||0))&&(r=null):!r&&/^touchstart/.test(e)?r=i=Vb(t.changedTouches,n.target):r&&(i=Wb(t.changedTouches,r.identifier||0));return i}(o,t):Vb(o.changedTouches,n.target)),s){var l=function(t,e){var n=t.clientX||0,r=t.clientY||0,i=function(t){return t===window||t===document||t===document.body?Rb:t.getBoundingClientRect()}(e);return[n-i.left,r-i.top]}(s,n.target);n.emit(a,o,l)}}}}));return n.enable=function(){return o.forEach(Xb(t,!0)),n},n.disable=function(){return r=null,o.forEach(Xb(t,!1)),n},n.enable(),n};function Vb(t,e){return Array.prototype.slice.call(t).filter((function(t){return t.target===e}))[0]||t[0]}function Wb(t,e){for(var n=0;n<t.length;n++)if(t[n].identifier===e)return t[n];return null}function Xb(t,e){return function(n){e?t.addEventListener(n.type,n.listener,{passive:!1}):t.removeEventListener(n.type,n.listener,{passive:!1})}}var Gb,Zb,Qb,Jb,Kb,tm,em,nm,rm,im,am,om,sm,lm,cm,um,fm,dm,hm,pm,gm,_m,bm,mm,ym,vm,wm,xm,Mm,km,Tm,Cm,Am,Sm,Nm,Fm,Em,Dm=n(Ib),zm={exports:{}},Om={exports:{}};function Lm(){if(Jb)return Qb;Jb=1;var t=(Zb?Gb:(Zb=1,Gb=function(){}))();return Qb=function(e){return e!==t&&null!==e}}function Pm(){return im||(im=1,rm=(nm?em:(nm=1,em=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}))()?Object.keys:function(){if(tm)return Kb;tm=1;var t=Lm(),e=Object.keys;return Kb=function(n){return e(t(n)?Object(n):n)},Kb}()),rm}function jm(){if(lm)return sm;lm=1;var t=Pm(),e=function(){if(om)return am;om=1;var t=Lm();return am=function(e){if(!t(e))throw new TypeError("Cannot use null or undefined");return e}}(),n=Math.max;return sm=function(r,i){var a,o,s,l=n(arguments.length,2);for(r=Object(e(r)),s=function(t){try{r[t]=i[t]}catch(t){a||(a=t)}},o=1;o<l;++o)t(i=arguments[o]).forEach(s);if(void 0!==a)throw a;return r},sm}function Hm(){return dm?fm:(dm=1,fm=(um||(um=1,cm=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}),cm)()?Object.assign:jm())}function Um(){return _m?gm:(_m=1,gm=function(t){return"function"==typeof t})}function Ym(){return xm||(xm=1,wm=function(){if(vm)return ym;vm=1;var t="razdwatrzy";return ym=function(){return"function"==typeof t.contains&&!0===t.contains("dwa")&&!1===t.contains("foo")}}()()?String.prototype.contains:function(){if(mm)return bm;mm=1;var t=String.prototype.indexOf;return bm=function(e){return t.call(this,e,arguments[1])>-1},bm}()),wm}function $m(){if(Mm)return Om.exports;Mm=1;var t,e=Hm(),n=function(){if(pm)return hm;pm=1;var t=Lm(),e=Array.prototype.forEach,n=Object.create;return hm=function(r){var i=n(null);return e.call(arguments,(function(e){t(e)&&function(t,e){var n;for(n in t)e[n]=t[n]}(Object(e),i)})),i},hm}(),r=Um(),i=Ym();return t=Om.exports=function(t,r){var a,o,s,l,c;return arguments.length<2||"string"!=typeof t?(l=r,r=t,t=null):l=arguments[2],null==t?(a=s=!0,o=!1):(a=i.call(t,"c"),o=i.call(t,"e"),s=i.call(t,"w")),c={value:r,configurable:a,enumerable:o,writable:s},l?e(n(l),c):c},t.gs=function(t,a,o){var s,l,c,u;return"string"!=typeof t?(c=o,o=a,a=t,t=null):c=arguments[3],null==a?a=void 0:r(a)?null==o?o=void 0:r(o)||(c=o,o=void 0):(c=a,a=o=void 0),null==t?(s=!0,l=!1):(s=i.call(t,"c"),l=i.call(t,"e")),u={get:a,set:o,configurable:s,enumerable:l},c?e(n(c),u):u},Om.exports}function Bm(){return Tm||(Tm=1,km=function(t){return t&&("symbol"==typeof t||"Symbol"===t["@@toStringTag"])||!1}),km}function qm(){if(Am)return Cm;Am=1;var t=Bm();return Cm=function(e){if(!t(e))throw new TypeError(e+" is not a symbol");return e}}var Rm=(Em?Fm:(Em=1,Fm=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return"symbol"==typeof Symbol.iterator||"object"==typeof Symbol.isConcatSpreadable&&"object"==typeof Symbol.iterator&&"object"==typeof Symbol.toPrimitive&&"object"==typeof Symbol.toStringTag&&"object"==typeof Symbol.unscopables}))()?Symbol:function(){if(Nm)return Sm;Nm=1;var t,e,n,r=$m(),i=qm(),a=Object.create,o=Object.defineProperties,s=Object.defineProperty,l=Object.prototype,c=a(null),u=(n=a(null),function(t){for(var e,i=0;n[t+(i||"")];)++i;return n[t+=i||""]=!0,s(l,e="@@"+t,r.gs(null,(function(t){s(this,e,r(t))}))),e});return e=function t(n){if(this instanceof e)throw new TypeError("TypeError: Symbol is not a constructor");return t()},Sm=t=function t(n){var i;if(this instanceof t)throw new TypeError("TypeError: Symbol is not a constructor");return i=a(e.prototype),n=void 0===n?"":String(n),o(i,{__description__:r("",n),__name__:r("",u(n))})},o(t,{for:r((function(e){return c[e]?c[e]:c[e]=t(String(e))})),keyFor:r((function(t){var e;for(e in i(t),c)if(c[e]===t)return e})),hasInstance:r("",t("hasInstance")),isConcatSpreadable:r("",t("isConcatSpreadable")),iterator:r("",t("iterator")),match:r("",t("match")),replace:r("",t("replace")),search:r("",t("search")),species:r("",t("species")),split:r("",t("split")),toPrimitive:r("",t("toPrimitive")),toStringTag:r("",t("toStringTag")),unscopables:r("",t("unscopables"))}),o(e.prototype,{constructor:r(t),toString:r("",(function(){return this.__name__}))}),o(t.prototype,{toString:r((function(){return"Symbol ("+i(this).__description__+")"})),valueOf:r((function(){return i(this)}))}),s(t.prototype,t.toPrimitive,r("",(function(){return i(this)}))),s(t.prototype,t.toStringTag,r("c","Symbol")),s(e.prototype,t.toPrimitive,r("c",t.prototype[t.toPrimitive])),s(e.prototype,t.toStringTag,r("c",t.prototype[t.toStringTag])),Sm}(),Im=Rm;zm.exports=Wm,zm.exports.array=function(t){var e,n=t.length;return i(),r[Vm]=!0,r;function r(){return t.length!==n?(n=t.length,i(),!0):e()}function i(){for(var n=[],r=0;r<t.length;r++)!function(e){n[e]=function(){return t[e]}}(r);e=Wm(n)}};var Vm=Im("see-change-array");function Wm(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n]();return function(){for(var n=!1,r=0;r<t.length;r++){var i=t[r],a=i();if(i[Vm])a&&(n=!0,e[r]=a);else a!==e[r]&&(n=!0,e[r]=a)}return n}}var Xm=n(zm.exports);const Gm={enabled:!0,style:"timeline",loop:!0,graph:!0,axes_custom_enabled:!1,graph_height:6,scrubber_height:3.25,scrubber_snap:!1,scrubber_snap_paused:!1,axis_font_size:.7,axis_nice_x:!1,axis_nice_y:!1,date_format_display:"",margin:{top:.75,left:.75,right:0,bottom:0},playback_button:{margin_right:1.25,margin_right_button:.5,label_size:1,button_size:1.25,button_color:"#333333",icon_size:1.25,icon_color:"#FFFFFF"},duration:30,duration_tween:2,duration_wait_at_end:0,play_on_load:!0,playing:!0,playback_has_saved_range:!1,playback_has_saved_position:!1,playback_range:[0,1],playback_position:0,color_background:"#F2F2F2",color_axes:"#555555",curve:!1,_prevent_play_on_load:!1},Zm={getOrdinal:()=>!1,getOrdinalKeys:()=>[],getOrdinalValue:(t,e)=>0,getMode:()=>"rate",getLineColorCategorical:()=>"#000000",getLineColorContinuous:()=>"#000000",getCategorical:()=>!1,getData:()=>[],getDatumStartTime:t=>new Date,getDatumEndTime:t=>new Date,getDatumCount:t=>1,getDatumCategory:t=>"",getDatumSource:t=>null,getDatumTarget:t=>null,getPadding:()=>0,getInterval:(t,e)=>"day",isCategorySelected:t=>!1,formatNumber:t=>String(Number(t)),shouldUpdate:t=>!0,encodeProgress:t=>t,decodeProgress:t=>t},Qm={year:bo,month:go,week:oo,day:io,hour:no,minute:to,second:Ja};function Jm(t){const e=t.getMode(),n=Object.create({});var r=[];const i=t.getCategorical(),a=t.getData();if(!a||!a.length)return{bins_by_category:{"":[]},bins_all:[]};for(var o=0;o<a.length;o++){var s=a[o],l=+t.getDatumStartTime(s),c=+t.getDatumEndTime(s);if(l>c){var u=l;l=c,c=u}s._tl_start_ms=l,s._tl_end_ms=c,s._tl_count=t.getDatumCount(s)}a.sort(((t,e)=>t._tl_start_ms-e._tl_start_ms));const f=a[0]._tl_start_ms,d=v_(a,(t=>+t._tl_end_ms)),h=function(t){return"string"!=typeof t?t:Qm[t]}(t.getInterval(f,d));if(!h)return{bins_by_category:{"":[]},bins_all:[]};for(o=0;o<a.length;o++){(s=a[o])._tl_bin_sid=h.count(f,s._tl_start_ms),s._tl_bin_eid=h.count(f,s._tl_end_ms)}for(o=0;o<a.length;o++){s=a[o];if(t.getDatumSource(s))continue;for(var p,g=s;p=t.getDatumTarget(g);)g=p;var _=s._tl_bin_sid,b=g._tl_bin_eid,m=t.getDatumCategory(s)||"";const i=n[m]||(n[m]=[]);for(;i.length<=b;)i[i.length]=0;for(;r.length<=b;)r[r.length]=0;for(var y=s,v=t.getDatumTarget(y),w=E(v),x="total"!==e,M="total"===e,k=!0,T=_;T<=b;T++){for(v&&T>=w&&M&&(i[T]-=y._tl_count,r[T]-=y._tl_count);v&&T>=w;)y=v,w=E(v=t.getDatumTarget(y)),k=!0;k&&(i[T]+=y._tl_count,r[T]+=y._tl_count),k=x}}for(var C in n)for(var A=n[C];A.length<r.length;)A[A.length]=0;if("total"===e)for(var C in r=Km(r),n)n[C]=Km(n[C]);const S=Object.keys(n),N=i?S.reduce(((t,e)=>Math.min(t,w_(n[e]))),1/0):w_(r),F=i?S.reduce(((t,e)=>Math.max(t,v_(n[e]))),-1/0):v_(r);return{min_value:N,max_value:F,min_time:f,max_time:d,count:h.count(f,d),bins_by_category:n,bins_all:r,categories:S};function E(t){return t?t._tl_bin_sid:a.length+1}}function Km(t){for(var e=0,n=0;n<t.length;n++)e+=t[n],t[n]=e;return t}var ty=n((function(t){return 1===t?t:1-Math.pow(2,-10*t)}));const ey={size:1792,path:"M1576 927l-1328 738q-23 13-39.5 3t-16.5-36v-1472q0-26 16.5-36t39.5 3l1328 738q23 13 23 31t-23 31z"},ny={size:512,path:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},ry={size:512,path:"M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"},iy=[512,"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"],ay=[512,"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"];function oy(t,e){const n=e/t[0];return t[1].replace(/-?\d+(?:\.\d+)?/g,(function(t){return parseInt(t,10)*n}))}const sy=document.createElement("style");sy.innerHTML='\n\t.flourish-timeline {\n\t\tpointer-events: none;\n\t\t-webkit-user-select: none;\n\t\t-moz-user-select: none;\n\t\tuser-select: none;\n\t}\n\n\t.flourish-timeline .tl-layer-back,\n\t.flourish-timeline .tl-layer-fore,\n\t.flourish-timeline .tl-layer-main {\n\t\tvisibility: hidden;\n\t}\n\n\t.flourish-timeline.style-timeline .tl-layer-back,\n\t.flourish-timeline.style-timeline .tl-layer-fore,\n\t.flourish-timeline.style-timeline .tl-layer-main {\n\t\tvisibility: visible;\n\t}\n\n\t.flourish-timeline.style-timeline .tl-interaction-box {\n\t\tpointer-events: all;\n\t}\n\n\t.flourish-timeline .tl-playback-button {\n\t\tpointer-events: all;\n\t}\n\n\t.flourish-timeline .tl-playback-button circle:focus {\n\t\toutline: none;\n\t}\n\n\t.flourish-timeline .tl-playback-button circle:focus-visible {\n\t\tfilter: drop-shadow(2px 0 0 #ffffff) drop-shadow(-2px 0 0 #ffffff) drop-shadow(0 2px 0 #ffffff) drop-shadow(0 -2px 0 #ffffff);\n\t\tstroke: #4D90FE !important;\n\t\tstroke-width: 3px !important;\n\t}\n\n\t.tl-interaction-box {\n\t\tvisibility: hidden;\n\t\tcursor: pointer;\n\t}\n\n\t.tl-playback-button {\n\t\tcursor: pointer;\n\t}\n\n\t.flourish-timeline.style-timeline .tl-playback-button text {\n\t\tvisibility: hidden;\n\t\tpointer-events: none;\n\t}\n\n\t.tl-playback-button path {\n\t\tfill: #FFF;\n\t}\n\n\t.tl-axis-bottom .tick:last-of-type text {\n\t\ttext-anchor: end;\n\t}\n\n\t.flourish-timeline-info {\n\t\tdisplay: none;\n\t\theight: 2rem;\n\t\tfont-size: 1rem;\n\t\talign-items: center;\n\t\tjustify-content: flex-start;\n\t\tcolor: #666;\n\t}\n\n\t.flourish-timeline-info.enabled {\n\t\tdisplay: flex;\n\t}\n\n\t.flourish-timeline-info svg {\n\t\tmargin-right: 0.35rem;\n\t}\n\n\t.flourish-timeline-info .tl-info-icon {\n\t\tflex-shrink: 0;\n\t}\n\n\t.flourish-timeline-info .tl-info-icon,\n\t.flourish-timeline-info .tl-info-text,\n\t.flourish-timeline-info .tl-info-clear {\n\t\topacity: 0;\n\t\ttransition: opacity 0.3s;\n\t}\n\n\t.flourish-timeline-info.active-info .tl-info-icon,\n\t.flourish-timeline-info.active-info .tl-info-text,\n\t.flourish-timeline-info.active-clear .tl-info-clear {\n\t\topacity: 1;\n\t}\n\n\t.flourish-timeline-info .tl-info-text,\n\t.flourish-timeline-info .tl-info-clear {\n\t\tfont-family: "Canva Sans Variable", "Source Sans 3", sans-serif;\n\t}\n\n\t.flourish-timeline-info .tl-info-clear {\n\t\tcolor: #f66;\n\t\tcursor: pointer;\n\t\tborder-bottom: 1px solid transparent;\n\t\tmargin-left: auto;\n\t\ttext-align: right;\n\t\tposition: relative;\n\t\tmargin-right: 1rem;\n\t}\n\n\t.flourish-timeline-info .tl-info-clear:hover {\n\t\tborder-bottom-color: #f66;\n\t}\n\n\t.flourish-timeline-info .tl-info-clear > svg {\n\t\tposition: absolute;\n\t\ttop: 3px;\n\t\tright: -1.5rem;\n\t}\n',document.body.appendChild(sy);const ly="story_editor"===window.Flourish.environment||"sdk"===window.Flourish.environment;class cy{constructor(t,e,n){var r;n.getDatumStartTime&&!n.getDatumEndTime&&(n.getDatumEndTime=n.getDatumStartTime),this.container=t||document.body,this.state=Object.assign(e,Object.assign(Gm,e)),this.options=Object.assign({},Zm,n),this.migrateState(),this.is_ordinal=!!this.options.getOrdinal(),Object.defineProperties(this.state,{_instance:{enumerable:!1,value:this}}),this.svg=Kn(this.container).append("svg").classed("flourish-timeline",!0),this.layer_back=this.svg.append("g").classed("tl-layer-back",!0),this.layer_main=this.svg.append("g").classed("tl-layer-main",!0),this.layer_fore=this.svg.append("g").classed("tl-layer-fore",!0),this.interaction_box=this.svg.append("rect").classed("tl-interaction-box",!0),this.initInfoBox(),this.layer_back.append("rect").classed("tl-background",!0),this.x_scale=yb(),this.y_scale=L_(),this.x_scale_cursor=L_(),this.y_scale_cursor=L_(),this.axis_bottom=(r=this.x_scale,gl(sl,r)),this.axis_bottom_group=this.layer_fore.append("g").classed("tl-axis-bottom",!0),this.axis_left=function(t){return gl(ll,t)}(this.y_scale),this.axis_left_group=this.layer_fore.append("g").classed("tl-axis-left",!0),this.range_box=this.layer_fore.append("g").classed("tl-range-box",!0),this.range_box_rect=this.range_box.selectAll("rect").data([0,1]).enter().append("rect"),this.range_box_bars=this.range_box.selectAll("line").data([0,1]).enter().append("line"),this.scrub_bar=this.layer_fore.append("line").classed("tl-scrub-bar",!0).attr("stroke",this.state.color_axes||"currentColor"),this.scrub_node=this.layer_fore.append("path").classed("tl-scrub-node",!0).attr("d","M 0 0 L -5 -7 L 5 -7 z").attr("fill",this.state.color_axes||"currentColor"),this.progress=0,this.progress_encoded=null,this.progress_is_animating=!1,this.progress_animation_source=0,this.progress_animation_target=1,this.progress_animation_amount=0,this.progress_animation_duration=2,this.loop_block_playback=!1,this.playback_group=this.svg.append("g").classed("tl-playback-button",!0),this.playback_group.node().addEventListener("click",this.onClickPlaybackButton.bind(this)),this.playback_group.node().addEventListener("keyup",(t=>{"Space"!==t.code&&"Enter"!==t.code||this.onClickPlaybackButton()})),this.playback_button=this.playback_group.append("circle").attr("r",16).attr("tabindex",0),this.playback_icon=this.playback_group.append("path"),this.playback_label=this.playback_group.append("text").style("alignment-baseline","middle").style("dominant-baseline","middle"),this.defs=this.svg.append("defs"),this.mask=this.defs.append("clipPath").attr("id","main-mask").append("rect"),this.layer_main.attr("clip-path","url(#main-mask)"),document.addEventListener("touchstart",{}),this.is_dragging=!1,this.drag_start_time=Date.now(),this.touches=Dm(window,{preventSimulated:!1,target:this.svg.node(),filtered:!0}),this.touches.on("start",this.onTouchStart.bind(this)),this.touches.on("move",this.onTouchMove.bind(this)),this.touches.on("end",this.onTouchEnd.bind(this)),this.updateRemScale(),this.has_updated=!1,this.update(),this.shouldDrawMask=Xm([()=>this.progress,()=>this.state.axis_nice_x,()=>this.state.axis_nice_y,()=>this.is_ordinal,()=>this.is_dragging,()=>this.state.graph,()=>this.state.graph_height,()=>this.bin_results&&this.bin_results.min_time,()=>this.bin_results&&this.bin_results.max_time,()=>this.bin_results&&this.bin_results.keys_string])}loop(){var t;function e(n){if(window.requestAnimationFrame(e),t){var r=n-t;this.tick(r/1e3)}t=n}e=e.bind(this),window.requestAnimationFrame(e)}initInfoBox(){if(!ly)return;this.updateRemScale();const t=.875*this.rem;this.info_box=Kn(this.container).append("div").classed("flourish-timeline-info",!0).classed("enabled",ly),this.info_box_icon=this.info_box.append("svg").classed("tl-info-icon",!0).attr("width",t).attr("height",t).append("path").attr("fill","#666").attr("d",oy(iy,t)),this.info_box_text=this.info_box.append("div").classed("tl-info-text",!0),this.info_box_clear=this.info_box.append("div").classed("tl-info-clear",!0).text("Reset timeline state").on("click",(()=>{this.state.playback_has_saved_position=!1,this.state.playback_has_saved_range=!1,this.drawInfoBox(),this.drawRangeBox()})),this.info_box_clear.append("svg").attr("width",t).attr("height",t).append("path").attr("fill","#f66").attr("d",function(t){return oy(ay,t)}(t))}isEnabled(){return this.state.enabled&&(!this.bin_results||this.bin_results.bins_all.length>1)}getProgress(){const t=this.state.loop*this.state.duration_wait_at_end/this.state.duration;var e=this.progress;return e-=Math.max(0,Math.min(this.progress-1,t))}getMainHeight(){return this.height}getHeight(){let t=this.height;return ly&&"button"!==this.state.style&&(t+=2*this.rem),t}getLabelHeight(){return Math.floor(this.rem*this.state.axis_font_size+8)}update(){this.updateRemScale(),this.migrateState(),this.has_updated&&!this.state._prevent_play_on_load&&(this.state.playing=!!this.state.play_on_load,this.state._prevent_play_on_load=!0),this.has_updated=!0,this.bin_results&&!this.options.shouldUpdate(this)||(this.is_ordinal=!!this.options.getOrdinal(),this.bin_results=this.state.enabled&&(this.is_ordinal?function(t){const e=t.getMode(),n=Object.create({});var r=[];t.getCategorical();const i=t.getData();if(!i||!i.length)return{bins_by_category:{"":[]},bins_all:[]};const a=t.getOrdinalKeys();for(var o=0;o<i.length;o++){for(var s=i[o],l=t.getDatumCategory(s)||"",c=n[l]||(n[l]=[]);c.length<a.length;)c[c.length]=0;for(;r.length<a.length;)r[r.length]=0;for(var u=0;u<a.length;u++){const e=t.getOrdinalValue(s,a[u],u)||0;c[u]+=e,r[u]+=e}}for(var f in n)for(c=n[f];c.length<r.length;)c[c.length]=0;if("total"===e)for(var f in r=Km(r),n)n[f]=Km(n[f]);const d=Object.keys(n),h=d.reduce(((t,e)=>Math.min(t,w_(n[e]))),1/0),p=d.reduce(((t,e)=>Math.max(t,v_(n[e]))),-1/0);return{min_value:h,max_value:p,keys:a,keys_string:a.join("Ã¿"),count:a.length,bins_by_category:n,bins_all:r,categories:d}}(this.options):Jm(this.options))),this.svg.classed("style-timeline","timeline"===this.state.style).classed("style-button","button"===this.state.style),this.isEnabled()?(this.svg.style("display","block"),this.updateDimensions(),this.updateAxes(),null!==this.progress_encoded&&(this.progress=this.options.decodeProgress.call(this,this.progress_encoded)),this.state.playback_has_saved_position&&(this.progress_is_animating=!0,this.progress_animation_source=this.progress,this.progress_animation_target=this.options.decodeProgress.call(this,this.state.playback_position),this.progress_animation_amount=0,this.progress_animation_duration=this.state.duration_tween),this.scrub_bar.attr("stroke",this.state.color_axes||"currentColor"),this.scrub_node.attr("fill",this.state.color_axes||"currentColor"),this.draw()):this.svg.style("display","none")}updateDimensions(){var t=this.container.getBoundingClientRect();return this.width=Math.floor(t.width),"button"===this.state.style?this.height=this.rem*(2*this.state.playback_button.button_size+this.state.margin.top+this.state.margin.bottom):this.state.graph?this.height=this.rem*this.state.graph_height:this.height=this.rem*this.state.scrubber_height,this.svg.attr("width",this.width+"px"),this.svg.attr("height",this.getMainHeight()+"px"),t}updateAxes(){var t=this.width-this.rem*this.state.margin.right-1,e=this.rem*(2*this.state.playback_button.button_size+this.state.playback_button.margin_right+this.state.margin.left);const n=this.bin_results?this.bin_results.min_time:0,r=this.bin_results?this.bin_results.max_time:1,i=this.bin_results?this.bin_results.max_value||0:1;if(this.y_scale=L_().range([this.height-this.rem*this.state.margin.bottom-this.getLabelHeight(),this.rem*this.state.margin.top]).domain([0,i]),this.state.graph&&(e+=this.drawAndMeasureAxisY().width),this.is_ordinal){var a=(this.bin_results.keys||[]).map(((n,r)=>{var i=r/(this.bin_results.keys.length-1);return e+(t-e)*i}));this.x_scale=k_().domain(this.bin_results.keys||[]).range(a)}else this.x_scale=yb().range([e,t]).domain([n,r]);this.y_scale_chart=this.y_scale.copy().domain([0,1]),this.x_scale_chart=L_().range([e,t]).domain([0,1]),this.state.axis_nice_y&&(this.y_scale=this.y_scale.nice()),this.is_ordinal||this.state.axis_nice_x&&(this.x_scale=this.x_scale.nice());var o=this.x_scale.range(),s=o.length-1;this.x_scale_cursor=L_().range([0,1]).domain([this.is_ordinal?o[0]:this.x_scale(n),this.is_ordinal?o[s]:this.x_scale(r)])}draw(){this.updateRemScale(),"button"!==this.state.style?this.state.graph?(this.drawGraph(),this.drawAxisX(),this.drawAxisY(),this.drawMask()):(this.drawScrubber(),this.drawAxisX()):(this.axis_bottom_group.selectAll(".domain").data([]).exit().remove(),this.axis_bottom_group.selectAll(".tick").data([]).exit().remove(),this.axis_left_group.selectAll(".domain").data([]).exit().remove(),this.axis_left_group.selectAll(".tick").data([]).exit().remove(),this.layer_back.select(".tl-background").style("visibility","hidden"),this.scrub_bar.attr("visibility","hidden")),this.drawPlaybackButton(),this.drawRangeBox(),this.drawInfoBox()}tick(t){if(this.isEnabled()){if(this.progress_is_animating){var e=this.progress_animation_source,n=this.progress_animation_target,r=this.progress_animation_amount+=t/this.progress_animation_duration;this.progress=e+(n-e)*ty(r),this.progress_is_animating=r<1}else{const r=!this.is_dragging&&!this.loop_block_playback&&this.state.playing,i=+r*t/this.state.duration;if(this.progress+=i,!this.is_dragging&&!r&&this.state.scrubber_snap_paused)(e=this.progress)!==(n=this.snapProgress(this.progress))&&(this.progress_is_animating=!0,this.progress_animation_amount=0,this.progress_animation_source=e,this.progress_animation_target=n,this.progress_animation_duration=this.state.duration_tween);this.state.playing&&!this.is_dragging&&!this.state.loop&&this.progress>=1&&(this.progress=1,this.loop_block_playback=!0,this.drawPlaybackButton()),this.progress=this.clampedProgress(this.progress,!this.is_dragging)}this.progress_encoded=this.options.encodeProgress.call(this,this.progress),"button"!==this.state.style&&this.drawMask()}}onClickPlaybackButton(t){this.state.playing=!this.state.playing,this.loop_block_playback=!1,!this.state.loop&&this.state.playing&&this.progress>=1&&(this.progress=0),this.state.playing&&(this.state.playback_has_saved_position=!1,this.progress_is_animating=!1),this.drawPlaybackButton(),this.drawInfoBox(),t&&(t.preventDefault(),t.stopPropagation())}onTouchStart(t,e){Pb(t.target,this.interaction_box.node())&&(document.querySelector(".fl-annotations.is-editing")||(this.is_dragging=!0,this.drag_start_time=Date.now(),this.updateDragPosition(e[0],!0,!1),this.drawPlaybackButton(),this.drawMask(),t.stopPropagation()))}onTouchMove(t,e){this.is_dragging&&(this.updateDragPosition(e[0],!1,!1),this.drawMask(),t.preventDefault(),t.stopPropagation())}onTouchEnd(t,e){this.is_dragging&&(this.is_dragging=!1,this.updateDragPosition(e[0],!1,!0),this.drawPlaybackButton(),this.drawMask(),t.preventDefault(),t.stopPropagation())}snapProgress(t){var e=this.bin_results.count;return this.is_ordinal&&(e-=1),Math.round(t*e)/e}updateDragPosition(t,e,n){if(t=Math.max(t,this.x_scale_chart(0)),t=Math.min(t,this.x_scale_chart(1)),this.progress=this.x_scale_cursor(t),this.loop_block_playback=!1,this.state.scrubber_snap&&(this.progress=this.snapProgress(this.progress)),this.progress_is_animating=!1,ly){if(this.state.playing){var r=this.state.playback_range;e&&(r[0]=uy(this.options.encodeProgress.call(this,this.progress))),r[1]=uy(this.options.encodeProgress.call(this,this.progress)),n&&(r[0]===r[1]||Date.now()-this.drag_start_time<300)?this.state.playing=!1:(this.state.playback_has_saved_range=!0,this.state.playback_has_saved_position=!1)}this.state.playing||(this.state.playback_position=uy(this.options.encodeProgress.call(this,this.progress)),this.state.playback_has_saved_range=!1,this.state.playback_has_saved_position=!0),this.drawRangeBox(),this.drawInfoBox()}else this.progress=this.clampedProgress(this.progress,!1)}updateRemScale(){this.rem=parseFloat(getComputedStyle(document.documentElement).fontSize)}drawGraph(){const t=this.x_scale_chart(0),e=this.x_scale_chart(1)-t,n=this.y_scale_chart(1),r=this.y_scale_chart(0)-n;this.axis_left_group.style("visibility","visible"),this.layer_back.select(".tl-background").style("fill",this.state.color_background||"transparent").style("visibility","visible").attr("x",t).attr("y",n).attr("width",e).attr("height",Math.max(0,r)),this.interaction_box.attr("x",t).attr("y",n).attr("width",e).attr("height",Math.max(0,r)),this.scrub_bar.attr("x1",0).attr("x2",0).attr("y1",n).attr("y2",n+r).attr("visibility","visible");const i=this.options.getCategorical();if(this.is_ordinal)a=Eb().curve(this.state.curve?Ob:Sb).x(((t,e)=>this.x_scale(this.bin_results.keys[e]))).y((t=>this.y_scale(t)));else{const t=this.bin_results.max_time-this.bin_results.min_time,e=+this.bin_results.min_time,n=this.bin_results.count;var a=Eb().curve(this.state.curve?Ob:Sb).x(((r,i)=>this.x_scale(e+t*i/n))).y((t=>this.y_scale(t)))}const o=function(t,e){return e?Object.keys(t.bins_by_category).map((e=>({category:e,values:t.bins_by_category[e]}))):[{category:"",values:t.bins_all}]}(this.bin_results,i),s={};for(var l=0;l<o.length;l++){var c=o[l].category;s[c]=!!this.options.isCategorySelected(c)}const u=this.layer_main.selectAll(".tl-line").data(o,(t=>t.category));u.enter().append("path").classed("tl-line",!0).attr("data-category",(t=>t.category)).merge(u).sort(((t,e)=>+s[t.category]-+s[e.category])).attr("d",(t=>a(t.values))).style("fill","none").style("opacity",(t=>s[t.category]?1:.15)).style("stroke-width",2).style("stroke",i?this.options.getLineColorCategorical:this.options.getLineColorContinuous),u.exit().remove()}drawAxisX(){if(this.axis_bottom.scale(this.x_scale.copy()).ticks(this.width/100),this.is_ordinal)this.axis_bottom.tickFormat(null);else{var t=this.x_scale.tickFormat(this.width/100,this.state.date_format_display||null);this.axis_bottom.tickFormat(t)}var e=-1/0;this.axis_bottom(this.axis_bottom_group),this.axis_bottom_group.attr("transform",`translate(0, ${this.y_scale_chart(0)})`).attr("font-family",null).style("color",this.state.color_axes||"currentColor").style("font-size",this.state.axis_font_size+"rem").selectAll(".tick").each((function(){var t=Kn(this),n=t.select("text"),r=n.node().getBoundingClientRect();e>r.left-8?(n.style("visibility","hidden"),t.select("line").attr("y2",3).style("opacity",.5)):0!==r.left&&0!==r.right&&(n.style("visibility","visible"),t.select("line").attr("y2",6).style("opacity",1),e=r.right)}))}drawAxisY(){if(this.isEnabled()){this.axis_left.scale(this.y_scale.copy()).ticks(this.height/25).tickFormat(this.options.formatNumber);var t=1/0;this.axis_left(this.axis_left_group),this.axis_left_group.attr("transform",`translate(${this.x_scale_chart(0)}, 0)`).attr("font-family",null).style("font-size",this.state.axis_font_size+"rem").style("color",this.state.color_axes||"currentColor").selectAll(".tick").each((function(){var e=Kn(this),n=e.select("text"),r=n.node().getBoundingClientRect();t<r.bottom-8?(n.style("visibility","hidden"),e.select("line").attr("x2",-3).style("opacity",.5)):0!==r.bottom&&0!==r.top&&(n.style("visibility","visible"),e.select("line").attr("x2",-6).style("opacity",1),t=r.top)}))}}drawAndMeasureAxisY(){return this.axis_left.scale(this.y_scale.copy()).ticks(this.height/25).tickFormat(this.options.formatNumber),this.axis_left(this.axis_left_group),this.axis_left_group.node().getBoundingClientRect()}drawRangeBox(){if(!this.state.playback_has_saved_range||"timeline"!==this.state.style)return this.range_box.style("visibility","hidden");const t=this.state.playback_range,e=this.options.decodeProgress.call(this,t[0]),n=this.options.decodeProgress.call(this,t[1]),r=Math.min(e,n),i=Math.max(e,n),a=this.x_scale.domain(),o=this.is_ordinal?this.x_scale(a[0]):this.x_scale(this.bin_results.min_time),s=this.is_ordinal?this.x_scale(a[a.length-1]):this.x_scale(this.bin_results.max_time),l=this.x_scale_chart(0),c=this.x_scale_chart(1),u=o+(s-o)*r,f=o+(s-o)*i,d=this.y_scale_chart(1),h=this.y_scale_chart(0)-d;this.range_box.style("visibility","visible"),this.range_box_rect.attr("fill","rgba(80, 80, 80, 0.35)").attr("x",(t=>t?l:f)).attr("width",(t=>t?u-l:c-f)).attr("y",d).attr("height",Math.max(0,h))}drawScrubber(){const t=this.x_scale_chart(0),e=this.x_scale_chart(1)-t,n=this.y_scale_chart(1),r=this.y_scale_chart(0)-n;this.layer_main.selectAll(".tl-line").remove(),this.axis_left_group.style("visibility","hidden").selectAll(".tick").select("text").style("visibility","hidden"),this.scrub_bar.attr("visibility","hidden"),this.layer_back.select(".tl-background").style("fill","transparent").style("visibility","visible").attr("x",t).attr("y",n).attr("width",e).attr("height",Math.max(0,r)),this.interaction_box.attr("x",t).attr("y",n).attr("width",e).attr("height",Math.max(0,this.height-n))}drawInfoBox(){if(ly){this.info_box.style("margin-left",this.x_scale_chart(0)+"px");var t=!1,e=!1;this.state.playback_has_saved_range?(this.info_box_text.text("This slide will only play the above portion of the timeline."),t=e=!0):this.state.playback_has_saved_position&&(this.info_box_text.text("This slide will start paused at the current position in the timeline."),t=e=!0),this.info_box.classed("active-info",e),this.info_box.classed("active-clear",t)}}drawMask(){if(this.shouldDrawMask&&!this.shouldDrawMask())return;const t=this.x_scale.domain(),e=this.x_scale_chart(0),n=this.x_scale_chart(1)-e,r=this.y_scale_chart(1),i=this.y_scale_chart(0)-r,a=this.is_ordinal?this.x_scale(t[0]):this.x_scale(this.bin_results.min_time),o=this.is_ordinal?this.x_scale(t[t.length-1]):this.x_scale(this.bin_results.max_time),s=Math.min(Math.max(a+(o-a)*this.progress,e),e+n),l=s>e&&s<e+n;if(this.mask.attr("x",e).attr("y",r).attr("width",Math.max(0,s-e)).attr("height",Math.max(0,i)),this.state.graph){var c=(this.is_dragging||l)&&"timeline"===this.state.style;this.scrub_node.attr("visibility","hidden"),this.scrub_bar.attr("transform",`translate(${s}, 0)`).attr("visibility",c?"visible":"hidden")}else{var u="timeline"===this.state.style;this.scrub_bar.attr("visibility","hidden"),this.scrub_node.attr("transform",`translate(${s}, ${r+i})`).attr("visibility",u)}}drawPlaybackButton(){var t=this.rem*(this.state.margin.left+this.state.playback_button.button_size),e="button"===this.state.style?this.rem*(this.state.margin.top+this.state.playback_button.button_size):this.y_scale_chart(.5);"button"!==this.state.style&&this.state.graph&&(e+=this.getLabelHeight()/2),this.playback_group.attr("transform",`translate(${t},${e})`),this.playback_button.attr("fill",this.state.playback_button.button_color||"currentColor"),this.playback_button.attr("tabindex",0),this.playback_button.attr("r",this.rem*this.state.playback_button.button_size),this.playback_icon.style("fill",this.state.playback_button.icon_color),this.playback_label.attr("font-size",`${this.state.playback_button.label_size}rem`),this.playback_label.attr("transform",`translate(${this.rem*(this.state.playback_button.button_size+this.state.playback_button.margin_right_button)},0)`);const n=this.rem*this.state.playback_button.icon_size;if(!this.state.loop&&this.progress>=1){const t=n/ry.size;this.playback_label.text("Replay"),this.playback_icon.attr("d",ry.path).attr("transform",`translate(${8*n/16}, ${-8*n/16}) scale(${-t}, ${t})`)}else if(this.state.playing){const t=n/ny.size;this.playback_label.text("Pause"),this.playback_icon.attr("d",ny.path).attr("transform",`translate(${-7*n/16}, ${-8*n/16}) scale(${t})`)}else{const t=n/ey.size;this.playback_label.text("Play"),this.playback_icon.attr("d",ey.path).attr("transform",`translate(${-6*n/16}, ${-8*n/16}) scale(${t})`)}}clampedProgress(t,e){if(this.is_ordinal)var n=0,r=1;else{var i=this.x_scale.domain();n=(i[0]-this.bin_results.min_time)/(this.bin_results.max_time-this.bin_results.min_time),r=(i[1]-this.bin_results.min_time)/(this.bin_results.max_time-this.bin_results.min_time)}var a=this.state.loop*this.state.duration_wait_at_end/this.state.duration,o=this.options.getPadding()/this.state.duration,s=n-o,l=r+o+a;if(this.state.playback_has_saved_range){var c=this.state.playback_range,u=this.options.decodeProgress.call(this,c[0]),f=this.options.decodeProgress.call(this,c[1]);s=Math.min(u,f),l=Math.max(u,f)}return e?(t<s&&(t=l),t>l&&(t=s)):(t<s&&(t=s),t>l&&(t=l)),t}annotationsDataFromCursor(t,e){const n=this.interaction_box.node().getBoundingClientRect(),r=this.x_scale_cursor(e[0]),i=1-(e[1]-n.y+this.rem*this.state.margin.top)/n.height;if(r<0||r>1)return;if(i<0||i>1)return;const a=this.x_scale.range(),o=this.y_scale.range();return{type:"timeline",time:this.x_scale.invert(a[0]+(a[1]-a[0])*r),value:this.y_scale.invert(o[0]+(o[1]-o[0])*i)}}annotationsPositionFromData(t){if("timeline"!==t.type)return;const e=this.svg.node().getBoundingClientRect();return[this.x_scale(t.time),e.y-this.rem*this.state.margin.top+this.y_scale(t.value)]}migrateState(){"number"==typeof this.state.margin&&(this.state.margin={top:this.state.margin,left:0,right:0,bottom:0})}}function uy(t){return JSON.parse(JSON.stringify(t))}var fy;function dy(){fy.update()}var hy,py,gy,_y,by=[];function my(t){var e=[];Be.annotations_enabled&&(e=Be.annotations_content.split("\n").filter((function(t){return""!=t&&void 0!==t&&(!(t.split("::").length<2)||(e={message:'Annotation "'+t+'" is invalid',explanation:'Should be "Annotation text :: Value on X axis"'},by.push(e),!1));var e})).map((function(t){return{text:t.split("::")[0].trim(),value:Number(nu(t.split("::")[1].trim()))}})));var n=Kn("#annotations").attr("clip-path","url(#plot-clip)").style("display",Be.annotations_enabled?"":"none").selectAll(".annotation").data(e);n.exit().remove();var r=n.enter().append("g").attr("class","annotation");r.append("line").attr("y1",0).attr("x1",0).attr("x2",0);var i=r.append("text").attr("transform","rotate(90)");i.append("tspan").attr("class","bg"),i.append("tspan").attr("class","fg");var a=n.merge(r),o=0,s="-0.4em";"middle"==Be.annotations_align&&(o=t/2),"end"==Be.annotations_align&&(o=t),"on"==Be.annotations_offset&&(s="0.25em"),"below"==Be.annotations_offset&&(s="1.2em"),a.attr("transform",(function(t){return"translate("+Xy(t.value)+", 0)"})),a.select("line").attr("stroke-width",Be.annotations_line_width).attr("stroke",Be.annotations_line_color||Be.layout.font_color).attr("opacity",Be.annotations_line_opacity).attr("stroke-dasharray",Be.annotations_line_dash+" "+Be.annotations_line_dash).attr("y2",t),a.select("text").attr("y",s).attr("fill",Be.annotations_text_color).style("font-weight",Be.annotations_text_weight).style("font-size",Be.annotations_text_size+"rem"),a.select("tspan.bg").style("stroke-width","on"==Be.annotations_offset?"0.5em":"0.2em").attr("text-anchor",Be.annotations_align).attr("x",o).text((function(t){return t.text})).style("stroke",Be.layout.background_color_enabled?Be.layout.background_color:"#ffffff"),a.select("tspan.fg").attr("text-anchor",Be.annotations_align).attr("x",o).text((function(t){return t.text}))}function yy(){var t=fy.getProgress();hy!==t?(pv(),hy=t,window.requestAnimationFrame(yy)):window.requestAnimationFrame(yy)}my();var vy,wy,xy=450;function My(){vy=vy||Kn("#caption");var t=Be.caption_position.split("-")[0],e=Be.caption_position.split("-")[1],n=c_.getPrimaryWidth()<xy,r=0==Be.caption_image_position.indexOf("column")||n;vy.select("#text").style("width",r?null:100-Be.caption_image_width+"%"),vy.select("#image").style("max-height",r?Be.caption_image_width+"%":null).style("width",r?null:Be.caption_image_width+"%").style("margin",(function(){return this.querySelector("img")?"column"==Be.caption_image_position||n?Be.caption_space_between+"rem 0 0":"column-reverse"==Be.caption_image_position?"0 0 "+Be.caption_space_between+"rem":"row"==Be.caption_image_position?"0 0 0 "+Be.caption_space_between+"rem":"0 "+Be.caption_space_between+"rem 0 0":0})),vy.style("flex-direction",(function(){return n?"column":Be.caption_image_position})).style("font-size",Be.caption_font_size+"rem").style("padding",Be.caption_padding+"rem").style("border-radius",Be.caption_border_radius+"rem").style("align-items",0==Be.caption_image_position.indexOf("column")?Be.caption_text_align:null).style("background",(function(){var t=Be.caption_background_color.replace("#","");return"rgba("+parseInt(t.substring(0,t.length/3),16)+","+parseInt(t.substring(t.length/3,2*t.length/3),16)+","+parseInt(t.substring(2*t.length/3,3*t.length/3),16)+","+Be.caption_opacity+")"})).style("color",Be.caption_text_color).style("border-color",Be.caption_border_color).style("top",(function(){return"top"===t?"5%":"bottom"===t?null:"50%"})).style("left",(function(){return"left"===e?"5%":"right"===e?null:"50%"})).style("right",(function(){return"right"===e?"5%":null})).style("bottom",(function(){return"bottom"===t?"5%":null})).style("transform",(function(){return"translate("+("center"==e?"-50%":0)+", "+("center"==t?"-50%":0)+")"}))}function ky(){return this.declarations=[],this}function Ty(t){return this.selector=t,this.styles=[],this}ky.prototype.select=function(t){if(!t)return this;var e=new Ty(t);return e.parent=this,this.addDeclaration(e),e},ky.prototype.addDeclaration=function(t){return this.declarations.push(t),this},ky.prototype.print=function(){var t="";return this.declarations.forEach((function(e){t+=e.selector+" {\n",e.styles.forEach((function(e){t+="\t"+e[0]+": "+e[1]+";\n"})),t+="}\n\n"})),t},ky.prototype.clear=function(){return this.declarations=[],this},Ty.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this},Ty.prototype.select=function(t){return this.parent.select(this.selector+" "+t)};var Cy=Object.freeze({font_size:1,font_weight:"bold",height:2});function Ay(t,e,n){for(var r in this._state=t,Cy)void 0===this._state[r]&&(this._state[r]=Cy[r]);return this._layout=n||{},this._styles=new ky,this._selector=e,this._createStylesheet(),this}Ay.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-controls",document.head.appendChild(this._stylesheet)},Ay.prototype.update=function(){this._styles.clear(),this._styles.select(this._selector+".hidden").style("display","none"),this._styles.select(this._selector).style("vertical-align","middle").style("position","relative").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(".fl-controls-title").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight).style("vertical-align","middle"),this._styles.select(this._selector+".fl-control .button").style("height",this._state.height+"rem").style("padding","0 0.5em"),this._styles.select(this._selector+"-dropdown select").style("height",this._state.height+"rem").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight).style("padding","0 "+.1*this._state.height+"rem"),this._styles.select(this._selector+"-slider .slider-end-labels").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(this._selector+"-slider").style("height",this._state.height+"rem"),this._stylesheet.innerHTML=this._styles.print()};var Sy,Ny,Fy=Object.freeze({background:null,font_color:null,background_selected:"#333333",font_color_selected:"#ffffff",background_hover:null,font_color_hover:null,border_width:1,border_transparency:.25,border_color:null,border_radius:3});function Ey(t,e,n){for(var r in this._state=t,Fy)void 0===this._state[r]&&(this._state[r]=Fy[r]);return this._layout=n||{},this._styles=new ky,this._selector=e,this._createStylesheet(),this}Ey.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-button",document.head.appendChild(this._stylesheet)},Ey.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color_enabled&&this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=df(this._state.border_color||e,this._state.border_transparency),r=window.getComputedStyle(document.body).direction||"ltr";this._styles.select(this._selector+".fl-control.hidden").style("display","none"),this._styles.select(this._selector+".fl-control .button").style("overflow","hidden").style("white-space","nowrap").style("margin","0 2px 0 0 !important").style("background-color",t).style("color",e).style("border",this._state.border_width+"px solid "+n).style("border-radius",this._state.border_radius+"px"),this._styles.select(this._selector+".fl-control .button:hover").style("background-color",this._state.background_hover||t).style("color",this._state.font_color_hover||e),this._styles.select(this._selector+".fl-control .button.selected").style("background-color",this._state.background_selected).style("color",this._state.font_color_selected),this._styles.select(this._selector+".grouped.fl-control .button").style("border-right","none").style("border-radius","0").style("margin","0");var i="rtl"===r,a=i?":last-child":":first-child",o=i?":first-child":":last-child";this._styles.select(this._selector+".grouped.fl-control .button"+a).style("border-radius",this._state.border_radius+"px 0 0 "+this._state.border_radius+"px"),this._styles.select(this._selector+".grouped.fl-control .button"+o).style("border-radius","0 "+this._state.border_radius+"px "+this._state.border_radius+"px 0").style("border-right",this._state.border_width+"px solid "+n),this._styles.select(this._selector+".grouped.fl-control.fixed-width:not(.hidden)").style("width",this._state.grouped_width+"%"),this._stylesheet.innerHTML=this._styles.print()};var Dy,zy=5,Oy=!0;function Ly(){var t=Be.sort_descending_text,e=Be.sort_ascending_text,n=Kn("#sort-control").style("border-radius",Be.controls_border_radius+"rem").selectAll(".button").data(Be.sort_enabled&&Be.sort_control?[t,e]:[]),r=n.enter().append("div").classed("button",!0);n.merge(r).text((function(t){return t})).classed("selected",(function(e){return e==t?!Be.sort_ascending:Be.sort_ascending})).on("click",(function(e){Be.sort_ascending=e!=t,gv()})),n.exit().remove(),Sy.update(),Ny.update()}function Py(t){return"axis"==Be.label_mode?-zy:ov(t)-zy}function jy(t){if(py<0||0===t.values.length)return 0;var e=t.values[gy]-t.values[py];return Number(t.values[py])+e*_y||0}var Hy,Uy,Yy,$y,By,qy,Ry,Iy,Vy,Wy,Xy,Gy,Zy,Qy,Jy,Ky,tv,ev,nv,rv,iv={};function av(t){return tu(jy(t))}function ov(t){return Xy(jy(t))||0}function sv(t,e){return jy(t)==jy(e)?tr(t.label,e.label):(Be.sort_ascending?tr:ar)(jy(t),jy(e))}function lv(t){return null!==t.values[py]&&null!==t.values[gy]&&(null!==jy(t)&&(null===Be.bar_min_value||jy(t)>Be.bar_min_value))}function cv(){Kn(this).classed("bar",!1).classed("exiting",!0).transition().duration(Iy).attr("transform","translate(0, "+Yy+")").remove()}function uv(t,e){var n=e*Vy+Wy/2;n!==this._previous_offset&&Kn(this).transition().duration(Iy).attr("transform",(function(){return"translate(0, "+n+")"})),this._previous_offset=n}function fv(t){return"bars"==Be.label_mode?-(Zy+Jy):ov(t)-Zy-Jy}function dv(t){return Dy?"rotate(90 "+(fv(t)+Zy/2)+" "+(Qy+Gy/2)+")":null}function hv(t){tv=t||Be.number_of_bars;var e=Be.bar_empty_spaces?Be.number_of_bars:tv;Flourish.fixed_height||"specified"!=Be.height_mode||Be.column_chart?(c_.setHeight(null),Yy=By=Uy,$y=qy=Hy,Dy&&($y=Uy,Yy=Hy),ev=Yy-iv.top-iv.bottom,Vy=ev/e):(Vy=c_.remToPx(Be.bar_height),Yy=By=(ev=e*Vy)+iv.top+iv.bottom,$y=qy=Hy,c_.setHeight(Yy)),Kn("#viz").attr("width",$y).attr("height",Yy).style("transform",Dy?"rotate(-90deg) translate("+-$y+"px, 0)":null)}function pv(){var t,e,n,r;t=fy.getProgress(),e=$e.data.column_names.values,n=(e.length-1)*t,r=(py=Math.floor(n))===e.length-1,gy=r?py:Math.ceil(n),_y=r?0:n-py,Iy=Oy?0:1e3*Be.animation_duration,Kn("#viz").attr("font-family",Be.layout.body_font.name);var i=gf.slice();Be.sort_enabled&&i.sort(sv);var a=Math.min(Be.number_of_bars,pf.length);nv=i.filter(lv).splice(0,a),tv!==nv.length&&hv(nv.length),Wy=Vy*Be.bar_margin/100;var o=Vy-Wy,s=Kn("#viz").node().getBoundingClientRect().left;Gy=Be.image_height/100*o,Zy=Be.image_width/100*o,Qy=(o-Gy)/2,Jy=Be.image_margin_right/100*o,Ky=Jy<0?-Jy:0;var l=iv.left;"axis"==Be.label_mode?l+=c_.remToPx(Be.label_axis_width):void 0!==$e.data.column_names.image&&(l+=Zy+Jy),Kn("#plot").attr("transform","translate("+l+", "+iv.top+")");var c=Math.max(0,$y-l-iv.right);Kn("#plot-clip rect").attr("width",$y-iv.left).attr("height",ev);var u=Be.scale_max,f=Be.scale_min||0;"auto"==Be.scale_type?u=Math.max(f,hr(nv,jy)):"auto_fixed"==Be.scale_type&&(u=pf.max_value);var d=[0,u];Xy=Ua().domain(d).range([0,c]),"auto_fixed"==Be.scale_type&&Xy.nice();var h=Math.min(.66*o,c_.remToPx(Be.label_max_size)),p=Kn("#viz #bars").selectAll(".bar").data(nv,(function(t){return t.index})),g=p.enter().append("g").attr("class","bar").attr("transform","translate(0, "+Yy+")");g.append("rect").attr("width",ov).attr("height",o).attr("fill",md).style("opacity",Be.bar_opacity),g.append("text").attr("class","label").attr("font-size",h).attr("y",.5*o).attr("dy",.25*h).attr("x",Py);var _=g.append("g").attr("class","bar-images");_.append("clipPath").attr("class","image-clip").attr("id",(function(t){return"clip-"+t.index})).attr("transform",(function(t){return"translate("+("bars"==Be.label_mode?0:ov(t))+", 0)"})).append("circle").attr("transform","translate("+-(Zy/2+Jy)+", "+(Gy/2+Qy)+")").attr("r",Math.min(Gy,Zy)/2),_.append("image").attr("height",Gy).attr("width",Zy).attr("x",fv).attr("y",Qy).attr("transform",dv),g.append("text").attr("class","value").text((function(t){return jy(t)})).attr("font-size",h).attr("y",.5*o).attr("fill",Be.label_color_out).attr("dy",.25*h).attr("x",(function(t){var e="axis"==Be.label_mode?Ky:0;return ov(t)+zy+e})),p.exit().each(cv),p.exit().select("rect").style("opacity",Be.bar_opacity).attr("width",ov),p.exit().select(".image-clip").attr("transform",(function(t){return"translate("+("bars"==Be.label_mode?0:ov(t))+", 0)"})),p.exit().select(".image-clip circle").attr("transform","translate("+-(Zy/2+Jy)+", "+(Gy/2+Qy)+")"),p.exit().select("image").attr("x",fv).attr("y",Qy).attr("transform",dv),p.exit().select("text.label").attr("x",Py),p.exit().select("text.value").attr("x",(function(t){return ov(t)+zy}));var b=p.merge(g);b.each(uv),b.select("rect").style("opacity",Be.bar_opacity).attr("width",ov).attr("height",o).attr("fill",md),b.select(".bar-images").attr("clip-path","axis"==Be.label_mode?"url(#plot-clip)":null),b.select(".image-clip").attr("transform",(function(t){return"translate("+("bars"==Be.label_mode?0:ov(t))+", 0)"})),b.select(".image-clip circle").attr("transform","translate("+-(Zy/2+Jy)+", "+(Gy/2+Qy)+")").attr("r",Math.min(Gy,Zy)/2),b.select("image").attr("clip-path",(function(t){return Be.image_circle?"url(#clip-"+t.index+")":null})),b.select("image").attr("preserveAspectRatio",(function(){return"stretch"==Be.image_scale?"none":"xMidYMid"+("fit"==Be.image_scale?"":" slice")})),b.select("image").each((function(t){t.image!=this.previous_image&&Kn(this).attr("xlink:href",t.image),this.previous_image=t.image})),b.select("image").attr("height",Gy).attr("width",Zy).attr("x",fv).attr("y",Qy).attr("transform",dv),b.select("text.label").text((function(t){return t.label})).attr("text-anchor",u_?"start":"end").attr("fill",(function(t){return Be.label_color_in?Be.label_color_in:"bars"===Be.label_mode?Dd(md(t))?"#333333":"#FFFFFF":Dd(Be.layout.background_color)?"#333333":"#FFFFFF"})).attr("clip-path","axis"==Be.label_mode?null:"url(#plot-clip)").attr("font-size",h).attr("y",.5*o).attr("dy",.25*h).attr("x",Py),b.select("text.value").attr("font-size",h).attr("fill",(function(){return Be.label_color_out?Be.label_color_out:Dd(Be.layout.background_color)?"#333333":"#FFFFFF"})).attr("y",.5*o).attr("dy",.25*h).attr("x",(function(t){var e="axis"==Be.label_mode?Ky:0;return ov(t)+zy+e})).attr("text-anchor",u_?"end":"start").style("display",Be.show_value?"block":"none").text(av);var m=Math.min(3,Math.round(u)),y=_l().scale(Xy).ticks(m).tickSize(-ev).tickFormat(tu),v=0,w=1/0;Kn("#viz").select("#axis").call(y),Kn("#viz").selectAll(".tick line").attr("stroke",Be.axis_color).attr("stroke-dasharray",Be.axis_gridline_dash?Be.axis_gridline_dash+" "+Be.axis_gridline_dash:null),Kn("#viz").select("#axis").selectAll(".tick text").style("font-size",Ry).style("fill",(function(){return Be.axis_text_color?Be.axis_text_color:Dd(Be.layout.background_color)?"#333333":"#FFFFFF"})).attr("dy","-.33em").each((function(t,e){var n=this.getBoundingClientRect();this.parentNode.getAttribute("opacity")<1||(!Dy&&n.left<v+5||Dy&&n.bottom+5>w?Kn(this).style("visibility","hidden"):(Kn(this).style("visibility","visible"),v=n.left+n.width,w=n.top),0==e&&n.left<s&&Kn(this).style("text-anchor","start"))})),function(){var t=Be.counter_line_height,e=Dy?By:qy,n=Be.counter?Be.counter_font_size*e/100:0,r=Be.totaliser?Be.totaliser_font_size*e/100:0,i=t*(n+r),a=Be.column_chart&&Be.sort_ascending,o=Be.sort_ascending||Be.column_chart,s=a?iv.top+"px":null,l=o?Dy?"0px":iv.top+"px":By-i+"px";Kn("#now").style("left",s).style("right",0).style("text-align",a?"left":"right").style("top",l),Kn("#current-column").text($e.data.column_names.values[py]).style("line-height",t+"em").style("height",t+"em").style("font-weight","bold").style("display",Be.counter?"block":"none").style("color",Be.counter_color).style("font-size",n+"px"),Kn("#totaliser").style("line-height",t+"em").style("height",t+"em").style("display",Be.totaliser?"block":"none").style("font-size",r+"px").style("color",Be.totaliser_color).text((function(){if(!Be.totaliser)return;const t=jy({values:pf.totals}),e=Be.totaliser_label,n=tu(t);return"rtl"===Be.layout.read_direction?`${n}â« ${e}Â â¬`:`${e} ${n}`}))}(),function(){vy=vy||Kn("#caption");var t=$e.data.column_names.values[py],e=pf.captions[t];e!=wy&&(e?vy.style("opacity",1).html(e):vy.style("opacity",0),wy=e,rh(),My())}(),my(ev),Oy=!1}function gv(){var t;by=[],Dy=Be.column_chart,function(){var t=_f({data:$e.data,blank_cells:Be.blank_cells}),e=_f("legend_filter",Be.legend_filter);if(t||e){for(var n=0,r=[],i={},a=0;a<$e.data.column_names.values.length;a++)r[a]=0,i[$e.data.column_names.values[a]]=null;var o="category"in $e.data.column_names;pf=$e.data.map((function(t,e){var i=null,a=t.values.map((function(e,n){var a=e;if(isNaN(a)){if("zero"==Be.blank_cells)a=0;else if("remove"==Be.blank_cells)a=null;else if("last_valid"==Be.blank_cells)a=i||0;else if("interpolate"==Be.blank_cells)if(null==i)a=null;else{for(var o=null,s=1;s<t.values.length;s++){var l=t.values[n+s];if(!isNaN(l)){o=l;break}}null!==o?i=a=i+(o-i)/(s+1):a=i}}else i=a;return r[n]+=Number(a),a}));n=Math.max(n,hr(a)||0);var s,l="string"==typeof(s=t.image)&&null!=s.match(/^(https?:\/\/|data:)/i)?t.image:null;return null!=t.image&&null==l&&console.warn("ð¶ Flourish support: '"+t.image+"' is not a valid image URL"),{label:t.label,category:o?t.category:"",values:a,image:l,index:e}})),gf=pf.filter((function(t){return-1==Be.legend_filter.indexOf(t.category)}));var s=$e.captions||[];for(a=0;a<s.length;a++){var l=s[a];if($e.captions.metadata.from&&"datetime"==$e.captions.metadata.from.type){var c=Xc.getInterpretation($e.captions.metadata.from.output_format_id);l.from=c.format(l.from)}if($e.captions.metadata.to&&"datetime"==$e.captions.metadata.to.type){var u=Xc.getInterpretation($e.captions.metadata.to.output_format_id);l.to=u.format(l.to)}var f=!1;for(var d in i)if(d==l.from&&(f=!0),f&&(i[d]="<div id='text'>"+l.text+"</div><div id='image' style='display: "+(l.image?"inline-block":"none")+";'><img src='"+l.image+"' /></div>",d==l.to))break}pf.max_value=n,pf.totals=r,pf.captions=i}}(),$e.data.metadata.values.length?(tu=Kc($e.data.metadata.values[0].output_format_id),eu=Xc.getInterpretation($e.data.metadata.values[0].output_format_id),nu=function(t){return eu.parse(t)}):(tu=Jc,nu=Jc),Ad(),t=$e.data.column_names.category||"",Rd.data(yd,md).filtered(Be.legend_filter).autoTitle(t).on("click",(function(t){var e=Be.legend_filter.indexOf(t.label);-1!=e?Be.legend_filter.splice(e,1):Be.legend_filter.length<yd.length-1&&Be.legend_filter.push(t.label),gv()})),Id.update(),_v.update(),Ly(),dy(),c_.update(),u_="rtl"===window.getComputedStyle(document.body).direction,dy(),rh(),My(),Ry=c_.remToPx(Be.axis_font_size),iv={right:c_.remToPx(Be.padding_right),left:0,bottom:0,top:1.4*Ry},Hy=c_.getPrimaryWidth(),Uy=c_.getPrimaryHeight(),hv(),pv(),by.forEach((function(t){Flourish.warn(t)}))}Kc=function(t){for(let e in Zc)void 0===t[e]&&(t[e]=Zc[e]);return function(e){return Qc(t,e)}}(Be.formatting),c_=l_(Be.layout),bd=Td(Be.color),Id=function(t){return new Wd(t)}(Be.legend_container),Rd=function(t){return new Ud(t)}(Be.legend_categorical),rv={key0:"",key1:"",fraction:0,fallback:0},fy=new cy(c_.getSection("controls"),Be.timeline,{getOrdinal:function(){return!0},getOrdinalKeys:function(){return $e.data.column_names.values.map((function(t,e){return t||"column "+e}))},getOrdinalValue:function(t,e,n){return t.values[n]||0},getData:function(){return pf||[]},getInterval:function(){return"second"},shouldUpdate:function(){return!pf||!$e._timeline_processed},getCategorical:function(){return!0},getDatumCategory:function(t){return t.category},getLineColorCategorical:function(t){return md(t.category)},isCategorySelected:function(t){return-1===Be.legend_filter.indexOf(t)},formatNumber:function(t){return tu(t)},encodeProgress:function(t){const e=fy.bin_results.keys,n=Math.min(Math.max(0,t),1)*(e.length-1),r=Math.floor(n),i=Math.ceil(n),a=r===i?0:Math.min(Math.max(0,(n-r)/(i-r)),1);return rv.key0=e[r],rv.key1=e[i],rv.fraction=a,rv.fallback=t,rv},decodeProgress:function(t){const e=fy.bin_results.keys,n=e.indexOf(t.key0),r=e.indexOf(t.key1);if(-1===n)return t.fallback;if(-1===r)return t.fallback;const i=n/(e.length-1),a=i+(r/(e.length-1)-i)*t.fraction;return Math.min(1,a)}}),fy.loop(),Sy=function(t,e,n){return new Ay(t,e,n)}(Be.controls_style,".fl-control",Be.layout),Ny=function(t,e,n){return new Ey(t,e,n)}(Be.button_style,".fl-control-buttons",Be.layout);var _v=function(t,e){var n;t||(t=document.body),e||(e={});var r={reload_enabled:!1,reload_time:60,message_font_size:.85,message_prefix:"Refreshing in ",message_suffix:" seconds",message_show:!0,message_color:"#777777",message_interaction:"Paused during interaction",progress_show:!0,progress_height:.25,progress_width:2,progress_color:"#dddddd",progress_color_inner:"#999999",interaction_pause_duration:2};for(var i in r)e.hasOwnProperty[i]||(e[i]=r[i]);var a=document.createElement("div");a.className="flourish-reloader",t.appendChild(a);var o={};o.container=a;var s=Flourish.environment,l="live"===s;l&&window.location.search.match(/environment=story_player/)&&(l=!1);var c=l||"editor"===s||"sdk"===s,u=document.createElement("div");u.id="flourish-reloader-message",a.appendChild(u);var f=document.createElement("div");f.id="flourish-reloader-progress",f.style.marginRight="0.5em",f.style.borderRadius="0.33em",f.style.overflow="hidden",a.appendChild(f);var d=document.createElement("div");d.style.height="100%",d.style.width="0%",f.appendChild(d);var h,p,g=!1;return document.body.addEventListener("mousemove",(function(){h&&clearTimeout(h),g=!0,h=setTimeout((function(){g=!1}),1e3*e.interaction_pause_duration)})),o.update=function(){var t=e.reload_enabled&&c;function r(t,n){var r=Math.round(e.reload_time*(1-t));u.innerHTML=e.message_show?n||e.message_prefix+r+e.message_suffix:"",d.style.width=100*t+"%"}a.style.display=t?"block":"none",d.style.background=e.progress_color_inner,u.style.fontSize=e.message_font_size+"rem",u.style.color=e.message_color,f.style.display=e.progress_show?"block":"none",f.style.width=e.progress_width+"rem",f.style.height=e.progress_height+"rem",f.style.background=e.progress_color,t&&(r(0),void 0!==n&&cancelAnimationFrame(n),n=requestAnimationFrame((function i(a){p||(p=a);var o=a-p,s=o/(1e3*e.reload_time),c=s>=1;c&&l?window.location.reload():((c||g)&&(s=0,p+=o),r(s,g?e.message_interaction:void 0),t&&(n=requestAnimationFrame(i)))})))},o}(c_.getSection("footer"),Be.reloader);return t.data=$e,t.draw=function(){Id.appendTo(c_.getSection("legend")).add([Rd]),Kn(c_.getSection("header")).append("div").attr("id","sort-control").attr("class","fl-control fl-control-buttons grouped");var t=Kn(c_.getSection("primary")),e=t.append("div").attr("id","now");e.append("div").attr("id","current-column"),e.append("div").attr("id","totaliser");var n=t.append("svg").attr("id","viz").attr("fill","currentColor").append("g").attr("id","plot");n.append("g").attr("id","axis"),n.append("clipPath").attr("id","plot-clip").append("rect"),n.append("g").attr("id","bars"),n.append("g").attr("id","annotations");var r=t.append("div").attr("id","caption");r.append("div").attr("id","text"),r.append("div").attr("id","image").append("img"),c_.awaitFonts((()=>{window.template.update(),yy()})),window.addEventListener("resize",gv)},t.state=Be,t.update=function(){gv()},t}({});
//# sourceMappingURL=template.js.map
</script><style>
	.flourish-timeline {
		pointer-events: none;
		-webkit-user-select: none;
		-moz-user-select: none;
		user-select: none;
	}

	.flourish-timeline .tl-layer-back,
	.flourish-timeline .tl-layer-fore,
	.flourish-timeline .tl-layer-main {
		visibility: hidden;
	}

	.flourish-timeline.style-timeline .tl-layer-back,
	.flourish-timeline.style-timeline .tl-layer-fore,
	.flourish-timeline.style-timeline .tl-layer-main {
		visibility: visible;
	}

	.flourish-timeline.style-timeline .tl-interaction-box {
		pointer-events: all;
	}

	.flourish-timeline .tl-playback-button {
		pointer-events: all;
	}

	.flourish-timeline .tl-playback-button circle:focus {
		outline: none;
	}

	.flourish-timeline .tl-playback-button circle:focus-visible {
		filter: drop-shadow(2px 0 0 #ffffff) drop-shadow(-2px 0 0 #ffffff) drop-shadow(0 2px 0 #ffffff) drop-shadow(0 -2px 0 #ffffff);
		stroke: #4D90FE !important;
		stroke-width: 3px !important;
	}

	.tl-interaction-box {
		visibility: hidden;
		cursor: pointer;
	}

	.tl-playback-button {
		cursor: pointer;
	}

	.flourish-timeline.style-timeline .tl-playback-button text {
		visibility: hidden;
		pointer-events: none;
	}

	.tl-playback-button path {
		fill: #FFF;
	}

	.tl-axis-bottom .tick:last-of-type text {
		text-anchor: end;
	}

	.flourish-timeline-info {
		display: none;
		height: 2rem;
		font-size: 1rem;
		align-items: center;
		justify-content: flex-start;
		color: #666;
	}

	.flourish-timeline-info.enabled {
		display: flex;
	}

	.flourish-timeline-info svg {
		margin-right: 0.35rem;
	}

	.flourish-timeline-info .tl-info-icon {
		flex-shrink: 0;
	}

	.flourish-timeline-info .tl-info-icon,
	.flourish-timeline-info .tl-info-text,
	.flourish-timeline-info .tl-info-clear {
		opacity: 0;
		transition: opacity 0.3s;
	}

	.flourish-timeline-info.active-info .tl-info-icon,
	.flourish-timeline-info.active-info .tl-info-text,
	.flourish-timeline-info.active-clear .tl-info-clear {
		opacity: 1;
	}

	.flourish-timeline-info .tl-info-text,
	.flourish-timeline-info .tl-info-clear {
		font-family: "Canva Sans Variable", "Source Sans 3", sans-serif;
	}

	.flourish-timeline-info .tl-info-clear {
		color: #f66;
		cursor: pointer;
		border-bottom: 1px solid transparent;
		margin-left: auto;
		text-align: right;
		position: relative;
		margin-right: 1rem;
	}

	.flourish-timeline-info .tl-info-clear:hover {
		border-bottom-color: #f66;
	}

	.flourish-timeline-info .tl-info-clear > svg {
		position: absolute;
		top: 3px;
		right: -1.5rem;
	}
</style><div id="fl-layout-wrapper-outer" dir="ltr" style="display: flex;"><main id="fl-layout-wrapper" dir="ltr" style="display: flex; flex-grow: 1; flex-direction: column; box-sizing: border-box; overflow: hidden; color: rgb(51, 51, 51); padding: 0.75rem;"><section class="fl-layout-container" id="fl-layout-header-container" style="width: 100%; position: relative; order: 0; display: none;"><div class="fl-layout-inner" id="fl-layout-header" style="width: 100%; position: relative;"><header class="flourish-header" style="text-align: start; margin: 0px;"><div class="flourish-header-logo-container"></div><hgroup><h2 id="flourish-header-title" style="font-family: inherit; font-size: 1.6rem; line-height: 1.2; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; padding-top: 0px;"></h2><h3 id="flourish-header-subtitle" style="font-family: inherit; font-size: 1.6rem; line-height: 1.2; font-weight: normal; color: rgb(51, 51, 51); margin: 0px; padding-top: 0px;"></h3></hgroup><p id="flourish-header-text" style="font-size: 1.2rem; line-height: 1.2; font-weight: normal; margin: 0px; color: rgb(51, 51, 51); padding-top: 0px;"></p><div class="clearfix" style="clear: both;"></div></header><div id="sort-control" class="fl-control fl-control-buttons grouped"></div></div></section><section class="fl-layout-container" id="fl-layout-controls-container" style="width: 100%; position: relative; order: 20; padding-top: 0.5rem;"><div class="fl-layout-inner" id="fl-layout-controls" style="width: 100%; position: relative;"><svg class="flourish-timeline style-timeline" width="773px" height="45.5px" style="display: block;"><g class="tl-layer-back"><rect class="tl-background" x="63" y="10.5" width="709" height="18" style="fill: transparent; visibility: visible;"></rect></g><g class="tl-layer-main" clip-path="url(#main-mask)"></g><g class="tl-layer-fore"><g class="tl-axis-bottom" fill="none" font-size="10" text-anchor="middle" transform="translate(0, 28.5)" style="color: rgb(170, 170, 170); font-size: 0.7rem;"><path class="domain" stroke="currentColor" d="M63.5,6V0.5H772.5V6"></path><g class="tick" opacity="1" transform="translate(63.5,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">1960</text></g><g class="tick" opacity="1" transform="translate(75.93859649122807,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1961</text></g><g class="tick" opacity="1" transform="translate(88.37719298245614,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1962</text></g><g class="tick" opacity="1" transform="translate(100.8157894736842,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">1963</text></g><g class="tick" opacity="1" transform="translate(113.25438596491227,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1964</text></g><g class="tick" opacity="1" transform="translate(125.69298245614036,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1965</text></g><g class="tick" opacity="1" transform="translate(138.1315789473684,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">1966</text></g><g class="tick" opacity="1" transform="translate(150.5701754385965,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1967</text></g><g class="tick" opacity="1" transform="translate(163.00877192982455,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1968</text></g><g class="tick" opacity="1" transform="translate(175.44736842105263,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">1969</text></g><g class="tick" opacity="1" transform="translate(187.8859649122807,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1970</text></g><g class="tick" opacity="1" transform="translate(200.32456140350877,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1971</text></g><g class="tick" opacity="1" transform="translate(212.76315789473682,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">1972</text></g><g class="tick" opacity="1" transform="translate(225.2017543859649,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1973</text></g><g class="tick" opacity="1" transform="translate(237.640350877193,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1974</text></g><g class="tick" opacity="1" transform="translate(250.07894736842104,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">1975</text></g><g class="tick" opacity="1" transform="translate(262.5175438596491,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1976</text></g><g class="tick" opacity="1" transform="translate(274.95614035087715,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1977</text></g><g class="tick" opacity="1" transform="translate(287.39473684210526,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">1978</text></g><g class="tick" opacity="1" transform="translate(299.8333333333333,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1979</text></g><g class="tick" opacity="1" transform="translate(312.2719298245614,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1980</text></g><g class="tick" opacity="1" transform="translate(324.7105263157895,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">1981</text></g><g class="tick" opacity="1" transform="translate(337.14912280701753,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1982</text></g><g class="tick" opacity="1" transform="translate(349.5877192982456,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1983</text></g><g class="tick" opacity="1" transform="translate(362.02631578947364,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">1984</text></g><g class="tick" opacity="1" transform="translate(374.46491228070175,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1985</text></g><g class="tick" opacity="1" transform="translate(386.9035087719298,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1986</text></g><g class="tick" opacity="1" transform="translate(399.34210526315786,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">1987</text></g><g class="tick" opacity="1" transform="translate(411.780701754386,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1988</text></g><g class="tick" opacity="1" transform="translate(424.219298245614,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1989</text></g><g class="tick" opacity="1" transform="translate(436.6578947368421,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">1990</text></g><g class="tick" opacity="1" transform="translate(449.0964912280702,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1991</text></g><g class="tick" opacity="1" transform="translate(461.53508771929825,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1992</text></g><g class="tick" opacity="1" transform="translate(473.97368421052636,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">1993</text></g><g class="tick" opacity="1" transform="translate(486.41228070175436,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1994</text></g><g class="tick" opacity="1" transform="translate(498.85087719298247,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1995</text></g><g class="tick" opacity="1" transform="translate(511.2894736842105,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">1996</text></g><g class="tick" opacity="1" transform="translate(523.7280701754387,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1997</text></g><g class="tick" opacity="1" transform="translate(536.1666666666666,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">1998</text></g><g class="tick" opacity="1" transform="translate(548.6052631578948,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">1999</text></g><g class="tick" opacity="1" transform="translate(561.0438596491229,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">2000</text></g><g class="tick" opacity="1" transform="translate(573.4824561403509,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">2001</text></g><g class="tick" opacity="1" transform="translate(585.921052631579,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">2002</text></g><g class="tick" opacity="1" transform="translate(598.359649122807,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">2003</text></g><g class="tick" opacity="1" transform="translate(610.7982456140351,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">2004</text></g><g class="tick" opacity="1" transform="translate(623.2368421052631,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">2005</text></g><g class="tick" opacity="1" transform="translate(635.6754385964912,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">2006</text></g><g class="tick" opacity="1" transform="translate(648.1140350877193,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">2007</text></g><g class="tick" opacity="1" transform="translate(660.5526315789473,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">2008</text></g><g class="tick" opacity="1" transform="translate(672.9912280701755,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">2009</text></g><g class="tick" opacity="1" transform="translate(685.4298245614035,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">2010</text></g><g class="tick" opacity="1" transform="translate(697.8684210526316,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">2011</text></g><g class="tick" opacity="1" transform="translate(710.3070175438596,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">2012</text></g><g class="tick" opacity="1" transform="translate(722.7456140350877,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">2013</text></g><g class="tick" opacity="1" transform="translate(735.1842105263157,0)"><line stroke="currentColor" y2="6" style="opacity: 1;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: visible;">2014</text></g><g class="tick" opacity="1" transform="translate(747.6228070175439,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">2015</text></g><g class="tick" opacity="1" transform="translate(760.061403508772,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">2016</text></g><g class="tick" opacity="1" transform="translate(772.5,0)"><line stroke="currentColor" y2="3" style="opacity: 0.5;"></line><text fill="currentColor" y="9" dy="0.71em" style="visibility: hidden;">2017</text></g></g><g class="tl-axis-left" style="visibility: hidden;"></g><g class="tl-range-box" style="visibility: hidden;"><rect></rect><rect></rect><line></line><line></line></g><line class="tl-scrub-bar" stroke="#aaaaaa" visibility="hidden"></line><path class="tl-scrub-node" d="M 0 0 L -5 -7 L 5 -7 z" fill="#aaaaaa" transform="translate(236.08580666666808, 28.5)" visibility="true"></path></g><rect class="tl-interaction-box" x="63" y="10.5" width="709" height="35"></rect><g class="tl-playback-button" transform="translate(28,19.5)"><circle r="17.5" tabindex="0" fill="#333333"></circle><path d="M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z" transform="translate(-7.65625, -8.75) scale(0.0341796875)" style="fill: rgb(255, 255, 255);"></path><text font-size="1rem" transform="translate(24.5,0)" style="alignment-baseline: middle; dominant-baseline: middle;">Pause</text></g><defs><clippath id="main-mask"><rect x="63" y="10.5" width="173.08580666666808" height="18"></rect></clippath></defs></svg></div></section><section class="fl-layout-container" id="fl-layout-legend-container" style="width: 100%; position: relative; order: 30; display: none;"><div class="fl-layout-inner" id="fl-layout-legend" style="width: 100%; position: relative;"><div style="justify-content: flex-start; display: flex; flex-direction: row;"><div class="fl-legend-container interactive" id="fl-legend-discrete-color-0" style="display: none; justify-content: flex-start; padding-inline-end: 0.5rem; padding-bottom: 0px;"><p class="fl-legend-title" style="font-weight: bold; font-size: 1rem; margin-right: 0.25rem; line-height: 1.25em; margin-top: 0px; margin-bottom: 0px; text-align: start;"></p></div></div></div></section><section class="fl-layout-container" id="fl-layout-primary-container" aria-label="primary visualisation container" style="width: 100%; position: relative; order: 10; display: flex; overflow: hidden; padding-bottom: 0.5rem;"><p id="fl-layout-primary-description" style="border: 0px; height: 1px; width: 1px; margin: -1px; overflow: hidden; padding: 0px; position: absolute; clip: rect(0px, 0px, 0px, 0px);"></p><div class="fl-layout-inner" id="fl-layout-primary" aria-hidden="true" style="width: 100%; position: relative; height: 494.5px;"><div id="now" style="right: 0px; text-align: right; top: 386.28px;"><div id="current-column" style="line-height: 1em; height: 1em; font-weight: bold; display: block; color: rgb(204, 204, 204); font-size: 77.3px;">1973</div><div id="totaliser" style="line-height: 1em; height: 1em; display: block; font-size: 30.92px; color: rgb(204, 204, 204);">Total: 1,465,950,710</div></div><svg id="viz" fill="currentColor" width="773" height="494.5" font-family="Canva Sans Variable"><g id="plot" transform="translate(70, 19.599999999999998)"><g id="axis" fill="none" font-size="10" font-family="sans-serif" text-anchor="middle"><path class="domain" stroke="currentColor" d="M0.5,474.9V0.5H605.5V474.9"></path><g class="tick" opacity="1" transform="translate(0.5,0)"><line stroke="#dddddd" y2="474.9"></line><text fill="currentColor" y="-3" dy="-.33em" style="font-size: 14px; fill: rgb(51, 51, 51); visibility: visible;">0</text></g><g class="tick" opacity="1" transform="translate(192.72793019944984,0)"><line stroke="#dddddd" y2="474.9"></line><text fill="currentColor" y="-3" dy="-.33em" style="font-size: 14px; fill: rgb(51, 51, 51); visibility: visible;">50,000,000</text></g><g class="tick" opacity="1" transform="translate(384.9558603988997,0)"><line stroke="#dddddd" y2="474.9"></line><text fill="currentColor" y="-3" dy="-.33em" style="font-size: 14px; fill: rgb(51, 51, 51); visibility: visible;">100,000,000</text></g><g class="tick" opacity="1" transform="translate(577.1837905983496,0)"><line stroke="#dddddd" y2="474.9"></line><text fill="currentColor" y="-3" dy="-.33em" style="font-size: 14px; fill: rgb(51, 51, 51); visibility: visible;">150,000,000</text></g></g><clippath id="plot-clip"><rect width="773" height="474.9"></rect></clippath><g id="bars"><g class="bar" transform="translate(0, 2.374500036239624)"><rect width="605" height="42.74099999999999" fill="#4328E7" style="opacity: 0.85;"></rect><text class="label" font-size="14" y="21.370499999999996" dy="3.5" x="-5" text-anchor="end" fill="#333333">USA</text><g class="bar-images" clip-path="url(#plot-clip)"><clippath class="image-clip" id="clip-148" transform="translate(605, 0)"><circle transform="translate(-22.439024999999994, 21.370499999999996)" r="19.233449999999998"></circle></clippath><image height="38.466899999999995" width="61.97444999999999" x="551.57375" y="2.1370499999999986" clip-path="url(#clip-148)" preserveAspectRatio="xMidYMid slice"></image></g><text class="value" font-size="14" y="21.370499999999996" dy="3.5" x="618.5482" fill="#333333" text-anchor="start" style="display: block;">157,365,269</text></g><g class="bar" transform="translate(0, 49.864501953125)"><rect width="597.2055676605793" height="42.74099999999999" fill="#4328E7" style="opacity: 0.85;"></rect><text class="label" font-size="14" y="21.370499999999996" dy="3.5" x="-5" text-anchor="end" fill="#333333">China</text><g class="bar-images" clip-path="url(#plot-clip)"><clippath class="image-clip" id="clip-22" transform="translate(597.2055676605793, 0)"><circle transform="translate(-22.439024999999994, 21.370499999999996)" r="19.233449999999998"></circle></clippath><image height="38.466899999999995" width="61.97444999999999" x="543.7793176605792" y="2.1370499999999986" clip-path="url(#clip-22)" preserveAspectRatio="xMidYMid slice"></image></g><text class="value" font-size="14" y="21.370499999999996" dy="3.5" x="610.7537676605792" fill="#333333" text-anchor="start" style="display: block;">155,337,876</text></g><g class="bar" transform="translate(0, 97.35449981689453)"><rect width="488.28578582222417" height="42.74099999999999" fill="#4328E7" style="opacity: 0.85;"></rect><text class="label" font-size="14" y="21.370499999999996" dy="3.5" x="-5" text-anchor="end" fill="#333333">India</text><g class="bar-images" clip-path="url(#plot-clip)"><clippath class="image-clip" id="clip-52" transform="translate(488.28578582222417, 0)"><circle transform="translate(-22.439024999999994, 21.370499999999996)" r="19.233449999999998"></circle></clippath><image height="38.466899999999995" width="61.97444999999999" x="434.8595358222242" y="2.1370499999999986" clip-path="url(#clip-52)" preserveAspectRatio="xMidYMid slice"></image></g><text class="value" font-size="14" y="21.370499999999996" dy="3.5" x="501.8339858222242" fill="#333333" text-anchor="start" style="display: block;">127,006,982</text></g><g class="bar" transform="translate(0, 144.84449768066406)"><rect width="336.28446103250997" height="42.74099999999999" fill="#4328E7" style="opacity: 0.85;"></rect><text class="label" font-size="14" y="21.370499999999996" dy="3.5" x="-5" text-anchor="end" fill="#333333">Russia</text><g class="bar-images" clip-path="url(#plot-clip)"><clippath class="image-clip" id="clip-111" transform="translate(336.28446103250997, 0)"><circle transform="translate(-22.439024999999994, 21.370499999999996)" r="19.233449999999998"></circle></clippath><image height="38.466899999999995" width="61.97444999999999" x="282.85821103251" y="2.1370499999999986" clip-path="url(#clip-111)" preserveAspectRatio="xMidYMid slice"></image></g><text class="value" font-size="14" y="21.370499999999996" dy="3.5" x="349.83266103251" fill="#333333" text-anchor="start" style="display: block;">87,470,239</text></g><g class="bar" transform="translate(0, 192.33450317382812)"><rect width="316.762316033582" height="42.74099999999999" fill="#4328E7" style="opacity: 0.85;"></rect><text class="label" font-size="14" y="21.370499999999996" dy="3.5" x="-5" text-anchor="end" fill="#333333">Japan</text><g class="bar-images" clip-path="url(#plot-clip)"><clippath class="image-clip" id="clip-60" transform="translate(316.762316033582, 0)"><circle transform="translate(-22.439024999999994, 21.370499999999996)" r="19.233449999999998"></circle></clippath><image height="38.466899999999995" width="61.97444999999999" x="263.33606603358203" y="2.1370499999999986" clip-path="url(#clip-60)" preserveAspectRatio="xMidYMid slice"></image></g><text class="value" font-size="14" y="21.370499999999996" dy="3.5" x="330.310516033582" fill="#333333" text-anchor="start" style="display: block;">82,392,375</text></g><g class="bar" transform="translate(0, 287.31451416015625)"><rect width="220.09349172870282" height="42.74099999999999" fill="#4328E7" style="opacity: 0.85;"></rect><text class="label" font-size="14" y="21.370499999999996" dy="3.5" x="-5" text-anchor="end" fill="#333333">Germany</text><g class="bar-images" clip-path="url(#plot-clip)"><clippath class="image-clip" id="clip-43" transform="translate(220.09349172870282, 0)"><circle transform="translate(-22.439024999999994, 21.370499999999996)" r="19.233449999999998"></circle></clippath><image height="38.466899999999995" width="61.97444999999999" x="166.66724172870283" y="2.1370499999999986" clip-path="url(#clip-43)" preserveAspectRatio="xMidYMid slice"></image></g><text class="value" font-size="14" y="21.370499999999996" dy="3.5" x="233.64169172870282" fill="#333333" text-anchor="start" style="display: block;">57,248,052</text></g><g class="bar" transform="translate(0, 334.80450439453125)"><rect width="167.54564380980472" height="42.74099999999999" fill="#4328E7" style="opacity: 0.85;"></rect><text class="label" font-size="14" y="21.370499999999996" dy="3.5" x="-5" text-anchor="end" fill="#333333">UK</text><g class="bar-images" clip-path="url(#plot-clip)"><clippath class="image-clip" id="clip-145" transform="translate(167.54564380980472, 0)"><circle transform="translate(-22.439024999999994, 21.370499999999996)" r="19.233449999999998"></circle></clippath><image height="38.466899999999995" width="61.97444999999999" x="114.11939380980472" y="2.1370499999999986" clip-path="url(#clip-145)" preserveAspectRatio="xMidYMid slice"></image></g><text class="value" font-size="14" y="21.370499999999996" dy="3.5" x="181.09384380980472" fill="#333333" text-anchor="start" style="display: block;">43,579,943</text></g><g class="bar" transform="translate(0, 239.82449340820312)"><rect width="240.85508488051985" height="42.74099999999999" fill="#4328E7" style="opacity: 0.85;"></rect><text class="label" font-size="14" y="21.370499999999996" dy="3.5" x="-5" text-anchor="end" fill="#333333">Brazil</text><g class="bar-images" clip-path="url(#plot-clip)"><clippath class="image-clip" id="clip-14" transform="translate(240.85508488051985, 0)"><circle transform="translate(-22.439024999999994, 21.370499999999996)" r="19.233449999999998"></circle></clippath><image height="38.466899999999995" width="61.97444999999999" x="187.42883488051987" y="2.1370499999999986" clip-path="url(#clip-14)" preserveAspectRatio="xMidYMid slice"></image></g><text class="value" font-size="14" y="21.370499999999996" dy="3.5" x="254.40328488051986" fill="#333333" text-anchor="start" style="display: block;">62,648,306</text></g><g class="exiting" transform="translate(0, 446.2772162362321)"><rect width="138.52573585803572" height="42.74099999999999" fill="#4328E7" style="opacity: 0.85;"></rect><text class="label" font-size="14" y="21.370499999999996" dy="3.5" x="-5" text-anchor="end" fill="#333333">Italy</text><g class="bar-images" clip-path="url(#plot-clip)"><clippath class="image-clip" id="clip-58" transform="translate(138.52573585803572, 0)"><circle transform="translate(-22.439024999999994, 21.370499999999996)" r="19.233449999999998"></circle></clippath><image height="38.466899999999995" width="61.97444999999999" x="85.09948585803572" y="2.1370499999999986" clip-path="url(#clip-58)" preserveAspectRatio="xMidYMid slice"></image></g><text class="value" font-size="14" y="21.370499999999996" dy="3.5" x="143.52573585803572" fill="#333333" text-anchor="start" style="display: block;">35,894,083</text></g><g class="bar" transform="translate(0, 382.29449462890625)"><rect width="150.32436421629959" height="42.74099999999999" fill="#4328E7" style="opacity: 0.85;"></rect><text class="label" font-size="14" y="21.370499999999996" dy="3.5" x="-5" text-anchor="end" fill="#333333">France</text><g class="bar-images" clip-path="url(#plot-clip)"><clippath class="image-clip" id="clip-39" transform="translate(150.32436421629959, 0)"><circle transform="translate(-22.439024999999994, 21.370499999999996)" r="19.233449999999998"></circle></clippath><image height="38.466899999999995" width="61.97444999999999" x="96.89811421629959" y="2.1370499999999986" clip-path="url(#clip-39)" preserveAspectRatio="xMidYMid slice"></image></g><text class="value" font-size="14" y="21.370499999999996" dy="3.5" x="163.8725642162996" fill="#333333" text-anchor="start" style="display: block;">39,100,552</text></g><g class="bar" transform="translate(0, 478.00726862704914)"><rect width="140.3900130140914" height="42.74099999999999" fill="#4328E7" style="opacity: 0.85;"></rect><text class="label" font-size="14" y="21.370499999999996" dy="3.5" x="-5" text-anchor="end" fill="#333333">Mexico</text><g class="bar-images" clip-path="url(#plot-clip)"><clippath class="image-clip" id="clip-83" transform="translate(140.3900130140914, 0)"><circle transform="translate(-22.439024999999994, 21.370499999999996)" r="19.233449999999998"></circle></clippath><image height="38.466899999999995" width="61.97444999999999" x="86.96376301409141" y="2.1370499999999986" clip-path="url(#clip-83)" preserveAspectRatio="xMidYMid slice"></image></g><text class="value" font-size="14" y="21.370499999999996" dy="3.5" x="153.93821301409142" fill="#333333" text-anchor="start" style="display: block;">36,516,549</text></g></g><g id="annotations" clip-path="url(#plot-clip)"></g></g></svg><div id="caption" style="flex-direction: column; font-size: 1.2rem; padding: 1rem; border-radius: 0.5rem; align-items: center; background: rgb(255, 255, 255); color: rgb(0, 0, 0); border-color: rgb(255, 255, 255); top: 50%; left: 50%; transform: translate(-50%, -50%);"><div id="text"></div><div id="image" style="max-height: 50%; margin: 1rem 0px 0px;"><img></div></div></div><div id="fl-layout-overlay" style="position: absolute; display: none; width: 100%; height: 100%; top: 0px; left: 0px; background-color: rgb(200, 200, 200); z-index: 999999; pointer-events: none;"><p class="fl-layout-overlay-message" style="color: rgb(51, 51, 51); font-size: 1.5rem; padding-left: 15%; padding-right: 15%; width: 100%; box-sizing: border-box; position: absolute; top: 50%; transform: translate(0px, -50%); margin: 0px; text-align: center;"></p></div></section><section class="fl-layout-container" id="fl-layout-footer-container" style="width: 100%; position: relative; order: 40; display: none;"><div class="fl-layout-inner" id="fl-layout-footer" style="width: 100%; position: relative;"><footer class="flourish-footer" style="display: flex; height: 0px; width: 100%; font-family: inherit; font-weight: normal; justify-content: space-between; font-size: 1rem; color: rgb(51, 51, 51); align-items: center;"><div class="flourish-footer-text" id="flourish-footer-text"><p></p></div><div class="flourish-footer-logo-container"></div></footer><div class="flourish-reloader" style="display: none;"><div id="flourish-reloader-message" style="font-size: 0.85rem; color: rgb(119, 119, 119);"></div><div id="flourish-reloader-progress" style="margin-right: 0.5em; border-radius: 0.33em; overflow: hidden; display: block; width: 2rem; height: 0.25rem; background: rgb(221, 221, 221);"><div style="height: 100%; width: 0%; background: rgb(153, 153, 153);"></div></div></div></div></section></main><aside id="fl-layout-sidebar" style="position: relative;"></aside></div><script src="./embedded.js"></script><script>
window.addEventListener("message", function(event) {

	var a = document.createElement("a");
	a.href = event.origin;
	var origin_okay = (a.hostname == window.location.hostname)
		|| window.location.hostname === "localhost"
		|| (a.hostname.match(/\.flourish\.local$/) && window.location.hostname.match(/\.flourish\.local$/))
		|| (a.hostname.match(/\.flourish\.net$/) && window.location.hostname.match(/\.flourish\.net$/))
		|| (a.hostname.match(/\.flourish\.rocks$/) && window.location.hostname.match(/\.flourish\.rocks$/))
		|| (a.hostname.match(/\.flourish-internal\.com$/) && window.location.hostname.match(/\.flourish-internal\.com$/))
		|| (a.hostname.match(/\.flourish\.studio$/) && window.location.hostname.match(/\.flourish\.studio$/))
		|| (a.hostname == "app.flourish.studio" && window.location.hostname == "flourish-user-templates.com")
		|| (a.hostname == "app.flourish.studio" && window.location.hostname == "flourish-user-preview.com")
		|| (a.hostname == "flourish-user-preview.com" && window.location.hostname == "flourish-user-templates.com")
		|| (
			(a.hostname == "public.flourish.studio" && window.location.hostname == "flo.uri.sh")
			|| (a.hostname == "public.flourish.rocks" && window.location.hostname == "staging-flo.uri.sh")
			|| (a.hostname == "public.dev.flourish.rocks" && window.location.hostname == "dev-flo.uri.sh")
		);

	if (!origin_okay) return;

	var message = event.data;
	var port = event.ports[0];
	if (!port || typeof message !== "object" || message.sender !== "Flourish") return;
	var result = null;
	function assign(target, source) {
		for (var k in source) {
			if (source.hasOwnProperty(k)) target[k] = source[k];
		}
	}
	function deepAssign(target, source, is_destructive) {
		for (var k in source) {
			if (!source.hasOwnProperty(k)) continue;
			if (
				typeof target[k] === "object" && target[k] != null && !Array.isArray(target[k])
				&& typeof source[k] === "object" && source[k] != null && !Array.isArray(source[k])
			) {
				deepAssign(target[k], source[k], is_destructive);
			}
			else target[k] = source[k];
		}
		if (is_destructive) {
			for (var k in target) {
				if (target.hasOwnProperty(k) && !source.hasOwnProperty(k)) delete target[k];
			}
		}
	}
	try {
		var i, a;
		switch(message.method) {
			case "getState":
			result = window.template.state;
			if (message.argument) for (a = message.argument.split("."), i = 0; i < a.length; i++) {
				result = result[a[i]];
			}
			break;

			case "setState":
			deepAssign(window.template.state, message.argument);
			break;

			case "hasData":
			result = !!window.template.data;
			break;

			case "setData":
			assign(window.template.data, message.argument);
			break;

			case "getData":
			result = window.template.data;
			break;

			case "draw":
			window.template.draw();
			break;

			case "update":
			window.template.update();
			break;

			case "snapshot":
			result = window.snapshot(message.argument, port);
			break;

			case "setFixedHeight":
			if (window.Flourish) {
				window.Flourish.fixed_height = message.argument != null;
				window.Flourish.__container_height = message.argument;
				if (window.Flourish.checkHeight) window.Flourish.checkHeight();
			}
			break;

			case "sync":
			var spec = message.argument;
			if (spec.data) {
				assign(window.template.data, spec.data);
			}
			if (spec.state) {
				deepAssign(window.template.state, spec.state, spec.overwrite_state);
			}
			// only allow draw or update, not both
			if (spec.draw) {
				window.template.draw();
			}
			else if (spec.update) {
				window.template.update();
			}
			result = "success";
			break;
		}

		port.postMessage({result: result});
	}
	catch (e) {
		port.postMessage({error: e.message});
		throw e;
	}
}, false);
!function(){"use strict";window.snapshot=function(e,t){console.log("snapshotting with options",e);var n,o=(new Date).getTime(),r={},a=document.location.href.substr(0,document.location.href.lastIndexOf("?")),i=[],s="image/"+e.format;const l=/url\(\s*?['"]?\s*?(\S+?)\s*?["']?\s*?\)/gi;function c(){var e=Array.from(arguments),t=e[0],n=(new Date).getTime()-o,a=[n].concat(e.slice(1));console.log.apply(console,a),r[t+"_ms"]=n}function u(e,t){var n=t||a;return-1!==e.indexOf("://")||0===e.indexOf("//")||(e=0===e.indexOf("../")?n.substr(0,n.lastIndexOf("/",n.length-2))+"/"+e.substr(3):n+e),e}async function f(){const e=await Promise.all([].slice.call(document.styleSheets).map(d));var t=document.createElement("style");t.innerHTML=e.join(""),n.insertBefore(t,n.firstChild),c("inlined_stylesheets","inlined stylesheets")}function d(t){return new Promise((function(n,o){var r,a="",s=[];async function c(e){var t=e.substr(0,e.lastIndexOf("/")+1);try{const n=await h(e,"text");a+=function(e,t){var n,o=/@font-face\s*\{([^}]*)\}/g;for(;null!==(n=o.exec(e));){var r=n[1],a=/font-weight:\s*([^;]+);/g.exec(r)&&/font-weight:\s*([^;]+);/g.exec(r)[1]||"normal",s=/font-style:\s*([^;]+);/g.exec(r)&&/font-style:\s*([^;]+);/g.exec(r)[1]||"normal",l=/unicode-range:\s*([^;]+);/g.exec(r)&&/unicode-range:\s*([^;]+);/g.exec(r)[1]||"U+0-10FFFF";i.push({family:/font-family:\s*([^;]+);/g.exec(r)[1],weight:a,style:s,unicode_range:l,url:f(r,t)})}return e.replace(o,"")}(n,t),a=await async function(e,t){let n;const o=[];for(;null!==(n=l.exec(e));){const[e,r]=n;r&&0!==r.indexOf("data:")&&o.push(new Promise(((n,o)=>{g(u(r,t)).then((t=>{n({match:e,dataUrl:t})})).catch((e=>{console.error(e),o()}))})))}return(await Promise.allSettled(o)).forEach((t=>{"fulfilled"===t.status&&(e=e.replace(t.value.match,`url('${t.value.dataUrl}')`))})),e}(a,t)}catch(e){console.error(e)}}function f(t,n){for(var o,r,a=/url\(['"]?([^'")]*)['"]?\)/g;null!==(r=a.exec(t));)-1!==r[1].indexOf(e.fontFormat||".woff")&&(o=u(r[1],n));return o}if(t.href)s.push(c(t.href));else if(t.rules){var d;r=t.rules,t.href&&(d=t.href.substr(0,t.href.lastIndexOf("/")+1));for(var m=0;m<r.length;m++){var w=r[m];w.type===CSSRule.IMPORT_RULE?s.push(c(w.href)):w.type===CSSRule.FONT_FACE_RULE?i.push({family:w.style.fontFamily,weight:w.style.fontWeight||"normal",unicode_range:w.style.unicodeRange||"U+0-10FFFF",url:f(w.style.src,d)}):a+=w.cssText}}Promise.all(s).then((function(){n(a)}))}))}function h(e,t){return new Promise((function(n,o){let r="force-cache";try{const t=new URL(e);window&&window.location.origin!==t.origin&&(r="no-cache")}catch(e){r="force-cache"}fetch(e,{cache:r}).then((r=>{200===r.status?"blob"===t?r.blob().then((e=>n(e))):r.text().then((e=>n(e))):403===r.status?o("Access forbidden to: "+e):r.status>=400&&r.status<=499&&o(r.status+" error fetching: "+e)})).catch((t=>{console.error("Error sending AJAX request to fetch: "+e,t),o(t)}))}))}function g(e){return new Promise((function(t,n){h(e,"blob").then((function(e){var n=new window.FileReader;n.readAsDataURL(e),n.onloadend=function(){t(n.result)}})).catch((function(e){n(e)}))}))}function m(e){return new Promise((function(t,n){c("inlining_images","inlining images");const o=function(e){const t=[e,...e.querySelectorAll("[style*=background]")],n=["initial","inherit","unset","revert","revert-layer"];return t.filter((e=>!!e.style?.backgroundImage&&!n.includes(e.style.backgroundImage)))}(e),a=e.querySelectorAll("img, svg image");let i=a.length+o.length;r.images_to_process=i,c("processing_images","processing",i,"images"),i||t();const s=[];[...a].forEach((e=>{const t=e.currentSrc||e.src||(e.href?e.href.baseVal:null);t&&0!==t.indexOf("data:")&&s.push(new Promise(((n,o)=>{g(u(t)).then((function(t){e.src?e.src=t:e.href&&(e.href.baseVal=t),n()})).catch((function(t){e&&e.parentNode&&e.parentNode.removeChild(e),o(t)}))})))})),o.forEach((e=>{const t=[...e.style.backgroundImage.matchAll(l)];s.push(new Promise(((n,o)=>{Promise.allSettled(t.map((e=>new Promise(((t,n)=>{const o=e[1];0!==o.indexOf("data:")?g(u(o)).then((n=>{t({match:e[0],data:n})})).catch((e=>n(e))):t()}))))).then((t=>{t.filter((e=>"fulfilled"===e.status&&e.value)).forEach((t=>{e.style.backgroundImage=e.style.backgroundImage.replace(t.value.match,`url(${t.value.data})`)})),n()})).catch((function(e){o(e)}))})))})),Promise.allSettled(s).then((()=>{t()}))}))}function w(t){var n=document.createElement("a");document.body.appendChild(n);var o=e.filename||"snapshot-"+(new Date).getTime();e.scale&&1!==e.scale&&(o+="@"+e.scale+"x"),o+="."+e.format,n.download=o,n.href=t,n.click(),window.setTimeout((function(){document.body.removeChild(n)}),0)}function p(){return new Promise((function(t,o){c("serializing_xml","serializing xml");const a=window.getComputedStyle(document.documentElement).getPropertyValue("font-size");var l='<svg xmlns="http://www.w3.org/2000/svg" width="'+(e.width||document.body.clientWidth)+'" height="'+(e.height||document.body.clientHeight)+'" style="font-size:'+a+'"><defs><style type="text/css">';i.forEach((function(e){e.dataURL&&(l+="@font-face { font-family:"+e.family+"; font-weight:"+e.weight+"; font-style:"+e.style+"; unicode-range: "+e.unicode_range+"; src:url("+e.dataURL+"); }")})),l+="</style></defs>",l+='<foreignObject width="100%" height="100%" style="background:#fff">'+(new XMLSerializer).serializeToString(n)+"</foreignObject></svg>",r.serialized_xml_length=l.length,c("serialized_xml","serialized xml",l.length);var u=new Image;u.onload=function(){c("svg_image_loaded","svg image loaded"),setTimeout((function(){var n;try{var a=function(e,t,n){var o=document.createElement("canvas"),r=o.getContext("2d"),a=e.naturalWidth*(n||1),i=e.naturalHeight*(n||1);return o.width=a,o.height=i,o.style.backgroundColor="#fff",r.drawImage(e,0,0,a,i),o.toDataURL(t||"image/png")}(u,s,e.scale);n={status:"completed"},e.download?w(a):(n.data=a,n.logging=r),t(n)}catch(e){o("Sorry, the snapshot could not be generated")}}),0)},u.onerror=function(e){o("Snapshot could not be generated, probably because of an error in the template")},u.src="data:image/svg+xml;base64,"+y(l)}))}function y(e){const t=unescape(encodeURIComponent(e));return btoa(t)}function v(e,n){t?t.postMessage({result:{status:"error",error:e}}):(alert("Sorry, there was a problem"),console.error(e)),n&&n(e)}Promise.allSettled||(Promise.allSettled=function(e){const t=e.map((e=>Promise.resolve(e).then((e=>({status:"fulfilled",value:e}))).catch((e=>({status:"rejected",reason:e})))));return Promise.all(t)});var b="svg"===e.format?function(n){setTimeout((()=>function(n){for(var o,r=[],a=0,i=0,s=document.body.querySelectorAll("svg:not(.fl-ignore-svg-download)"),l=0;l<s.length;l++){var c=s[l];if(!c.classList.contains("flourish-popup-svg")){var u=c.getBoundingClientRect();a=Math.max(a,u.left+u.width),i=Math.max(i,u.top+u.height),r.push({svg:c,top:u.top,left:u.left})}}if(!r.length)return void v("No SVG found to export",n);1==r.length?o=(new XMLSerializer).serializeToString(r[0].svg):(o="<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='"+Math.ceil(a)+"px' height='"+Math.ceil(i)+"px'>",r.forEach((function(e){var t=e.svg.cloneNode(!0);t.setAttribute("x",e.left),t.setAttribute("y",e.top),o+=(new XMLSerializer).serializeToString(t)})),o+="</svg>");const f={result:{status:"completed"}};if(e.download){var d=URL.createObjectURL(new Blob([o]));w(d),URL.revokeObjectURL(d)}else f.result.data="data:image/svg+xml;base64,"+y(o);t&&t.postMessage(f),n&&n()}(n)),0)}:async function(e){if(document.implementation.hasFeature("www.http://w3.org/TR/SVG11/feature#Extensibility","1.1")){n=document.body.cloneNode(!0),c("cloned_document","cloned document");for(var o,a=n.querySelectorAll("script,style,link"),s=0;s<a.length;s++)a[s].parentNode.removeChild(a[s]);c("stripped_scripts_etc","stripped scripts etc"),await Promise.all([(o=n,new Promise((function(e,t){for(var n=document.body.querySelectorAll("canvas"),r=o.querySelectorAll("canvas"),a=0;a<r.length;a++){var i=r[a];if(i.height&&i.width){var s=i.getContext("2d");if(i.getContext("webgl")||i.getContext("experimental-webgl"))t("Sorry, this slide includes WebGL which cannot be snapshotted");else{s.drawImage(n[a],0,0);var l=n[a].getBoundingClientRect(),c=window.getComputedStyle(n[a]),u=document.createElement("img");u.style=c.cssText,u.width=l.width,u.height=l.height,u.src=i.toDataURL("image/png"),i.parentNode.insertBefore(u,i),i.style.display="none"}}}e()}))),f()]),await Promise.all([new Promise((function(e,t){r.fonts_to_inline=i.length,c("inlining_fonts","inlining fonts",i.length);var n=i.length;function o(){--n<=0&&e()}i.length||e(),i.forEach((function(e){e.url?g(e.url).then((function(t){e.dataURL=t,o()})).catch((function(e){o()})):o()}))})),m(n)]);try{const n=await p();t&&t.postMessage({result:n}),c("finished","finished"),e&&e()}catch(t){v(t,e)}}else v("Sorry, not supported on your browser",e)};return window.template.screenshot?window.template.screenshot(e,(function(){return new Promise((function(e,t){b((function(n){if(n)return t(n);e()}))}))})):b(),{status:"started"}}}();
//# sourceMappingURL=snapshot.js.map
</script><div class="font-samples" style="visibility: hidden; overflow: hidden; height: 0px;"></div></body></html>